"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8874],{38874:function(e,t,n){n.r(t);var a=n(1413),i=n(93433),c=n(4942),l=n(29439),o=n(47313),r=n(10976),u=n(77181),d=n(72652),s=n(23560),v=n(97890),f=n(73431),Z=n(2717),p=n(90954),g=n(57481),h=n(24511),m=n(85191),y=n(75336),b=n(16747),j=n(46417);t.default=function(){var e=(0,h.$)().t,t=(0,v.s0)(),n=(0,Z.I0)(),x=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,_=(0,o.useState)(!1),k=(0,l.Z)(_,2),w=k[0],U=k[1],C=r.Z.useForm(),F=(0,l.Z)(C,1)[0],M=(0,v.UO)().id,N=(0,Z.v9)((function(e){return e.formLang}),Z.wU).languages;(0,o.useEffect)((function(){return function(){var e=F.getFieldsValue(!0);n((0,p.nc)({activeMenu:x,data:e}))}}),[]);var O=function(e){U(!0),g.Z.getById(e).then((function(e){var t,l,o,r,u,d=e.data,s=(0,a.Z)((0,a.Z)((0,a.Z)({},d),function(e){if(!e)return{};var t=e.translations,n=N.map((function(e){var n,a,i,l;return l={},(0,c.Z)(l,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,c.Z)(l,"description[".concat(e.locale,"]"),null===(a=t.find((function(t){return t.locale===e.locale})))||void 0===a?void 0:a.description),(0,c.Z)(l,"address[".concat(e.locale,"]"),null===(i=t.find((function(t){return t.locale===e.locale})))||void 0===i?void 0:i.address),l}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(n)))}(d)),{},{category_id:{label:null===d||void 0===d||null===(t=d.category)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===d||void 0===d||null===(o=d.category)||void 0===o?void 0:o.id},active:!(null===e||void 0===e||null===(r=e.data)||void 0===r||!r.active)&&(null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.active)});F.setFieldsValue(s),n((0,p.nc)({activeMenu:x,data:s}))})).finally((function(){U(!1),n((0,p.A_)(x))}))};return(0,o.useEffect)((function(){x.refetch&&O(M)}),[x.refetch]),(0,j.jsx)(u.Z,{title:e("edit.career"),extra:(0,j.jsx)(f.Z,{}),children:w?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(d.Z,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(b.Z,{form:F,handleSubmit:function(i){var c=(0,a.Z)((0,a.Z)({},i),{},{active:Number(i.active),category_id:i.category_id.value,type:i.type,title:(0,y.Z)(N,i,"title"),description:(0,y.Z)(N,i,"description"),address:(0,y.Z)(N,i,"address")}),l="catalog/career";return g.Z.update(M,c).then((function(){s.Am.success(e("successfully.updated")),(0,Z.dC)((function(){n((0,p.ph)((0,a.Z)((0,a.Z)({},x),{},{nextUrl:l}))),n((0,m.a)({}))})),t("/".concat(l))})).catch((function(e){return console.error(e.response.data.params)}))}})})}}}]);