"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5572],{55940:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),a=t(45987),r=(t(47313),t(59491)),l=t(47515),c=t(23560),o=t(24511),s=t(79492),u=t(46417),d=["size","onClick","type"];function h(e){var n=e.size,t=void 0===n?"":n,h=e.onClick,f=e.type,v=void 0===f?"default":f,p=(0,a.Z)(e,d),Z=(0,o.$)().t,m=(0,s.Z)().isDemo;return(0,u.jsx)(r.Z,(0,i.Z)({size:t,icon:(0,u.jsx)(l.Z,{}),onClick:function(e){m?c.Am.warning(Z("cannot.work.demo")):h(e)},type:v},p))}},53233:function(e,n,t){var i=t(1413),a=t(29439),r=t(47313),l=t(56140),c=t(67251),o=t(45705),s=t(86345),u=t(78267),d=t(37388),h=t(59491),f=t(99587),v=t(24511),p=t(46417),Z=l.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,l=e.setColumns,m=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,y=(0,v.$)().t,b=(0,r.useState)(!1),C=(0,a.Z)(b,2),w=C[0],k=C[1],_=(0,p.jsx)(c.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(c.Z.Item,{children:(0,p.jsxs)(o.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(Z,{children:e.title}),(0,p.jsx)(s.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));l(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(u.Z,{overlay:_,trigger:["click"],onVisibleChange:function(e){k(e)},visible:w,children:(0,p.jsx)(d.Z,{title:y("change.columns"),children:(0,p.jsx)(h.Z,{style:(0,i.Z)({},m),size:g,icon:(0,p.jsx)(f.Z,{}),children:j?null:y("Columns")})})})}},49655:function(e,n,t){t.d(n,{_:function(){return m}});var i=t(1413),a=t(93433),r=t(15861),l=t(29439),c=t(45987),o=t(87757),s=t.n(o),u=t(47313),d=t(12279),h=t.n(d),f=t(74294),v=t(72652),p=t(46417),Z=["fetchOptions","debounceTimeout","hasMore","refetchOnFocus"],m=function(e){var n=e.fetchOptions,t=e.debounceTimeout,o=void 0===t?400:t,d=e.hasMore,m=e.refetchOnFocus,x=void 0!==m&&m,g=(0,c.Z)(e,Z),j=(0,u.useState)(!1),y=(0,l.Z)(j,2),b=y[0],C=y[1],w=(0,u.useState)([]),k=(0,l.Z)(w,2),_=k[0],S=k[1],z=(0,u.useState)(!1),V=(0,l.Z)(z,2),H=V[0],M=V[1],I=(0,u.useState)(null),O=(0,l.Z)(I,2),N=O[0],A=O[1],P=(0,u.useState)(1),T=(0,l.Z)(P,2),F=T[0],E=T[1],L=(0,u.useMemo)((function(){return h()((function(e){S([]),A(e),C(!0),n({search:e}).then((function(e){S(e),E(2),C(!1)})).finally((function(){return M(!1)}))}),o)}),[n,o,F]),W=function(){var e=(0,r.Z)(s().mark((function e(t){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.target,H||i.scrollTop+i.offsetHeight!==i.scrollHeight||d&&(M(!0),n({search:N,page:F}).then((function(e){E((function(e){return e+1})),S([].concat((0,a.Z)(_),(0,a.Z)(e)))})).finally((function(){return M(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(f.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,onPopupScroll:W,labelInValue:!0,filterOption:!1,onSearch:L,notFoundContent:b?(0,p.jsx)(v.Z,{size:"small"}):"no results",onFocus:function(){x?L(""):null!==_&&void 0!==_&&_.length||L("")}},g),{},{children:[_.map((function(e,n){return(0,p.jsx)(f.Z.Option,{value:e.value,children:e.label},n)})),H&&(0,p.jsx)(f.Z.Option,{children:(0,p.jsx)(v.Z,{size:"small"})})]}))}},48008:function(e,n,t){t(47313);var i=t(9274),a=t(87569),r=t(59491),l=t(24511),c=t(46417);n.Z=function(e){var n=e.open,t=e.handleCancel,o=e.text,s=e.click,u=e.loading,d=e.subTitle,h=(0,l.$)().t;return(0,c.jsxs)(i.Z,{closable:!1,visible:n,footer:null,centered:!0,children:[(0,c.jsx)(a.ZP,{status:"warning",title:o,subTitle:d}),(0,c.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,c.jsx)(r.Z,{type:"primary",className:"mr-2",onClick:s,loading:u,children:h("yes")}),(0,c.jsx)(r.Z,{onClick:function(){return t()},children:h("no")})]})]})}},41481:function(e,n,t){t.d(n,{Z:function(){return h}});var i=t(1413),a=t(29439),r=t(45987),l=t(47313),c=t(66672),o=t(16031),s=t(40765),u=t(46417),d=["handleChange","defaultValue","resetSearch"];function h(e){var n=e.handleChange,t=e.defaultValue,h=e.resetSearch,f=(0,r.Z)(e,d),v=(0,l.useState)(t),p=(0,a.Z)(v,2),Z=p[0],m=p[1],x=(0,l.useMemo)((function(){return(0,o.debounce)((function(e){n(e)}),800)}),[n]);return(0,l.useEffect)((function(){m(t)}),[h,t]),(0,u.jsx)(c.Z,(0,i.Z)({value:Z,onChange:function(e){m(e.target.value),x(e.target.value)},prefix:(0,u.jsx)(s.Z,{})},f))}},13945:function(e,n,t){function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return i}})},85572:function(e,n,t){t.r(n),t.d(n,{default:function(){return ne}});var i=t(4942),a=t(93433),r=t(1413),l=t(15861),c=t(29439),o=t(87757),s=t.n(o),u=t(47313),d=t(12019),h=t(66407),f=t(47515),v=t(55768),p=t(15386),Z=t(73591),m=t(45705),x=t(66204),g=t(26824),j=t(86345),y=t(59491),b=t(77181),C=t(78508),w=t(97421),k=t(74580),_=t(97890),S=t(23560),z=t(69658),V=t(2717),H=t(90954),M=t(30763),I=t(24511),O=t(55940),N=t(53233),A=t(41481),P=t(80314),T=t(26672),F=t(3925),E=t(48008),L=t(13945),W=t(74380),$=t(10976),R=t(9274),U=t(68197),B=t(59624),D=t(74294),K=t(46417),q=["pending","published","unpublished"];function Q(e){var n=e.data,t=e.handleCancel,i=e.paramsData,a=(0,V.I0)(),l=(0,I.$)().t,o=(0,V.v9)((function(e){return e.menu}),V.wU).activeMenu,s=$.Z.useForm(),d=(0,c.Z)(s,1)[0],h=(0,u.useState)(!1),f=(0,c.Z)(h,2),v=f[0],p=f[1];return(0,K.jsx)(R.Z,{visible:!!n,title:null===n||void 0===n?void 0:n.title,onCancel:t,footer:[(0,K.jsx)(y.Z,{type:"primary",onClick:function(){return d.submit()},loading:v,children:l("save")}),(0,K.jsx)(y.Z,{type:"default",onClick:t,children:l("cancel")})],children:(0,K.jsx)($.Z,{form:d,layout:"vertical",onFinish:function(e){p(!0);var l=(0,r.Z)({},e);M.Z.statusUpdate(n.uuid,l).then((function(){t(),a((0,W.P2)(i)),a((0,H.A_)(o))})).finally((function(){return p(!1)}))},initialValues:{status:n.status},children:(0,K.jsx)(U.Z,{gutter:12,children:(0,K.jsx)(B.Z,{span:24,children:(0,K.jsx)($.Z.Item,{label:l("status"),name:"status",rules:[{required:!0,message:l("required")}],children:(0,K.jsx)(D.Z,{children:q.map((function(e,n){return(0,K.jsx)(D.Z.Option,{value:e,children:l(e)},e+n)}))})})})})})})}var G=t(53149),J=t(49655),X=["blue","red","gold","volcano","cyan","lime"],Y=Z.Z.TabPane,ee=["all","pending","published","unpublished","deleted_at"],ne=function(){var e,n,t,o,$,R,U=(0,I.$)().t,B=(0,V.I0)(),D=(0,_.s0)(),q=(0,V.v9)((function(e){return e.menu}),V.wU).activeMenu,ne=(0,u.useState)(null),te=(0,c.Z)(ne,2),ie=te[0],ae=te[1],re=(0,u.useState)("all"),le=(0,c.Z)(re,2),ce=le[0],oe=le[1],se=(0,u.useState)(null),ue=(0,c.Z)(se,2),de=ue[0],he=ue[1],fe=(0,u.useState)(null),ve=(0,c.Z)(fe,2),pe=ve[0],Ze=ve[1],me=(null===(e=q.data)||void 0===e?void 0:e.role)||ce,xe=(0,u.useState)(null),ge=(0,c.Z)(xe,2),je=ge[0],ye=ge[1];function be(){return(be=(0,l.Z)(s().mark((function e(n){var t,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.search,i=n.page,a={search:0===(null===t||void 0===t?void 0:t.length)?void 0:t,status:"approved",page:i},e.abrupt("return",G.Z.search(a).then((function(e){return ye(e.links),e.data.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||U("no.name"),value:null===e||void 0===e?void 0:e.id}}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=(0,u.useState)([{title:U("id"),dataIndex:"id",key:"id",is_show:!0},{title:U("name"),dataIndex:"name",key:"name",is_show:!0},{title:U("created.by"),dataIndex:"shop",key:"shop",is_show:!0,render:function(e){var n;return e?(0,K.jsx)("span",{onClick:function(){return function(e){B((0,H.bL)({id:"edit-shop",url:"shop/".concat(e.uuid),name:U("edit.shop")})),D("/shop/".concat(e.uuid),{state:"edit"})}(e)},className:"text-hover",children:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||U("no.name")}):U("admin")}},{title:U("translations"),dataIndex:"locales",is_show:!0,render:function(e,n){var t;return(0,K.jsx)(m.Z,{children:null===(t=n.locales)||void 0===t?void 0:t.map((function(e,n){return(0,K.jsx)(x.Z,{className:"text-uppercase",color:[X[n]],children:e})}))})}},{title:U("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,n){return(0,K.jsx)(g.Z,{src:n.deleted_at?"https://via.placeholder.com/150":e,alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+n.id)}},{title:U("active"),dataIndex:"active",is_show:!0,render:function(e,n){return(0,K.jsx)(j.Z,{onChange:function(){Se(!0),Me(n.uuid),he(!0)},disabled:n.deleted_at,checked:e})}},{title:U("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,n){return(0,K.jsxs)("div",{children:["pending"===e?(0,K.jsx)(x.Z,{color:"blue",children:U(e)}):"unpublished"===e?(0,K.jsx)(x.Z,{color:"error",children:U(e)}):(0,K.jsx)(x.Z,{color:"cyan",children:U(e)}),n.deleted_at?"":(0,K.jsx)(d.Z,{onClick:function(){return Ze(n)}})]})}},{title:U("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,K.jsxs)(m.Z,{children:[(0,K.jsx)(y.Z,{type:"primary",icon:(0,K.jsx)(d.Z,{}),onClick:function(){return function(e){B((0,H.bL)({url:"recipe-category/edit/".concat(e.uuid),id:"category_edit",name:U("edit.category")})),D("/recipe-category/edit/".concat(null===e||void 0===e?void 0:e.uuid),{state:"edit"})}(n)},disabled:n.deleted_at}),(0,K.jsx)(y.Z,{icon:(0,K.jsx)(h.Z,{}),onClick:function(){return e=n.uuid,B((0,H.bL)({id:"category-clone",url:"recipe-category-clone/".concat(e),name:U("category.clone")})),void D("/recipe-category-clone/".concat(e),{state:"clone"});var e},disabled:n.deleted_at}),(0,K.jsx)(O.Z,{disabled:n.deleted_at,icon:(0,K.jsx)(f.Z,{}),onClick:function(){Me([n.id]),Se(!0),Re(!0)}})]})}}]),we=(0,c.Z)(Ce,2),ke=we[0],_e=we[1],Se=(0,u.useContext)(k._).setIsModalVisible,ze=(0,u.useState)(null),Ve=(0,c.Z)(ze,2),He=Ve[0],Me=Ve[1],Ie=(0,u.useState)(!1),Oe=(0,c.Z)(Ie,2),Ne=Oe[0],Ae=Oe[1],Pe=(0,u.useState)(!1),Te=(0,c.Z)(Pe,2),Fe=Te[0],Ee=Te[1],Le=(0,u.useState)(null),We=(0,c.Z)(Le,2),$e=We[0],Re=We[1],Ue=(0,V.v9)((function(e){return e.recipeCategory}),V.wU),Be=Ue.categories,De=Ue.meta,Ke=Ue.loading,qe=q.data,Qe={search:null===qe||void 0===qe?void 0:qe.search,pageSize:De.per_page,page:(null===qe||void 0===qe?void 0:qe.page)||1,status:"deleted_at"===me||"all"===me?void 0:me,deleted_at:"deleted_at"===me?me:void 0,shop_id:null===qe||void 0===qe||null===(n=qe.selectedShop)||void 0===n?void 0:n.value};(0,u.useEffect)((function(){q.refetch&&(B((0,W.P2)(Qe)),B((0,H.A_)(q)))}),[q.refetch]),(0,P.Z)((function(){B((0,W.P2)(Qe))}),[q.data]);var Ge={selectedRowKeys:He,onChange:function(e){Me(e)}},Je=function(e){var n=q.data;B((0,H.nc)({activeMenu:q,data:(0,r.Z)((0,r.Z)({},n),e)}))};return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(b.Z,{className:"p-0",children:(0,K.jsxs)(m.Z,{wrap:!0,size:[14,20],children:[(0,K.jsx)(A.Z,{placeholder:U("search"),className:"w-25",handleChange:function(e){Je({search:e})},defaultValue:null===(t=q.data)||void 0===t?void 0:t.search,resetSearch:!(null!==(o=q.data)&&void 0!==o&&o.search),style:{minWidth:300}}),(0,K.jsx)(J._,{placeholder:U("select.shop"),hasMore:null===je||void 0===je?void 0:je.next,loading:Ke,fetchOptions:function(e){return be.apply(this,arguments)},style:{minWidth:180},onChange:function(e){return Je({selectedShop:e})},value:null===($=q.data)||void 0===$?void 0:$.selectedShop}),"deleted_at"!==me?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(O.Z,{size:"",onClick:function(){null===He||0===He.length?S.Am.warning(U("select.the.product")):(Se(!0),Re(!1))},children:U("delete.selected")}),(0,K.jsx)(O.Z,{onClick:function(){return ae({delete:!0})},children:U("delete.all")}),(0,K.jsxs)(y.Z,{style:{minWidth:150},onClick:function(){B((0,H.bL)({url:"recipe-categories/import",id:"category_import",name:U("import.category")})),D("/recipe-categories/import")},children:[(0,K.jsx)(F.o5r,{className:"mr-2"}),U("import")]}),(0,K.jsxs)(y.Z,{style:{minWidth:150},loading:Fe,onClick:function(){Ee(!0);var e={type:"receipt",status:"all"===ce?void 0:ce};M.Z.export(e).then((function(e){var n=w.S0+e.data.file_name;window.location.href=n})).finally((function(){return Ee(!1)}))},children:[(0,K.jsx)(F.bwQ,{className:"mr-2"}),U("export")]}),(0,K.jsx)(y.Z,{type:"primary",icon:(0,K.jsx)(v.Z,{}),onClick:function(){B((0,H.bL)({id:"category-add",url:"recipe-category/add",name:U("add.category")})),D("/recipe-category/add")},children:U("add.category")})]}):(0,K.jsx)(O.Z,{icon:(0,K.jsx)(T.uOc,{className:"mr-2"}),onClick:function(){return ae({restore:!0})},children:U("restore.all")}),(0,K.jsx)(y.Z,{icon:(0,K.jsx)(p.Z,{}),onClick:function(){B((0,H.nc)({activeMenu:q,data:void 0}))},disabled:!q.data,style:{minWidth:100}}),(0,K.jsx)(N.Z,{columns:ke,setColumns:_e})]})}),(0,K.jsxs)(b.Z,{title:U("categories"),children:[(0,K.jsx)(Z.Z,{className:"mt-3",activeKey:me,onChange:function(e){Je({role:e,page:1}),oe(e)},type:"card",children:ee.map((function(e){return(0,K.jsx)(Y,{tab:U(e)},e)}))}),(0,K.jsx)(C.Z,{scroll:{x:!0},rowSelection:Ge,columns:null===ke||void 0===ke?void 0:ke.filter((function(e){return e.is_show})),dataSource:Be,pagination:{pageSize:De.per_page,page:(null===qe||void 0===qe?void 0:qe.page)||1,total:De.total,defaultCurrent:null===qe||void 0===qe?void 0:qe.page,current:null===(R=q.data)||void 0===R?void 0:R.page},rowKey:function(e){return e.id},onChange:function(e,n,t){var i=e.pageSize,a=e.current,l=t.field,c=t.order,o=(0,L.Z)(c);B((0,H.nc)({activeMenu:q,data:(0,r.Z)((0,r.Z)({},q.data),{},{perPage:i,page:a,column:l,sort:o})}))},loading:Ke})]}),(0,K.jsx)(z.Z,{click:de?function(){Ae(!0),M.Z.setActive(He).then((function(){Se(!1),B((0,W.P2)(Qe)),S.Am.success(U("successfully.updated")),he(!1)})).finally((function(){return Ae(!1)}))}:function(){Ae(!0);var e=(0,r.Z)({},Object.assign.apply(Object,[{}].concat((0,a.Z)(He.map((function(e,n){return(0,i.Z)({},"ids[".concat(n,"]"),e)}))))));M.Z.delete(e).then((function(){B((0,W.P2)(Qe)),S.Am.success(U("successfully.deleted"))})).finally((function(){Se(!1),Ae(!1),Re(null),Me(null)}))},text:U(de?"set.active.product":$e?"delete":"all.delete"),setText:Me,setActive:he,loading:Ne}),ie&&(0,K.jsx)(E.Z,{open:ie,handleCancel:function(){return ae(null)},click:ie.restore?function(){Ae(!0),M.Z.restoreAll().then((function(){S.Am.success(U("successfully.restored")),B((0,W.P2)()),ae(null)})).finally((function(){return Ae(!1)}))}:function(){Ae(!0),M.Z.dropAll().then((function(){S.Am.success(U("successfully.deleted")),B((0,W.P2)({})),ae(null)})).finally((function(){return Ae(!1)}))},text:ie.restore?U("restore.modal.text"):U("read.carefully"),subTitle:ie.restore?"":U("confirm.deletion"),loading:Ne,setText:Me}),pe&&(0,K.jsx)(Q,{data:pe,handleCancel:function(){return Ze(null)},paramsData:Qe})]})}},15386:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(1413),a=t(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},l=t(17469),c=function(e,n){return a.createElement(l.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};c.displayName="ClearOutlined";var o=a.forwardRef(c)},55768:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(1413),a=t(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=t(17469),c=function(e,n){return a.createElement(l.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};c.displayName="PlusCircleOutlined";var o=a.forwardRef(c)},99587:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(1413),a=t(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},l=t(17469),c=function(e,n){return a.createElement(l.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:r}))};c.displayName="TableOutlined";var o=a.forwardRef(c)}}]);