"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1543],{31543:function(t,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=a(29439),u=a(47313),i=a(77181),o=a(59491),d=a(2717),r=a(24511),l=a(91107),c=a(34632),s=a(66736),p=a(34344),f={upload:function(t){return p.Z.post("dashboard/admin/project-upload",t)},update:function(t){return p.Z.post("dashboard/admin/project-update",t)}},h=a(90954),m=a(23560),b=a(46417);function v(){var t=(0,u.useState)(!1),e=(0,n.Z)(t,2),a=e[0],p=e[1],v=(0,d.I0)(),g=(0,r.$)().t,j=(0,d.v9)((function(t){return t.menu}),d.wU).activeMenu,x=function(t){return{uid:t.title,name:t.title,status:"done",url:t.title,created:!0}};return(0,b.jsx)(i.Z,{title:g("update"),extra:(0,b.jsx)(o.Z,{type:"primary",icon:(0,b.jsx)(c.Z,{}),loading:a,onClick:function(){p(!0),f.update().then((function(){return m.Am.success(g("successfully.updated"))})).finally((function(){return p(!1)}))},children:g("update.database")}),children:(0,b.jsxs)(l.Z,{name:"file",multiple:!1,maxCount:1,customRequest:function(t){var e=t.file,a=t.onSuccess,n=new FormData;n.append("file",e),f.upload(n).then((function(t){var e=t.data;v((0,h.nc)({activeMenu:j,data:x(e)})),a("ok")}))},defaultFileList:null!==j&&void 0!==j&&j.data?[null===j||void 0===j?void 0:j.data]:null,beforeUpload:function(t){var e="image/png"===t.type,a="image/jpg"===t.type,n="image/jpeg"===t.type;if(e||n||a)return m.Am.error("".concat(t.name," is not valid file")),!1},children:[(0,b.jsx)("p",{className:"ant-upload-drag-icon",children:(0,b.jsx)(s.Z,{})}),(0,b.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,b.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}}}]);