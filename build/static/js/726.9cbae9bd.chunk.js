"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[726],{13944:function(e,t,n){var r=n(1413),i=n(47313),o=n(77181),a=n(58446),l=n(27834),s=n(33533),c=n(46417),u={position:"absolute",zIndex:"1"},d={position:"absolute",zIndex:"1",right:"0",top:"-2px"},h=function(e){var t=e.title,n=e.series,h=e.width,f=e.height,v=e.xAxis,p=e.customOptions,x=e.card,m=e.type,g=e.extra,y=e.direction,Z=e.bodyClass,j=JSON.parse(JSON.stringify(function(e){switch(e){case"line":default:return s.jd;case"bar":return s.B0;case"area":return s.fT;case"pie":return s.LB}}(m))),b=window.innerWidth<768,_=function(){if(z.current){var e,t=z.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight="".concat(b?0:null===(e=w.current)||void 0===e?void 0:e.offsetWidth,"px"),"rtl"===y&&(t.style.right="auto",t.style.left="0"),b&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,i.useEffect)((function(){_()}),[]);var w=(0,i.useRef)(null),z=(0,i.useRef)();j.xaxis={categories:v},p&&(j=(0,r.Z)((0,r.Z)({},j),p));var C=function(){return(0,c.jsx)(l.ZP,{onResize:void setTimeout((function(){_()}),600),children:(0,c.jsx)("div",{style:"rtl"===y?{direction:"ltr"}:{},className:"chartRef",ref:z,children:(0,c.jsx)(a.Z,{options:j,type:m,series:n,width:h,height:f})})})};return(0,c.jsx)(c.Fragment,{children:x?(0,c.jsx)(o.Z,{children:(0,c.jsxs)("div",{className:"position-relative ".concat(Z),children:[(0,c.jsx)("div",{style:b?{}:u,children:t})&&(0,c.jsx)("h4",{className:"font-weight-bold",style:b?{}:u,children:t}),g&&(0,c.jsx)("div",{ref:w,style:b?{}:d,children:g}),C()]})}):C()})};h.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"},t.Z=h},53233:function(e,t,n){var r=n(1413),i=n(29439),o=n(47313),a=n(56140),l=n(67251),s=n(45705),c=n(86345),u=n(78267),d=n(37388),h=n(59491),f=n(99587),v=n(24511),p=n(46417),x=a.Z.Text;t.Z=function(e){var t=e.columns,n=void 0===t?[]:t,a=e.setColumns,m=e.style,g=e.size,y=void 0===g?"":g,Z=e.iconOnly,j=(0,v.$)().t,b=(0,o.useState)(!1),_=(0,i.Z)(b,2),w=_[0],z=_[1],C=(0,p.jsx)(l.Z,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,p.jsx)(l.Z.Item,{children:(0,p.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(x,{children:e.title}),(0,p.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var t=null===n||void 0===n?void 0:n.map((function(t){return t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t}));a(t)}(e)},disabled:1===t})]})},e+t)}))});return(0,p.jsx)(u.Z,{overlay:C,trigger:["click"],onVisibleChange:function(e){z(e)},visible:w,children:(0,p.jsx)(d.Z,{title:j("change.columns"),children:(0,p.jsx)(h.Z,{style:(0,r.Z)({},m),size:y,icon:(0,p.jsx)(f.Z,{}),children:Z?null:j("Columns")})})})}},22133:function(e,t,n){var r=n(56140),i=n(68197),o=n(59624),a=n(77181),l=n(45705),s=n(74294),c=n(46155),u=n(47313),d=n(16034),h=n(88038),f=n(13944),v=n(33533),p=n(24511),x=n(93131),m=n(46417),g=r.Z.Title;t.Z=function(e){var t=e.reportData,n=void 0===t?{}:t,r=(0,u.useContext)(x.G),y=r.by_time,Z=r.options,j=r.handleByTime,b=r.chart_type,_=r.setChartType,w=(0,p.$)().t,z=(0,u.useMemo)((function(){var e;return null===n||void 0===n||null===(e=n.chart)||void 0===e?void 0:e.map((function(e){return e.time}))}),[null===n||void 0===n?void 0:n.chart]),C=(0,u.useMemo)((function(){var e;return Boolean(n.charts)?n.charts.map((function(e){var t;return{name:e.translation.title,data:(null===(t=e.stocks)||void 0===t?void 0:t.map((function(e){return e.total_order_quantity||e.avg_quantity||e.quantity||e.count||e.price||e.order_details_sum_quantity||0})))||[]}})):[{name:w("orders"),data:(null===n||void 0===n||null===(e=n.chart)||void 0===e?void 0:e.map((function(e){return parseInt(e.count||e.total_price||e.quantity||e.price||e.products_count||e.order_details_avg_quantity||e.order_details_avg_total_price||e.order_details_sum_quantity||e.avg_price||e.avg_quantity||0,10)})))||[]}]}),[null===n||void 0===n?void 0:n.chart]);return(0,m.jsx)(i.Z,{gutter:24,children:(0,m.jsx)(o.Z,{span:24,children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)(i.Z,{gutter:24,className:"w-100",children:(0,m.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,m.jsx)(l.Z,{size:"large",className:"d-flex",children:(0,m.jsx)(g,{level:3,className:"mb-0",children:w("item.sold")})}),(0,m.jsxs)("div",{className:"d-flex",children:[(0,m.jsx)(s.Z,{style:{width:100},onChange:j,options:Z,defaultValue:y}),(0,m.jsx)(c.Z,{type:"vertical",style:{height:"100%"}}),(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(d.Z,{style:{fontSize:"22px",cursor:"pointer",color:"area"===b?"green":""},onClick:function(){return _("area")}}),(0,m.jsx)(h.Z,{style:{fontSize:"22px",cursor:"pointer",color:"bar"===b?"green":""},onClick:function(){return _("bar")}})]})]})]})}),(0,m.jsx)(c.Z,{}),(0,m.jsx)(f.Z,{type:b||"area",card:!1,series:C,xAxis:z,height:280,customOptions:{colors:[v.DM[1],v.DM[2],v.DM[3],v.DM[4],v.DM[5],v.DM[6],v.DM[0]],legend:{show:!1},stroke:{width:2.5,curve:"smooth"}}})]})})})}},89281:function(e,t,n){n.d(t,{h:function(){return f}});var r=n(1413),i=n(29439),o=n(45987),a=n(47313),l=n(12279),s=n.n(l),c=n(74294),u=n(72652),d=n(46417),h=["fetchOptions","debounceTimeout","onClear"],f=function(e){var t=e.fetchOptions,n=e.debounceTimeout,l=void 0===n?400:n,f=e.onClear,v=(0,o.Z)(e,h),p=(0,a.useState)(!1),x=(0,i.Z)(p,2),m=x[0],g=x[1],y=(0,a.useState)([]),Z=(0,i.Z)(y,2),j=Z[0],b=Z[1],_=(0,a.useMemo)((function(){return s()((function(e){b([]),g(!0),t(e).then((function(e){b(e),g(!1)}))}),l)}),[t,l]);return(0,d.jsx)(c.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:_,onClear:function(){_(""),f&&f()},notFoundContent:m?(0,d.jsx)(u.Z,{size:"small"}):"no results"},v),{},{options:j,onFocus:function(){_("")}}))}},33533:function(e,t,n){n.d(t,{B0:function(){return l},DM:function(){return i},LB:function(){return s},fT:function(){return a},jd:function(){return o}});var r=n(1413),i=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],o={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[].concat(i),dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},a=(0,r.Z)({},o),l={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[].concat(i),dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(e)}}}},s={colors:[].concat(i),plotOptions:{pie:{size:200,donut:{labels:{show:!0,total:{show:!1,showAlways:!0,label:"",fontSize:"18px",fontFamily:"Roboto",fontWeight:"bold",color:"#1a3353",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)+"Orders count"}}},size:"100%"}}},labels:[],dataLabels:{enabled:!0},legend:{show:!0}}},84017:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67968);function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,a=null===(e=r.h.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,l=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),s=i||(null===a||void 0===a?void 0:a.symbol)||"$",c=o||(null===a||void 0===a?void 0:a.position)||"before";return"after"===c?"".concat(l," ").concat(s):"".concat(s," ").concat(l)}},80726:function(e,t,n){n.r(t);var r=n(15861),i=n(29439),o=n(87757),a=n.n(o),l=n(56140),s=n(99096),c=n(66204),u=n(78267),d=n(67251),h=n(72652),f=n(68197),v=n(59624),p=n(45705),x=n(77181),m=n(78508),g=n(47313),y=n(90954),Z=n(2717),j=n(22133),b=n(70816),_=n.n(b),w=n(93131),z=n(53233),C=n(97890),k=n(24511),N=n(97806),I=n(80314),S=n(84017),q=n(89281),O=n(53149),M=n(46417),V=l.Z.Text,H=l.Z.Title,T=s.Z.RangePicker;t.default=function(){var e=(0,Z.I0)(),t=(0,C.s0)(),n=(0,k.$)().t,o=(0,g.useContext)(w.G),l=o.date_from,s=o.date_to,b=o.by_time,D=o.chart,L=o.handleChart,F=o.handleDateRange,R=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,A=(0,Z.v9)((function(e){return e.orderReport}),Z.wU),B=A.loading,P=A.chartData,E=A.productList,$=(0,Z.v9)((function(e){return e.currency}),Z.wU).defaultCurrency,W=(0,g.useState)(),U=(0,i.Z)(W,2),G=U[0],J=U[1],Y=(0,g.useState)([{title:"Order #",dataIndex:"id",key:"id",is_show:!0,render:function(e,t){return(0,M.jsxs)("a",{onClick:function(){return te(t)},children:["#",t.id]})}},{title:"Status",dataIndex:"items_sold",key:"items_sold",is_show:!0,render:function(e,t){return(0,M.jsx)(c.Z,{children:t.status})}},{title:"Customer",dataIndex:"user_firstname",key:"user_firstname",is_show:!0,render:function(e,t){return(0,M.jsx)(M.Fragment,{children:"".concat(t.firstname," ").concat(t.lastname)})}},{title:"Customer type",key:"user_active",dataIndex:"user_active",is_show:!0,render:function(e,t){var n=Boolean(t.active);return(0,M.jsx)(c.Z,{color:n?"green":"red",children:n?"Active":"Inactive"},t.id)}},{title:"Product(s)",key:"category",dataIndex:"category",is_show:!0,render:function(e,t){var n,r,i;return(null===(n=t.products)||void 0===n?void 0:n.length)>1?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("p",{children:t.products[0]}),(0,M.jsx)(u.Z,{overlay:(0,M.jsx)(d.Z,{children:null===(r=t.products)||void 0===r?void 0:r.slice(1,t.products.length).map((function(e,t){return(0,M.jsx)(d.Z.Item,{children:e},t)}))}),children:(0,M.jsx)(c.Z,{style:{cursor:"pointer"},children:"+ ".concat((null===(i=t.products)||void 0===i?void 0:i.length)-1," more")})})]}):(0,M.jsx)(M.Fragment,{children:t.products[0]})}},{title:"Item sold",key:"item_sold",dataIndex:"item_sold",sorter:function(e,t){return Number(e.quantity)-Number(t.quantity)},is_show:!0,render:function(e,t){return Number(t.quantity)}},{title:"Net sales",key:"price",dataIndex:"price",is_show:!0,sorter:function(e,t){return e.price-t.price},render:function(e,t){return(0,M.jsx)(M.Fragment,{children:(0,S.Z)(t.price,null===$||void 0===$?void 0:$.symbol,null===$||void 0===$?void 0:$.position)})}}]),K=(0,i.Z)(Y,2),Q=K[0],X=K[1],ee=[{label:"Item sold",value:"quantity",price:!1,qty:"quantity"},{label:"Net sales",value:"price",price:!0,qty:"price"},{label:"Avg Order price",value:"avg_price",price:!0,qty:"avg_price"},{label:"Orders",value:"count",price:!1,qty:"count"}],te=function(r){e((0,y.bL)({url:"order/details/".concat(r.id),id:"order_details",name:n("order.details")})),t("/order/details/".concat(r.id))},ne=function(){if(ee.find((function(e){return e.value===D}))){var t={date_from:l,date_to:s,type:b,chart:D,shop_id:null===G||void 0===G?void 0:G.value};e((0,N.zL)(t))}},re=function(t,n){e((0,N.Pf)({date_from:l,date_to:s,by_time:b,chart:D,page:t,perPage:n,shop_id:null===G||void 0===G?void 0:G.value}))};(0,g.useEffect)((function(){L(ee[0].value)}),[]),(0,g.useEffect)((function(){R.refetch&&(re(),ne(),e((0,y.A_)(R)))}),[R.refetch]),(0,I.Z)((function(){re()}),[s,b,D,l,null===G||void 0===G?void 0:G.value]),(0,I.Z)((function(){ne()}),[s,b,D,l,null===G||void 0===G?void 0:G.value]);function ie(){return(ie=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t,active:1},e.abrupt("return",O.Z.get(n).then((function(e){return e.data.map((function(e){return{label:e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,M.jsxs)(h.Z,{size:"large",spinning:B,children:[(0,M.jsx)(f.Z,{gutter:24,className:"mb-3",children:(0,M.jsx)(v.Z,{span:12,children:(0,M.jsxs)(p.Z,{size:"large",children:[(0,M.jsx)(T,{defaultValue:[_()(l),_()(s)],onChange:F}),(0,M.jsx)(q.h,{style:{width:"200px"},value:G,onClear:function(){return J(void 0)},onSelect:function(e){return J(e)},fetchOptions:function(e){return ie.apply(this,arguments)},placeholder:n("select.shop")})]})})}),(0,M.jsx)(f.Z,{gutter:24,className:"report-products",children:null===ee||void 0===ee?void 0:ee.map((function(e,t){return(0,M.jsx)(v.Z,{span:6,onClick:function(){return L(e.value)},children:(0,M.jsxs)(x.Z,{className:D===e.value&&"active",children:[(0,M.jsx)(f.Z,{className:"mb-5",children:(0,M.jsx)(v.Z,{children:(0,M.jsx)(V,{children:e.label})})}),(0,M.jsx)(f.Z,{gutter:24,children:(0,M.jsx)(v.Z,{span:18,children:(0,M.jsx)(H,{level:2,children:e.price?(0,S.Z)(P[e.qty],null===$||void 0===$?void 0:$.symbol,null===$||void 0===$?void 0:$.position):P[e.qty]})})})]})},e.label)}))}),(0,M.jsx)(j.Z,{reportData:P,chart_data:"price_avg"}),(0,M.jsx)(f.Z,{gutter:24,children:(0,M.jsx)(v.Z,{span:24,children:(0,M.jsxs)(x.Z,{children:[(0,M.jsxs)(p.Z,{className:"d-flex justify-content-between",children:[(0,M.jsx)(V,{level:3,children:"Orders"}),(0,M.jsxs)(p.Z,{className:"d-flex justify-content-end",children:[(0,M.jsx)(c.Z,{color:"geekblue",children:n("compare")}),(0,M.jsx)(z.Z,{columns:Q,setColumns:X})]})]}),(0,M.jsx)(m.Z,{columns:null===Q||void 0===Q?void 0:Q.filter((function(e){return e.is_show})),dataSource:null===E||void 0===E?void 0:E.data,rowKey:function(e){return e.id},loading:B,pagination:{pageSize:null===E||void 0===E?void 0:E.per_page,page:(null===E||void 0===E?void 0:E.current_page)||1,total:null===E||void 0===E?void 0:E.total,defaultCurrent:1},onChange:function(e){var t=e.pageSize,n=e.current;re(n,t)},scroll:{x:1200}})]})})})]})}},16034:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),i=n(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"},a=n(17469),l=function(e,t){return i.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};l.displayName="LineChartOutlined";var s=i.forwardRef(l)},99587:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(1413),i=n(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},a=n(17469),l=function(e,t){return i.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};l.displayName="TableOutlined";var s=i.forwardRef(l)}}]);