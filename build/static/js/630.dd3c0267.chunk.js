"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[630],{13622:function(e,n,t){t.d(n,{R:function(){return p}});var i=t(1413),l=t(29439),a=t(45987),r=t(47313),o=t(12279),u=t.n(o),d=t(74294),c=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","refetch"],p=function(e){var n=e.fetchOptions,t=e.debounceTimeout,o=void 0===t?400:t,p=(e.refetch,(0,a.Z)(e,v)),m=(0,r.useState)(!1),h=(0,l.Z)(m,2),Z=h[0],f=h[1],x=(0,r.useState)([]),j=(0,l.Z)(x,2),g=j[0],y=j[1],b=(0,r.useMemo)((function(){return u()((function(e){y([]),f(!0),n(e).then((function(e){y(e),f(!1)}))}),o)}),[n,o]);return(0,s.jsx)(d.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return b("")},filterOption:!1,onSearch:b,notFoundContent:Z?(0,s.jsx)(c.Z,{size:"small"}):"no results"},p),{},{options:g,onFocus:function(){b("")}}))}},28358:function(e,n,t){var i=t(34344),l={getAll:function(e){return i.Z.get("dashboard/admin/kitchen",{params:e})}};n.Z=l},16190:function(e,n,t){t.d(n,{Z:function(){return y}});var i=t(93433),l=t(4942),a=t(1413),r=t(29439),o=t(47313),u=t(10976),d=t(9274),c=t(59491),s=t(66672),v=t(24511),p=t(73431),m=t(2717),h=t(5170),Z=t(23560),f=t(97340),x=t(75336),j=t(51282),g=t(46417);function y(e){var n=e.modal,t=e.handleCancel,y=e.onSuccess,b=u.Z.useForm(),k=(0,r.Z)(b,1)[0],I=(0,v.$)().t,q=(0,m.I0)(),S=(0,o.useState)(!1),w=(0,r.Z)(S,2),C=w[0],N=w[1],_=(0,o.useState)(!1),F=(0,r.Z)(_,2),P=F[0],O=F[1],A=(0,m.v9)((function(e){return e.formLang}),m.wU),U=A.languages,L=A.defaultLang;function M(e){O(!0),h.Z.getGroupById(e).then((function(e){var n=e.data;k.setFieldsValue((0,a.Z)((0,a.Z)({},n),function(e){if(!e)return{};var n=e.translations,t=U.map((function(e){var t;return(0,l.Z)({},"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title)}));return Object.assign.apply(Object,[{}].concat((0,i.Z)(t)))}(n)))})).finally((function(){return O(!1)}))}(0,o.useEffect)((function(){null!==n&&void 0!==n&&n.id&&M(n.id)}),[n]);return(0,g.jsx)(d.Z,{title:null!==n&&void 0!==n&&n.id?I("edit.extra.group"):I("add.extra.group"),visible:!!n,onCancel:t,footer:[(0,g.jsx)(c.Z,{type:"primary",onClick:function(){return k.submit()},loading:C,children:I("save")},"save-button-group"),(0,g.jsx)(c.Z,{type:"default",onClick:t,children:I("cancel")},"cancel-button-group")],children:P?(0,g.jsx)(j.Z,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"d-flex justify-content-end",children:(0,g.jsx)(p.Z,{})}),(0,g.jsx)(u.Z,{layout:"vertical",name:"extra-group",form:k,onFinish:function(e){var i={title:(0,x.Z)(U,e),type:"text"};null!==n&&void 0!==n&&n.id?function(e,n){N(!0),h.Z.updateGroup(e,n).then((function(){Z.Am.success(I("successfully.updated")),q((0,f.gw)()),t()})).finally((function(){return N(!1)}))}(null===n||void 0===n?void 0:n.id,i):function(e){N(!0),h.Z.createGroup(e).then((function(){Z.Am.success(I("successfully.created")),t(),q((0,f.gw)()),y&&y()})).finally((function(){return N(!1)}))}(i)},children:U.map((function(e){return(0,g.jsx)(u.Z.Item,{rules:[{required:e.locale===L,message:I("required")}],name:"title[".concat(e.locale,"]"),label:I("title"),hidden:e.locale!==L,children:(0,g.jsx)(s.Z,{placeholder:I("title")})},"title"+e.locale)}))})]})})}},21726:function(e,n,t){t.d(n,{Z:function(){return k}});var i=t(15861),l=t(1413),a=t(29439),r=t(87757),o=t.n(r),u=t(10976),d=t(66672),c=t(9274),s=t(59491),v=t(47313),p=t(8922),m=t(24511),h=t(2717),Z=t(23560),f=t(20503),x=t(8550),j=t(34319),g=t(5170),y=t(89281),b=t(46417);function k(e){var n=e.modal,t=e.handleCancel,r=e.onSuccess,k=e.groupId,I=u.Z.useForm(),q=(0,a.Z)(I,1)[0],S=(0,m.$)().t,w=(0,h.I0)(),C=(0,v.useState)(!1),N=(0,a.Z)(C,2),_=N[0],F=N[1],P=(0,v.useState)("text"),O=(0,a.Z)(P,2),A=O[0],U=O[1],L=(0,v.useState)(null),M=(0,a.Z)(L,2),E=M[0],V=M[1],$=(0,v.useState)(""),G=(0,a.Z)($,2),R=G[0],T=G[1];(0,h.v9)((function(e){return e.extraGroup}),h.wU).extraGroups;(0,v.useEffect)((function(){if(null!==n&&void 0!==n&&n.id){var e,t,i;U(n.group.type);var a=(0,l.Z)((0,l.Z)({},n),{},{extra_group_id:{label:null===n||void 0===n||null===(e=n.group)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===n||void 0===n||null===(i=n.group)||void 0===i?void 0:i.id},value:n.value});switch(n.group.type){case"color":T(n.value);break;case"image":V((0,x.Z)(n.value))}q.setFieldsValue(a)}k&&q.setFieldsValue({extra_group_id:{value:k}})}),[n,k]);function B(e,n){switch(e){case"color":return n.hex;case"text":return n;case"image":return n.name;default:return""}}function z(){return(z=(0,i.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={perPage:10,active:1,search:n},console.log("search => ",t),e.abrupt("return",g.Z.getAllGroups(t).then((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e){var n;return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,key:null===e||void 0===e?void 0:e.id}}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsx)(c.Z,{title:null!==n&&void 0!==n&&n.id?S("edit.extra"):S("add.extra"),visible:!!n,onCancel:t,footer:[(0,b.jsx)(s.Z,{type:"primary",onClick:function(){return q.submit()},loading:_,children:S("save")}),(0,b.jsx)(s.Z,{type:"default",onClick:t,children:S("cancel")})],children:(0,b.jsxs)(u.Z,{name:"extra-form",layout:"vertical",form:q,onFinish:function(e){var i;console.log(e);var l={extra_group_id:null===e||void 0===e||null===(i=e.extra_group_id)||void 0===i?void 0:i.value,value:B(A,e.value)};null!==n&&void 0!==n&&n.id?function(e,n){F(!0),g.Z.updateValue(e,n).then((function(){Z.Am.success(S("successfully.updated")),t(),w((0,j.pZ)())})).finally((function(){return F(!1)}))}(n.id,l):function(e){F(!0),g.Z.createValue(e).then((function(){Z.Am.success(S("successfully.created")),t(),w((0,j.pZ)()),r&&r()})).finally((function(){return F(!1)}))}(l)},children:[(0,b.jsx)(u.Z.Item,{name:"extra_group_id",label:S("extra.group"),hidden:!!k,rules:[{required:!0,message:""}],children:(0,b.jsx)(y.h,{fetchOptions:function(e){return z.apply(this,arguments)}})}),(0,b.jsx)(u.Z.Item,{name:"value",label:S("value"),rules:[{required:!0,message:""}],children:function(e){switch(e){case"color":return(0,b.jsx)(p.xS,{onChangeComplete:function(e){return T(e.hex)},color:R,disableAlpha:!0});case"text":return(0,b.jsx)(d.Z,{placeholder:S("enter.extra.value")});case"image":return(0,b.jsx)(f.Z,{type:"extras",image:E,setImage:V,form:q,name:"value"});default:return""}}(A)})]})})}},47668:function(e,n,t){t.d(n,{Z:function(){return O}});var i=t(93433),l=t(1413),a=t(29439),r=t(47313),o=t(77181),u=t(10976),d=t(45705),c=t(59491),s=t(2717),v=t(17101),p=t(90954),m=t(24511),h=t(97890),Z=t(23560),f=t(3394),x=t(9274),j=t(66672),g=t(42346),y=t(66204),b=t(18074),k=t(5170),I=t(16190),q=t(82138),S=t(71136),w=t(46417),C=function(e){var n=e.open,t=e.onClose,i=e.selectedExtras,l=e.onSelect,o=(0,m.$)().t,u=(0,r.useState)([]),d=(0,a.Z)(u,2),s=d[0],v=d[1],p=(0,r.useState)(!1),h=(0,a.Z)(p,2),Z=h[0],f=h[1],C=(0,r.useState)(!1),N=(0,a.Z)(C,2),_=N[0],F=N[1],P=(0,r.useState)(""),O=(0,a.Z)(P,2),A=O[0],U=O[1],L=(0,S.Z)(A,500),M=(0,r.useState)(),E=(0,a.Z)(M,2),V=E[0],$=E[1],G=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;f(!0);var t={valid:!0,perPage:10,search:e,page:n};k.Z.getAllGroups(t).then((function(e){var n=e.data.map((function(e){var n;return{id:e.id,label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,shop_id:e.shop_id}}));v(n),$(e.meta)})).finally((function(){return f(!1)}))};return(0,r.useEffect)((function(){n&&G(L)}),[n,L]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(x.Z,{visible:n,onCancel:function(){t(),U("")},footer:Z?null:(0,w.jsx)(c.Z,{type:"link",onClick:function(){return F(!0)},style:{paddingLeft:0},icon:(0,w.jsx)(q.Z,{}),children:o("add.new.extra")}),children:[(0,w.jsx)(j.Z,{className:"mt-3",value:A,onChange:function(e){return U(e.target.value)}}),(0,w.jsx)(g.ZP,{loading:Z,dataSource:s.filter((function(e){return!(null!==i&&void 0!==i&&i.some((function(n){return n.id===e.id})))})),renderItem:function(e){return(0,w.jsx)(g.ZP.Item,{extra:null!==e&&void 0!==e&&e.shop_id?null:(0,w.jsx)(y.Z,{children:o("admin")}),style:{cursor:"pointer"},onClick:function(){l(e)},children:e.label})}}),(0,w.jsx)(b.Z,{onChange:function(e){G(L,e)},current:null===V||void 0===V?void 0:V.current_page,total:null===V||void 0===V?void 0:V.total})]}),(0,w.jsx)(I.Z,{modal:_,handleCancel:function(){return F(!1)},onSuccess:function(){return G()}})]})},N=t(32697),_=t(98276),F=t(21726),P=function(e){var n=e.extra,t=e.onClose,i=e.onSelect,l=(0,m.$)().t,o=(0,r.useState)(!1),u=(0,a.Z)(o,2),d=u[0],s=u[1],v=(0,r.useState)([]),p=(0,a.Z)(v,2),h=p[0],Z=p[1],f=(0,r.useState)([]),j=(0,a.Z)(f,2),y=j[0],b=j[1],I=(0,r.useState)(!1),S=(0,a.Z)(I,2),C=S[0],P=S[1];function O(e){s(!0),k.Z.getGroupById(e).then((function(e){return Z(e.data.extra_values.map((function(e){return{label:e.value,value:e.id}})))})).finally((function(){s(!1)}))}return(0,r.useEffect)((function(){var e;null!==n&&void 0!==n&&n.value&&(O(n.value),b((null===n||void 0===n||null===(e=n.values)||void 0===e?void 0:e.map((function(e){return e.value})))||[]))}),[null===n||void 0===n?void 0:n.value]),console.log(n),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(x.Z,{visible:!!n,onCancel:t,footer:[(0,w.jsx)(c.Z,{onClick:t,children:l("cancel")}),!d&&h.length>0&&(0,w.jsx)(c.Z,{onClick:function(){var e=[];h.forEach((function(n){y.forEach((function(t){n.value===t&&e.push(n)}))})),i(null===n||void 0===n?void 0:n.value,e),t()},type:"primary",children:l("save")})],children:[(0,w.jsx)(N.Z.Group,{value:y,onChange:function(e){b(e)},className:"w-100",children:0!==(null===h||void 0===h?void 0:h.length)||d?(0,w.jsx)(g.ZP,{dataSource:h,loading:d,renderItem:function(e){return(0,w.jsx)(g.ZP.Item,{children:(0,w.jsx)(N.Z,{value:e.value,children:null===e||void 0===e?void 0:e.label})})}}):(0,w.jsx)(_.Z,{})}),d?null:(0,w.jsx)(c.Z,{type:"link",onClick:function(){return P(!0)},style:{paddingLeft:0},icon:(0,w.jsx)(q.Z,{}),children:l("add.new.extra")})]}),n&&(0,w.jsx)(F.Z,{modal:C,handleCancel:function(){return P(!1)},groupId:null===n||void 0===n?void 0:n.value,onSuccess:function(){return O(null===n||void 0===n?void 0:n.value)}})]})},O=function(e){var n,t=e.next,x=e.prev,j=e.isRequest,g=(0,m.$)().t,y=(0,s.I0)(),b=(0,h.UO)(),k=b.uuid,I=b.id,q=(0,h.s0)(),S=(0,s.v9)((function(e){return e.menu}),s.wU).activeMenu,N=(0,r.useState)(!1),_=(0,a.Z)(N,2),F=_[0],O=_[1],A=(0,r.useState)(!1),U=(0,a.Z)(A,2),L=U[0],M=U[1],E=(0,r.useState)((null===(n=S.data)||void 0===n?void 0:n.extras)||[]),V=(0,a.Z)(E,2),$=V[0],G=V[1],R=(0,r.useState)(null),T=(0,a.Z)(R,2),B=T[0],z=T[1],W=(0,r.useState)(!1),D=(0,a.Z)(W,2),H=D[0],J=D[1];return(0,w.jsx)(o.Z,{children:(0,w.jsxs)(u.Z,{layout:"vertical",initialValues:(0,l.Z)({},S.data),onFinish:function(){if($.some((function(e){var n;return 0===(null===(n=e.values)||void 0===n?void 0:n.length)||!e.values})))Z.Am.error(g("please.select.at.least.1.extra.value.for.each.extra"));else{var e=$.map((function(e){return e.value}));if(e.sort((function(e,n){return e-n})),j)return y((0,p.nc)({activeMenu:S,data:(0,l.Z)((0,l.Z)({},S.data),{},{extras:$})})),void q("/product-request/".concat(I,"?step=2"),{state:{generate:H}});O(!0),v.Z.extras(k,{extras:e}).then((function(){y((0,p.nc)({activeMenu:S,data:(0,l.Z)((0,l.Z)({},S.data),{},{extras:$})})),t()})).finally((function(){return O(!1)}))}},children:[(0,w.jsx)(C,{open:L,onClose:function(){return M(!1)},selectedExtras:$,onSelect:function(e){J(!0),G((function(n){return[].concat((0,i.Z)(n),[e])})),M(!1)}}),(0,w.jsx)(P,{extra:B,onClose:function(){return z(null)},onSelect:function(e,n){J(!0),G((function(t){return t.map((function(t){if(t.value===e){var i=n.map((function(e){var n,t,i=null===(n=S.data)||void 0===n||null===(t=n.extras)||void 0===t?void 0:t.flatMap((function(e){return e.values})).find((function(n){return n.value===e.value}));return(0,l.Z)((0,l.Z)({},e),{},{stock_id:null===i||void 0===i?void 0:i.stock_id})}));return(0,l.Z)((0,l.Z)({},t),{},{values:i})}return t}))}))}}),(0,w.jsx)(d.Z,{className:"w-100",size:"middle",direction:"vertical",children:$.map((function(e){var n;return(0,w.jsxs)(d.Z,{className:"w-100",direction:"vertical",children:[(0,w.jsxs)(d.Z,{className:"w-100",wrap:!0,children:[(0,w.jsx)(c.Z,{onClick:function(){return z(e)},ghost:!0,type:"primary",children:null===e||void 0===e?void 0:e.label}),null===e||void 0===e||null===(n=e.values)||void 0===n?void 0:n.map((function(n){return(0,w.jsxs)("div",{className:"extra-value",children:[null===n||void 0===n?void 0:n.label," ",(0,w.jsx)("button",{onClick:function(){return t=e.value,i=n.value,J(!0),void G((function(e){return e.map((function(e){return e.value===t?(0,l.Z)((0,l.Z)({},e),{},{values:(null===e||void 0===e?void 0:e.values.filter((function(e){return e.value!==i})))||[]}):e}))}));var t,i},type:"button",className:"extra-clear",children:(0,w.jsx)(f.IOM,{})})]},n.value)}))]}),(0,w.jsx)(d.Z,{className:"w-100",style:{justifyContent:"flex-end"},children:(0,w.jsx)(c.Z,{danger:!0,onClick:function(){return n=e,J(!0),void G((function(e){return e.filter((function(e){return e.id!==n.id}))}));var n},type:"text",children:g("delete")})})]},e.id)}))}),(0,w.jsx)(c.Z,{onClick:function(){return M(!0)},className:"w-100 my-3",type:"dashed",children:g("add.extra")}),(0,w.jsxs)(d.Z,{className:"mt-3",children:[(0,w.jsx)(c.Z,{onClick:x,children:g("prev")}),(0,w.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:F,children:g("next")})]})]})})}},78873:function(e,n,t){var i=t(1413),l=t(93433),a=t(4942),r=t(29439),o=t(47313),u=t(77181),d=t(83371),c=t(68197),s=t(59624),v=t(35432),p=t(45705),m=t(59491),h=t(72652),Z=t(2717),f=t(97890),x=t(90954),j=t(95882),g=t(24511),y=t(17101),b=t(97421),k=t(23560),I=t(14349),q=t(46417);n.Z=function(e){var n,t,S,w,C,N,_,F,P,O,A,U,L,M,E,V,$,G=e.prev,R=e.isRequest,T=(0,g.$)().t,B=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,z=(0,Z.v9)((function(e){return e.formLang}),Z.wU),W=z.defaultLang,D=z.languages,H=(0,f.s0)(),J=(0,Z.I0)(),K=(0,o.useState)({}),Q=(0,r.Z)(K,2),X=Q[0],Y=Q[1],ee=(0,o.useState)(null),ne=(0,r.Z)(ee,2),te=ne[0],ie=ne[1],le=(0,f.UO)().uuid,ae=(0,o.useState)(!1),re=(0,r.Z)(ae,2),oe=re[0],ue=re[1];function de(e){ie(!0),y.Z.getById(e).then((function(e){var n=(0,i.Z)((0,i.Z)((0,i.Z)({},e.data),function(e){if(null===e||void 0===e||!e.translations)return{};var n=e.translations,t=D.map((function(e){var t,i,l;return l={},(0,a.Z)(l,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,a.Z)(l,"description[".concat(e.locale,"]"),null===(i=n.find((function(n){return n.locale===e.locale})))||void 0===i?void 0:i.description),l}));return Object.assign.apply(Object,[{}].concat((0,l.Z)(t)))}(e.data)),{},{properties:e.data.properties.map((function(e,n){var t;return t={id:n},(0,a.Z)(t,"key[".concat(e.locale,"]"),e.key),(0,a.Z)(t,"value[".concat(e.locale,"]"),e.value),t})),translation:void 0,translations:void 0});Y(n)})).finally((function(){return ie(!1)}))}(0,o.useEffect)((function(){R||de(le)}),[R]);var ce=B.data,se=R?B.data.model:X;return te?(0,q.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,q.jsx)(h.Z,{size:"large",className:"py-5"})}):(0,q.jsxs)(u.Z,{children:[R&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(d.Z,{bordered:!0,title:T("changed.info"),children:[(0,q.jsx)(d.Z.Item,{label:"".concat(T("title")," (").concat(W,")"),span:3,children:ce["title[".concat(W,"]")]}),(0,q.jsx)(d.Z.Item,{label:"".concat(T("description")," (").concat(W,")"),span:3,children:ce["description[".concat(W,"]")]}),(0,q.jsx)(d.Z.Item,{label:T("shop"),span:1.5,children:null===ce||void 0===ce||null===(n=ce.shop)||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title}),(0,q.jsx)(d.Z.Item,{label:T("category"),span:1.5,children:null===ce||void 0===ce||null===(S=ce.category)||void 0===S?void 0:S.label}),(0,q.jsx)(d.Z.Item,{label:T("brand"),span:1.5,children:null===ce||void 0===ce||null===(w=ce.brand)||void 0===w?void 0:w.label}),(0,q.jsx)(d.Z.Item,{label:T("unit"),span:1.5,children:null===ce||void 0===ce||null===(C=ce.unit)||void 0===C?void 0:C.label}),(0,q.jsx)(d.Z.Item,{label:T("images"),span:3,children:(0,q.jsx)(c.Z,{gutter:12,children:null===ce||void 0===ce||null===(N=ce.images)||void 0===N?void 0:N.map((function(e,n){return(0,q.jsx)(s.Z,{children:(0,q.jsx)("img",{width:80,alt:"product",src:e.url})},"image"+n)}))})}),(0,q.jsx)(d.Z.Item,{label:T("tax"),children:(null===ce||void 0===ce?void 0:ce.tax)||0}),(0,q.jsx)(d.Z.Item,{label:T("min.quantity"),children:null===ce||void 0===ce?void 0:ce.min_qty}),(0,q.jsx)(d.Z.Item,{label:T("max.quantity"),children:null===ce||void 0===ce?void 0:ce.max_qty})]}),(0,q.jsx)(v.Z,{className:"mt-4",children:(0,q.jsx)(v.Z.Panel,{header:T("stocks"),children:null===ce||void 0===ce?void 0:ce.stocks.map((function(e,n){var t;return e?(0,q.jsxs)(d.Z,{bordered:!0,className:"mt-4",children:[(0,q.jsx)(d.Z.Item,{label:T("price"),span:2,children:e.price}),(0,q.jsx)(d.Z.Item,{label:T("quantity"),span:2,children:e.quantity}),null===e||void 0===e||null===(t=e.ids)||void 0===t?void 0:t.map((function(e,n){return(0,q.jsx)(d.Z.Item,{label:null===ce||void 0===ce?void 0:ce.extras[n].label,children:null===e||void 0===e?void 0:e.label},"extra"+n)}))]},"desc"+n):""}))},"stocks")})]}),(0,q.jsxs)(d.Z,{bordered:!0,className:"mt-4",title:T("original.info"),children:[(0,q.jsx)(d.Z.Item,{label:"".concat(T("title")," (").concat(W,")"),span:3,column:3,children:(null===(_=se.translation)||void 0===_?void 0:_.title)||se["title[".concat(W,"]")]}),(0,q.jsx)(d.Z.Item,{label:"".concat(T("description")," (").concat(W,")"),span:3,column:3,children:(null===se||void 0===se||null===(F=se.translation)||void 0===F?void 0:F.description)||se["description[".concat(W,"]")]}),(0,q.jsx)(d.Z.Item,{label:T("shop"),span:1.5,column:1.5,children:null===(P=se.shop)||void 0===P||null===(O=P.translation)||void 0===O?void 0:O.title}),(0,q.jsx)(d.Z.Item,{label:T("category"),span:1.5,column:1.5,children:null===(A=se.category)||void 0===A||null===(U=A.translation)||void 0===U?void 0:U.title}),(0,q.jsx)(d.Z.Item,{label:T("brand"),span:1.5,column:1.5,children:null===(L=se.brand)||void 0===L?void 0:L.title}),(0,q.jsx)(d.Z.Item,{label:T("unit"),span:1.5,column:1.5,children:null===(M=se.unit)||void 0===M||null===(E=M.translation)||void 0===E?void 0:E.title}),(0,q.jsx)(d.Z.Item,{label:T("images"),span:3,column:3,children:(0,q.jsx)(c.Z,{gutter:12,children:null===se||void 0===se||null===(V=se.galleries)||void 0===V?void 0:V.map((function(e,n){return(0,q.jsx)(s.Z,{children:(0,q.jsx)("img",{width:80,alt:"product",src:b.bV+e.path})},"image"+n)}))})}),(0,q.jsx)(d.Z.Item,{span:3,column:3,label:T("tax"),children:se.tax||0}),(0,q.jsx)(d.Z.Item,{span:3,column:3,label:T("min.quantity"),children:se.min_qty}),(0,q.jsx)(d.Z.Item,{span:3,column:3,label:T("max.quantity"),children:se.max_qty})]}),(0,q.jsx)(v.Z,{className:"mt-4",children:(0,q.jsx)(v.Z.Panel,{header:T("stocks"),children:null===($=se.stocks)||void 0===$?void 0:$.map((function(e,n){return e?(0,q.jsxs)(d.Z,{bordered:!0,className:"mt-4",children:[(0,q.jsx)(d.Z.Item,{label:T("price"),span:2,column:2,children:e.price}),(0,q.jsx)(d.Z.Item,{label:T("quantity"),span:2,column:2,children:e.quantity}),e.extras.map((function(e,n){var t,i;return(0,q.jsx)(d.Z.Item,{label:null===e||void 0===e||null===(t=e.group)||void 0===t||null===(i=t.translation)||void 0===i?void 0:i.title,span:2,column:2,children:null===e||void 0===e?void 0:e.value},"extra"+n)}))]},"desc"+n):""}))},"stocks")}),(0,q.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,q.jsxs)(p.Z,{children:[(0,q.jsx)(m.Z,{onClick:G,children:T("prev")}),(0,q.jsx)(m.Z,{loading:oe,type:"primary",onClick:function(){var e={status:void 0},n="catalog/products";if(R&&B.data){ue(!0);var t={id:B.data.model_id,type:"product",data:B.data};I.Z.requestChangeUpdate(B.data.request_id,t).then((function(){H("/".concat(n),{state:{tab:"request"}}),k.Am.success(T("successfully.updated")),J((0,x.ph)((0,i.Z)((0,i.Z)({},B),{},{nextUrl:n})))})).finally((function(){ue(!1)}))}else J((0,x.ph)((0,i.Z)((0,i.Z)({},B),{},{nextUrl:n}))),J((0,j.t2)(e)),H("/".concat(n))},children:T("finish")})]})})]})}},97307:function(e,n,t){var i=t(4942),l=t(93433),a=t(15861),r=t(1413),o=t(29439),u=t(87757),d=t.n(u),c=t(47313),s=t(10976),v=t(68197),p=t(59624),m=t(77181),h=t(66672),Z=t(16124),f=t(86345),x=t(59491),j=t(89281),g=t(53149),y=t(11216),b=t(30763),k=t(2717),I=t(17101),q=t(90954),S=t(31055),w=t(97890),C=t(24511),N=t(5764),_=t(49080),F=t(13622),P=t(82138),O=t(20776),A=t(28358),U=t(49655),L=t(46417);n.Z=function(e){var n,t,u,M=e.next,E=e.action_type,V=void 0===E?"":E,$=e.isRequest,G=(0,C.$)().t,R=s.Z.useForm(),T=(0,o.Z)(R,1)[0],B=s.Z.useWatch("shop",T),z=(0,k.I0)(),W=(0,w.UO)().uuid,D=(0,w.s0)(),H=(0,c.useState)(null),J=(0,o.Z)(H,2),K=J[0],Q=J[1],X=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,Y=(0,k.v9)((function(e){return e.formLang}),k.wU),ee=Y.defaultLang,ne=Y.languages,te=(0,c.useState)(null!==(n=X.data)&&void 0!==n&&n.images?null===(t=X.data)||void 0===t?void 0:t.images:[]),ie=(0,o.Z)(te,2),le=ie[0],ae=ie[1],re=(0,c.useState)(!1),oe=(0,o.Z)(re,2),ue=oe[0],de=oe[1],ce=(0,c.useState)(Boolean(null===(u=X.data)||void 0===u?void 0:u.kcal)),se=(0,o.Z)(ce,2),ve=se[0],pe=se[1],me=(0,c.useState)({kitchen:!1}),he=(0,o.Z)(me,2),Ze=he[0],fe=he[1];function xe(){return(xe=(0,a.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:null!==n&&void 0!==n&&n.length?n:void 0,perPage:20,page:1,active:1},e.abrupt("return",g.Z.get(t).then((function(e){return e.data.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.id)||G("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){return(je=(0,a.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1,perPage:20,type:"main",search:null!==n&&void 0!==n&&n.length?n:void 0,active:1},e.abrupt("return",y.Z.getAll(t).then((function(e){return e.data.map((function(e){return{label:(null===e||void 0===e?void 0:e.title)||(null===e||void 0===e?void 0:e.id)||G("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=(0,a.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={page:1,perPage:20,type:"main",search:null!==n&&void 0!==n&&n.length?n:void 0,shop_id:null===B||void 0===B?void 0:B.value,"statuses[0]":"pending","statuses[1]":"published",active:1},e.abrupt("return",b.Z.selectPaginate(t).then((function(e){return e.data.map((function(e){var n,t,i;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||G("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id,disabled:(null===e||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0,children:null===e||void 0===e||null===(i=e.children)||void 0===i?void 0:i.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||G("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,c.useEffect)((function(){var e=T.getFieldsValue(!0);z((0,q.nc)({activeMenu:X,data:(0,r.Z)((0,r.Z)({},X.data),e)}))}),[]);var ye=function(){z((0,q.bL)({id:"category-add",url:"category/add",name:G("add.category")})),D("/category/add")};return(0,L.jsxs)(s.Z,{layout:"vertical",form:T,initialValues:(0,r.Z)({active:!0,vegetarian:!0},X.data),onFinish:function(e){var n,t,a,o,u;de(!0);var d=(0,r.Z)((0,r.Z)({},e),{},{active:Number(e.active),vegetarian:Number(e.vegetarian),brand_id:null===(n=e.brand)||void 0===n?void 0:n.value,category_id:(null===(t=e.category)||void 0===t?void 0:t.value)||e.category,shop_id:null===(a=e.shop)||void 0===a?void 0:a.value,kitchen_id:(null===e||void 0===e||null===(o=e.kitchen)||void 0===o?void 0:o.value)||void 0,unit_id:null===(u=e.unit)||void 0===u?void 0:u.value,kcal:ve?String(e.kcal):void 0,carbs:ve?String(e.carbs):void 0,protein:ve?String(e.protein):void 0,fats:ve?String(e.fats):void 0,images:void 0,brand:void 0,category:void 0,shop:void 0,unit:void 0,kitchen:void 0,tax:e.tax||0},Object.assign.apply(Object,[{}].concat((0,l.Z)(le.map((function(e,n){return(0,i.Z)({},"images[".concat(n,"]"),e.name)}))))));if($)return z((0,q.nc)({activeMenu:X,data:(0,r.Z)((0,r.Z)((0,r.Z)({},X.data),d),{},{images:le,brand:e.brand,category:e.category,kitchen:(null===e||void 0===e?void 0:e.kitchen)||void 0,shop:e.shop,unit:e.unit,tax:e.tax||0,title:(0,r.Z)({},Object.assign.apply(Object,[{}].concat((0,l.Z)(ne.map((function(n){return(0,i.Z)({},n.locale,e["title[".concat(n.locale,"]")])})))))),description:(0,r.Z)({},Object.assign.apply(Object,[{}].concat((0,l.Z)(ne.map((function(n){return(0,i.Z)({},n.locale,e["description[".concat(n.locale,"]")])}))))))})})),void M();"edit"===V?function(e,n){I.Z.update(W,n).then((function(){z((0,q.nc)({activeMenu:X,data:(0,r.Z)((0,r.Z)({},e),null===X||void 0===X?void 0:X.data)})),M()})).catch((function(e){return Q(e.response.data.params)})).finally((function(){return de(!1)}))}(e,d):function(e,n){I.Z.create(n).then((function(n){var t=n.data;z((0,q.SS)({id:"product-".concat(t.uuid),url:"product/".concat(t.uuid),name:G("add.product"),data:e,refetch:!1})),D("/product/".concat(t.uuid,"/?step=1"))})).catch((function(e){return Q(e.response.data.params)})).finally((function(){return de(!1)}))}(e,d)},children:[(0,L.jsxs)(v.Z,{gutter:12,children:[(0,L.jsx)(p.Z,{span:16,children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(m.Z,{title:G("basic.info"),children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(p.Z,{span:24,children:ne.map((function(e){return(0,L.jsx)(s.Z.Item,{label:G("name"),name:"title[".concat(e.locale,"]"),rules:[{required:(null===e||void 0===e?void 0:e.locale)===ee,message:G("required")},{type:"string",min:2,max:200,message:G("min.2.max.200.chars")}],hidden:e.locale!==ee,children:(0,L.jsx)(h.Z,{})},"name"+e.id)}))}),(0,L.jsx)(p.Z,{span:24,children:ne.map((function(e){return(0,L.jsx)(s.Z.Item,{label:G("description"),name:"description[".concat(e.locale,"]"),rules:[{required:(null===e||void 0===e?void 0:e.locale)===ee,message:G("required")},{type:"string",min:2,max:200,message:G("min.2.max.200.chars")}],hidden:e.locale!==ee,children:(0,L.jsx)(_.Z,{rows:3})},"description"+e.id)}))})]})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(m.Z,{title:G("pricing"),children:(0,L.jsxs)(v.Z,{gutter:12,children:[(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("min.qty"),name:"min_qty",rules:[{required:!0,message:G("required")}],children:(0,L.jsx)(Z.Z,{min:0,className:"w-100"})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("max.qty"),name:"max_qty",rules:[{required:!0,message:G("required")}],children:(0,L.jsx)(Z.Z,{min:0,className:"w-100"})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("tax"),name:"tax",rules:[{validator:function(e,n){return n&&(n<0||n>100)?Promise.reject(new Error(G("must.be.between.0.and.100"))):Promise.resolve()}}],children:(0,L.jsx)(Z.Z,{className:"w-100",addonAfter:"%"})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("add.quantity.per.click"),name:"interval",rules:[{required:!0,message:G("required")},{type:"number",min:0,message:G("must.be.positive")}],help:null!==K&&void 0!==K&&K.interval?K.interval[0]:null,validateStatus:null!==K&&void 0!==K&&K.interval?"error":"success",children:(0,L.jsx)(Z.Z,{className:"w-100"})})})]})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(m.Z,{title:G("additions"),children:(0,L.jsxs)(v.Z,{gutter:12,children:[(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("active"),name:"active",valuePropName:"checked",children:(0,L.jsx)(f.Z,{})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("vegetarian"),name:"vegetarian",valuePropName:"checked",children:(0,L.jsx)(f.Z,{})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{label:G("nutrition.".concat(ve?"on":"off")),valuePropName:"checked",children:(0,L.jsx)(f.Z,{checked:ve,onChange:function(e){return pe(e)}})})})]})})}),ve&&(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(m.Z,{title:G("nutritional.value.of.product"),children:(0,L.jsxs)(v.Z,{gutter:12,children:[(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{rules:[{required:!0,message:G("required")}],label:G("kcal"),name:"kcal",children:(0,L.jsx)(Z.Z,{min:0,className:"w-100"})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{rules:[{required:!0,message:G("required")}],label:G("carbs"),name:"carbs",children:(0,L.jsx)(Z.Z,{min:0,className:"w-100"})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{rules:[{required:!0,message:G("required")}],label:G("protein"),name:"protein",children:(0,L.jsx)(Z.Z,{min:0,className:"w-100"})})}),(0,L.jsx)(p.Z,{span:6,children:(0,L.jsx)(s.Z.Item,{rules:[{required:!0,message:G("required")}],label:G("fats"),name:"fats",children:(0,L.jsx)(Z.Z,{min:0,className:"w-100"})})})]})})})]})}),(0,L.jsx)(p.Z,{span:8,children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(m.Z,{title:G("organization"),children:(0,L.jsxs)(v.Z,{children:[!$&&(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(s.Z.Item,{label:G("shop/restaurant"),name:"shop",rules:[{required:!0,message:G("required")}],children:(0,L.jsx)(F.R,{fetchOptions:function(e){return xe.apply(this,arguments)},onChange:function(){T.setFieldsValue({category:void 0,kitchen:void 0})}})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(s.Z.Item,{label:G("category"),name:"category",rules:[{required:!0,message:G("required")}],children:(0,L.jsx)(O.o,{disabled:!(null!==B&&void 0!==B&&B.value),refetch:!0,fetchOptions:function(e){return ge.apply(this,arguments)},dropdownRender:function(e){return(0,L.jsxs)(L.Fragment,{children:[e,(0,L.jsx)("div",{className:"p-1",children:(0,L.jsx)(x.Z,{icon:(0,L.jsx)(P.Z,{}),className:"w-100",onClick:ye,children:G("add.category")})})]})}})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(s.Z.Item,{label:G("kitchen"),name:"kitchen",children:(0,L.jsx)(U._,{allowClear:!1,fetchOptions:function(e){var n=e.search,t=e.page,i=void 0===t?1:t,l={search:null!==n&&void 0!==n&&n.length?n:void 0,page:i,perPage:20,active:1,shop_id:null===B||void 0===B?void 0:B.value};return A.Z.getAll(l).then((function(e){var n,t,i;return fe((0,r.Z)((0,r.Z)({},Ze),{},{kitchen:(null===e||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.current_page)<(null===e||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.last_page)})),null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.id)||G("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},hasMore:Ze.kitchen,disabled:!(null!==B&&void 0!==B&&B.value)})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(s.Z.Item,{label:G("brand"),name:"brand",children:(0,L.jsx)(j.h,{fetchOptions:function(e){return je.apply(this,arguments)}})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(s.Z.Item,{label:G("unit"),name:"unit",rules:[{required:!0,message:G("required")}],children:(0,L.jsx)(j.h,{fetchOptions:function(e){var n={perPage:20,page:1,active:1,search:null!==e&&void 0!==e&&e.length?e:void 0};return S.Z.getAll(n).then((function(e){var n=e.data;return null===n||void 0===n?void 0:n.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.id)||G("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))}})})})]})})}),(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(m.Z,{title:G("media"),children:(0,L.jsx)(v.Z,{children:(0,L.jsx)(p.Z,{span:24,children:(0,L.jsx)(s.Z.Item,{name:"images",rules:[{required:!(null!==le&&void 0!==le&&le.length),message:G("required")}],children:(0,L.jsx)(N.Z,{type:"products",imageList:le,setImageList:ae,form:T,multiple:!0})})})})})})]})})]}),(0,L.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:ue,children:G("next")})]})}},17231:function(e,n,t){t.d(n,{Z:function(){return F}});var i=t(4942),l=t(93433),a=t(1413),r=t(29439),o=t(2717),u=t(47313),d=t(49873),c=t(9274),s=t(77181),v=t(45705),p=t(59491),m=t(24511),h=t(17101),Z=t(23560),f=t(97890),x=t(90954),j=t(78508),g=t(12019),y=t(47515),b=t(55940),k=t(46417),I=function(e){var n=e.properties,t=e.editSelectedProperty,i=e.deleteProperty,l=e.loading,a=void 0!==l&&l,r=(0,m.$)().t,o=[{title:r("key"),dataIndex:"key",key:"key"},{title:r("value"),dataIndex:"value",key:"value"},{title:r("options"),key:"options",render:function(e,n){return(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(p.Z,{type:"primary",icon:(0,k.jsx)(g.Z,{}),onClick:function(){return t(n)}}),(0,k.jsx)(b.Z,{type:"primary",danger:!0,icon:(0,k.jsx)(y.Z,{}),onClick:function(){return i(null===n||void 0===n?void 0:n.id)}})]})}}];return(0,k.jsx)(s.Z,{loading:a,children:(0,k.jsx)(j.Z,{dataSource:n,columns:o,pagination:!1})})},q=t(10976),S=t(68197),w=t(59624),C=t(66672),N=function(e){var n=e.addNewProperty,t=e.loading,i=void 0!==t&&t,l=(0,m.$)().t,a=q.Z.useForm(),u=(0,r.Z)(a,1)[0],c=(0,o.v9)((function(e){return e.formLang}),o.wU),v=c.defaultLang,h=c.languages;return(0,k.jsx)(s.Z,{loading:i,children:(0,k.jsx)(q.Z,{form:u,layout:"vertical",onFinish:function(e){var t={key:null===e||void 0===e?void 0:e["key[".concat(v,"]")],value:null===e||void 0===e?void 0:e["value[".concat(v,"]")]},i=h.map((function(n){return{id:(0,d.R)(),locale:null===n||void 0===n?void 0:n.locale,key:(null===e||void 0===e?void 0:e["key[".concat(null===n||void 0===n?void 0:n.locale,"]")])||(null===t||void 0===t?void 0:t.key),value:(null===e||void 0===e?void 0:e["value[".concat(n.locale,"]")])||(null===t||void 0===t?void 0:t.value)}}));n(i),u.resetFields()},children:(0,k.jsxs)(S.Z,{gutter:12,children:[(0,k.jsx)(w.Z,{span:8,children:h.map((function(e){return(0,k.jsx)(q.Z.Item,{label:l("key"),name:"key[".concat((null===e||void 0===e?void 0:e.locale)||"en","]"),hidden:(null===e||void 0===e?void 0:e.locale)!==v,rules:[{required:(null===e||void 0===e?void 0:e.locale)===v,message:l("required")},{type:"string",min:2,max:200,message:l("min.2.max.200.chars")}],children:(0,k.jsx)(C.Z,{})},null===e||void 0===e?void 0:e.locale)}))}),(0,k.jsx)(w.Z,{span:8,children:h.map((function(e){return(0,k.jsx)(q.Z.Item,{label:l("value"),name:"value[".concat((null===e||void 0===e?void 0:e.locale)||"en","]"),hidden:(null===e||void 0===e?void 0:e.locale)!==v,rules:[{required:(null===e||void 0===e?void 0:e.locale)===v,message:l("required")},{type:"string",min:2,max:200,message:l("min.2.max.200.chars")}],children:(0,k.jsx)(C.Z,{})},null===e||void 0===e?void 0:e.locale)}))}),(0,k.jsx)(w.Z,{children:(0,k.jsx)(q.Z.Item,{label:" ",children:(0,k.jsx)(p.Z,{type:"primary",htmlType:"submit",children:l("add")})})})]})})})},_=function(e){var n=e.property,t=e.editProperty,i=(0,m.$)().t,l=q.Z.useForm(),o=(0,r.Z)(l,1)[0];return(0,k.jsx)(s.Z,{children:(0,k.jsx)(q.Z,{form:o,layout:"vertical",onFinish:function(e){t((0,a.Z)((0,a.Z)({},n),e))},initialValues:{key:null===n||void 0===n?void 0:n.key,value:null===n||void 0===n?void 0:n.value},children:(0,k.jsxs)(S.Z,{gutter:12,children:[(0,k.jsx)(w.Z,{span:24,children:(0,k.jsx)(q.Z.Item,{label:i("key"),name:"key",rules:[{required:!0,message:i("required")},{type:"string",min:2,max:200,message:i("min.2.max.200.chars")}],children:(0,k.jsx)(C.Z,{})})}),(0,k.jsx)(w.Z,{span:24,children:(0,k.jsx)(q.Z.Item,{label:i("value"),name:"value",rules:[{required:!0,message:i("required")},{type:"string",min:2,max:200,message:i("min.2.max.200.chars")}],children:(0,k.jsx)(C.Z,{})})}),(0,k.jsx)(w.Z,{span:24,children:(0,k.jsx)(p.Z,{type:"primary",htmlType:"submit",className:"w-100",children:i("edit")})})]})})})},F=function(e){var n,t=e.prev,j=e.next,g=e.isRequest,y=void 0!==g&&g,b=(0,m.$)().t,q=(0,f.UO)().uuid,S=(0,o.I0)(),w=(0,o.v9)((function(e){return e.formLang}),o.wU).defaultLang,C=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu,F=(0,u.useState)(y&&(null===(n=C.data)||void 0===n?void 0:n.properties)||[]),P=(0,r.Z)(F,2),O=P[0],A=P[1],U=(0,u.useState)(null),L=(0,r.Z)(U,2),M=L[0],E=L[1],V=(0,u.useState)(!1),$=(0,r.Z)(V,2),G=$[0],R=$[1],T=(0,u.useState)(!1),B=(0,r.Z)(T,2),z=B[0],W=B[1];(0,u.useEffect)((function(){y||D(q)}),[]);var D=function(e){R(!0),h.Z.getById(e).then((function(e){var n,t;A(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.properties)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{id:(0,d.R)()})})))})).finally((function(){R(!1)}))};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(N,{loading:G,addNewProperty:function(e){A([].concat((0,l.Z)(O),(0,l.Z)(e)))}}),(0,k.jsx)(I,{loading:G,properties:null===O||void 0===O?void 0:O.filter((function(e){return(null===e||void 0===e?void 0:e.locale)===w})),editSelectedProperty:E,deleteProperty:function(e){c.Z.confirm({title:b("are.you.sure?"),okText:b("yes"),onOk:function(){A((function(n){return n.filter((function(n){return n.id!==e}))}))}})}}),(0,k.jsx)(s.Z,{children:(0,k.jsxs)(v.Z,{children:[(0,k.jsx)(p.Z,{onClick:t,disabled:G,children:b("prev")}),(0,k.jsx)(p.Z,{type:"primary",onClick:function(){var e={key:[],value:[]};if(null===O||void 0===O||O.map((function(n){e.key.push((0,i.Z)({},null===n||void 0===n?void 0:n.locale,null===n||void 0===n?void 0:n.key)),e.value.push((0,i.Z)({},null===n||void 0===n?void 0:n.locale,null===n||void 0===n?void 0:n.value))})),y)return S((0,x.nc)({activeMenu:C,data:(0,a.Z)((0,a.Z)({},C.data),{},{properties:O,props:e})})),void j();W(!0),h.Z.properties(q,e).then((function(){Z.Am.success(b("successfully.updated")),j()})).finally((function(){W(!1)}))},disabled:G,loading:z,children:b("next")})]})}),!!M&&(0,k.jsx)(c.Z,{visible:!!M,onCancel:function(){E(null)},footer:!1,children:(0,k.jsx)(_,{property:M,editProperty:function(e){A((function(n){return n.map((function(n){return n.id===e.id?e:n}))})),E(null)}})})]})}},96077:function(e,n,t){t.d(n,{S:function(){return i}});var i=[{title:"product",content:"First-content"},{title:"product.extras",content:"Second-content"},{title:"stocks",content:"Third-content"},{title:"finish",content:"Finish-content"}]}}]);