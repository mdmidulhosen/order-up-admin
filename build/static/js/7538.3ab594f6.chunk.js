"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7538],{47538:function(e,t,n){n.r(t);var a=n(1413),c=n(93433),i=n(4942),r=n(29439),l=n(47313),o=n(10976),u=n(77181),s=n(72652),d=n(23560),f=n(97890),v=n(73431),Z=n(2717),p=n(90954),g=n(57481),h=n(24511),m=n(85191),y=n(75336),b=n(16747),j=n(46417);t.default=function(){var e=(0,h.$)().t,t=(0,f.s0)(),n=(0,Z.I0)(),x=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,_=(0,l.useState)(!1),w=(0,r.Z)(_,2),U=w[0],k=w[1],C=o.Z.useForm(),F=(0,r.Z)(C,1)[0],M=(0,f.UO)().id,O=(0,Z.v9)((function(e){return e.career}),Z.wU).params,A=(0,Z.v9)((function(e){return e.formLang}),Z.wU).languages;(0,l.useEffect)((function(){return function(){var e=F.getFieldsValue(!0);n((0,p.nc)({activeMenu:x,data:e}))}}),[]);var E=function(e){k(!0),g.Z.getById(e).then((function(e){var t,r,l,o=e.data,u=(0,a.Z)((0,a.Z)((0,a.Z)({},o),function(e){if(!e)return{};var t=e.translations,n=A.map((function(e){var n,a,c,r;return r={},(0,i.Z)(r,"title[".concat(e.locale,"]"),null===(n=t.find((function(t){return t.locale===e.locale})))||void 0===n?void 0:n.title),(0,i.Z)(r,"description[".concat(e.locale,"]"),null===(a=t.find((function(t){return t.locale===e.locale})))||void 0===a?void 0:a.description),(0,i.Z)(r,"address[".concat(e.locale,"]"),null===(c=t.find((function(t){return t.locale===e.locale})))||void 0===c?void 0:c.address),r}));return Object.assign.apply(Object,[{}].concat((0,c.Z)(n)))}(o)),{},{category_id:{label:null===o||void 0===o||null===(t=o.category)||void 0===t||null===(r=t.translation)||void 0===r?void 0:r.title,value:null===o||void 0===o||null===(l=o.category)||void 0===l?void 0:l.id}});F.setFieldsValue(u),n((0,p.nc)({activeMenu:x,data:u}))})).finally((function(){k(!1),n((0,p.A_)(x))}))};return(0,l.useEffect)((function(){x.refetch&&E(M)}),[x.refetch]),(0,j.jsx)(u.Z,{title:e("clone.career"),extra:(0,j.jsx)(v.Z,{}),children:U?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(s.Z,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(b.Z,{form:F,handleSubmit:function(c){var i=(0,a.Z)((0,a.Z)({},c),{},{title:(0,y.Z)(A,c,"title"),description:(0,y.Z)(A,c,"description"),address:(0,y.Z)(A,c,"address"),active:c.active?1:0,category_id:c.category_id.value}),r="catalog/career";return g.Z.create(i).then((function(){d.Am.success(e("successfully.updated")),(0,Z.dC)((function(){n((0,p.ph)((0,a.Z)((0,a.Z)({},x),{},{nextUrl:r}))),n((0,m.a)(O))})),t("/".concat(r))})).catch((function(e){return console.error(e.response.data.params)}))}})})}}}]);