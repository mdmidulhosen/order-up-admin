"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[328],{50328:function(t,e,n){n.r(e);var a=n(1413),u=n(93433),i=n(4942),c=n(29439),r=n(47313),s=n(97890),l=n(23560),f=n(10976),o=n(77181),d=n(72652),h=n(2717),m=n(90954),v=n(24511),g=n(73431),Z=n(75336),p=n(61197),b=n(60692),j=n(51698),x=n(46417);e.default=function(){var t=(0,v.$)().t,e=(0,h.v9)((function(t){return t.menu}),h.wU).activeMenu,n=(0,h.I0)(),y=f.Z.useForm(),k=(0,c.Z)(y,1)[0],w=(0,s.s0)(),U=(0,s.UO)().id,C=(0,r.useState)(!1),F=(0,c.Z)(C,2),M=F[0],N=F[1],O=(0,h.v9)((function(t){return t.formLang}),h.wU).languages;(0,r.useEffect)((function(){return function(){var t=k.getFieldsValue(!0);n((0,m.nc)({activeMenu:e,data:t}))}}),[]);var S=function(t){N(!0),p.Z.getById(t).then((function(t){var c,r=t.data,s=(0,a.Z)({images:(c=[r.img],c.map((function(t){return{uid:t,name:t,url:t}})))},function(t){if(!t)return{};var e=t.translations,n=O.map((function(t){var n;return(0,i.Z)({},"title[".concat(t.locale,"]"),null===(n=e.find((function(e){return e.locale===t.locale})))||void 0===n?void 0:n.title)}));return Object.assign.apply(Object,[{}].concat((0,u.Z)(n)))}(r));k.setFieldsValue(s),n((0,m.nc)({activeMenu:e,data:s}))})).finally((function(){n((0,m.A_)(e)),N(!1)}))};return(0,r.useEffect)((function(){e.refetch&&S(U)}),[e.refetch]),(0,x.jsx)(o.Z,{title:t("edit.shop.tag"),className:"h-100",extra:(0,x.jsx)(g.Z,{}),children:M?(0,x.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,x.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,x.jsx)(j.Z,{form:k,handleSubmit:function(u,i){var c={images:i.map((function(t){return t.name})),title:(0,Z.Z)(O,u,"title")},r="shop-tag";return p.Z.update(U,c).then((function(){l.Am.success(t("successfully.updated")),(0,h.dC)((function(){n((0,m.ph)((0,a.Z)((0,a.Z)({},e),{},{nextUrl:r}))),n((0,b.S)({}))})),w("/".concat(r))}))}})})}}}]);