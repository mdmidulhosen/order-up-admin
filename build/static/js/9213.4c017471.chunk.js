"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9213],{99213:function(t,e,n){n.r(e);var i=n(1413),a=n(29439),u=n(47313),r=n(97890),c=n(23560),o=n(83999),s=n(10976),l=n(77181),d=n(2717),v=n(90954),f=n(24511),m=n(73431),g=n(14241),p=n(65436),Z=n(46417),h=o.Z.Step;e.default=function(){var t,e,n,_=(0,f.$)().t,x=(0,d.v9)((function(t){return t.menu}),d.wU).activeMenu,S=(0,d.I0)(),k=s.Z.useForm(),j=(0,a.Z)(k,1)[0],y=(0,r.s0)(),b=(0,u.useState)(null!==(t=x.data)&&void 0!==t&&t.image?[null===(e=x.data)||void 0===e?void 0:e.image]:[]),w=(0,a.Z)(b,2),F=w[0],q=w[1],C=(0,u.useState)((null===(n=x.data)||void 0===n?void 0:n.step)||0),I=(0,a.Z)(C,2),M=I[0],U=I[1],V=function(){U(M+1)},A=function(){U(M-1)},E=(0,u.useState)(!1),N=(0,a.Z)(E,2),$=N[0],z=N[1];(0,u.useEffect)((function(){return function(){var t=j.getFieldsValue(!0);S((0,v.nc)({activeMenu:x,data:t}))}}),[]);return(0,Z.jsx)(l.Z,{title:_("add.recepe"),extra:(0,Z.jsx)(m.Z,{}),children:(0,Z.jsxs)(s.Z,{layout:"vertical",onFinish:function(t){var e,n;j.validateFields();var a=(0,i.Z)((0,i.Z)({},t),{},{total_time:t.total_time.toString(),active_time:t.active_time.toString(),images:null===F||void 0===F?void 0:F.map((function(t){return t.name})),category_id:t.category_id.value,stocks:null===(e=t.stocks)||void 0===e?void 0:e.map((function(t){return{min_quantity:t.min_quantity,stock_id:t.stock_id.value}})),nutrition:null===(n=t.nutrition)||void 0===n?void 0:n.map((function(t){return(0,i.Z)((0,i.Z)({},t),{},{percentage:t.percentage.toString(),weight:t.weight.toString()})}))});z(!0);var u="seller/recept";g.Z.create(a).then((function(){c.Am.success(_("successfully.created")),y("/".concat(u)),S((0,v.ph)((0,i.Z)((0,i.Z)({},x),{},{nextUrl:u})))})).finally((function(){return z(!1)}))},form:j,initialValues:(0,i.Z)({active:!0},x.data),children:[(0,Z.jsx)(o.Z,{current:M,children:p.S.map((function(t){return(0,Z.jsx)(h,{title:_(t.title)},t.title)}))}),p.S.map((function(t){var e=t.content;return(0,Z.jsx)("div",{className:"steps-content ".concat(t.step!==M+1&&"hidden"),children:(0,Z.jsx)(e,{next:V,prev:A,loading:$,image:F,setImage:q})},t.title)}))]})})}}}]);