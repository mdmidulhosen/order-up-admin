(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8969],{89802:function(e,t,n){"use strict";n.d(t,{q:function(){return c}});var i=n(1413),a=n(29439),l=n(45987),o=n(47313),u=n(74294),r=n(72652),d=n(46417),s=["fetchOptions","refetch"],c=function(e){var t=e.fetchOptions,n=e.refetch,c=void 0!==n&&n,v=(0,l.Z)(e,s),f=(0,o.useState)(!1),p=(0,a.Z)(f,2),m=p[0],h=p[1],Z=(0,o.useState)([]),x=(0,a.Z)(Z,2),y=x[0],j=x[1];return(0,d.jsx)(u.Z,(0,i.Z)((0,i.Z)({labelInValue:!0,filterOption:!1,notFoundContent:m?(0,d.jsx)(r.Z,{size:"small"}):"no results"},v),{},{options:m?[]:y,onFocus:function(){y.length&&!c||(h(!0),t().then((function(e){j(e),h(!1)})))}}))}},33834:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var i=n(4942),a=n(1413),l=n(97890),o=n(74776),u=n.n(o),r=function(){var e=(0,l.s0)(),t=(0,l.TH)(),n=u().parse(t.search,{ignoreQueryPrefix:!0});return{values:n,set:function(t,l){return e({search:u().stringify((0,a.Z)((0,a.Z)({},n),{},(0,i.Z)({},t,l)))})},reset:function(t){var i=(0,a.Z)({},n);i[t]&&delete i[t],e({search:u().stringify((0,a.Z)({},i))})},clear:function(){return e({search:u().stringify({})})},merge:function(t){return e({search:u().stringify((0,a.Z)((0,a.Z)({},n),t))})},get:function(e){return n[e]},setMultiple:function(t){var i=(0,a.Z)((0,a.Z)({},n),t);e({search:u().stringify(i)})},resetMultiple:function(t){var i=(0,a.Z)({},n);t.forEach((function(e){i[e]&&delete i[e]})),e({search:u().stringify(i)})}}}},78507:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var i=n(1413),a=n(29439),l=n(47313),o=n(16848),u=n(83999),r=n(77181),d=n(72652),s=n(93433),c=n(10976),v=n(45705),f=n(59491),p=n(9274),m=n(68197),h=n(59624),Z=n(66672),x=n(78508),y=n(12019),j=n(47515),k=n(2717),g=n(73431),b=n(46417);function q(e){var t=e.editData,n=e.handleCancel,o=e.editProperty,u=c.Z.useForm(),r=(0,a.Z)(u,1)[0],d=(0,k.v9)((function(e){return e.formLang}),k.wU),s=d.defaultLang,v=d.languages;return(0,l.useEffect)((function(){r.setFieldsValue(t)}),[t]),(0,b.jsxs)(p.Z,{title:"Edit product property",visible:!!t,okText:"Save",onCancel:n,onOk:function(){return r.submit()},children:[(0,b.jsx)(m.Z,{className:"mb-3",children:(0,b.jsx)(h.Z,{span:24,children:(0,b.jsx)(g.Z,{})})}),(0,b.jsx)(c.Z,{form:r,layout:"vertical",onFinish:function(e){var n=(0,i.Z)((0,i.Z)({},t),e);o(n)},children:(0,b.jsxs)(m.Z,{className:"mt-4",children:[(0,b.jsx)(h.Z,{span:24,children:v.map((function(e){return(0,b.jsx)(c.Z.Item,{label:"Key",name:"key[".concat(e.locale,"]"),rules:[{required:e.locale===s,message:""}],hidden:e.locale!==s,children:(0,b.jsx)(Z.Z,{})},"key"+e.locale)}))}),(0,b.jsx)(h.Z,{span:24,children:v.map((function(e){return(0,b.jsx)(c.Z.Item,{label:"Value",name:"value[".concat(e.locale,"]"),rules:[{required:e.locale===s,message:""}],hidden:e.locale!==s,children:(0,b.jsx)(Z.Z,{})},"value"+e.locale)}))})]})})]})}var _=n(90954),w=n(18333),S=n(24511),F=n(97890),I=n(55940),O=function(e){var t,n=e.next,o=e.prev,u=e.isRequest,d=e.mode,g=(0,S.$)().t,O=(0,k.I0)(),C=(0,F.TH)(),N=(0,F.UO)().uuid,V=(0,F.s0)(),E=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,M=(0,k.v9)((function(e){return e.formLang}),k.wU),U=M.defaultLang,W=M.languages,R=c.Z.useForm(),T=(0,a.Z)(R,1)[0],z=(0,l.useState)(null),L=(0,a.Z)(z,2),A=L[0],B=L[1],K=(0,l.useState)((null===(t=E.data)||void 0===t?void 0:t.properties)||[]),D=(0,a.Z)(K,2),H=D[0],P=D[1],$=(0,l.useState)(!1),G=(0,a.Z)($,2),Q=G[0],X=G[1],J=[{key:"2",title:g("key"),render:function(e,t){return t["key[".concat(U,"]")]}},{key:"4",title:g("value"),render:function(e,t){return t["value[".concat(U,"]")]}},{key:"5",title:g("options"),render:function(e){return(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(f.Z,{type:"primary",icon:(0,b.jsx)(y.Z,{}),onClick:function(){return B(e)}}),(0,b.jsx)(I.Z,{type:"primary",danger:!0,icon:(0,b.jsx)(j.Z,{}),onClick:function(){return Y(e)}})]})}}];(0,l.useEffect)((function(){if(H.length&&N){var e=H;O((0,_.nc)({activeMenu:E,data:(0,i.Z)((0,i.Z)({},E.data),{},{properties:e})}))}}),[H]);var Y=function(e){p.Z.confirm({title:g("delete.product"),okText:g("yes"),okType:"danger",onOk:function(){P((function(t){return t.filter((function(t){return t.id!==e.id}))}))}})},ee=function(){return B(null)};return(0,b.jsxs)(r.Z,{children:[(0,b.jsx)(c.Z,{layout:"vertical",form:T,onFinish:function(e){var t=parseInt(50*Math.random()),n=(0,i.Z)((0,i.Z)({},e),{},{id:t});P((function(e){return[].concat((0,s.Z)(e),[n])})),T.resetFields()},children:(0,b.jsxs)(m.Z,{gutter:12,className:"mb-3",children:[(0,b.jsx)(h.Z,{span:8,children:W.map((function(e){return(0,b.jsx)(c.Z.Item,{name:"key[".concat(e.locale,"]"),rules:[{required:e.locale===U,message:""}],hidden:e.locale!==U,children:(0,b.jsx)(Z.Z,{placeholder:g("key")})},"key"+e.locale)}))}),(0,b.jsx)(h.Z,{span:8,children:W.map((function(e){return(0,b.jsx)(c.Z.Item,{name:"value[".concat(e.locale,"]"),rules:[{required:e.locale===U,message:""}],hidden:e.locale!==U,children:(0,b.jsx)(Z.Z,{placeholder:g("value")})},"value"+e.locale)}))}),(0,b.jsx)(h.Z,{span:4,children:(0,b.jsx)(f.Z,{type:"primary",htmlType:"submit",children:g("save")})})]})}),(0,b.jsx)(x.Z,{scroll:{x:!0},columns:J,dataSource:H,pagination:!1,rowKey:function(e){return e.id}}),(0,b.jsx)(q,{editData:A,handleCancel:ee,editProperty:function(e){P((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),ee()}}),(0,b.jsxs)(v.Z,{className:"mt-4",children:[(0,b.jsx)(f.Z,{onClick:o,children:g("prev")}),(0,b.jsx)(f.Z,{type:"primary",onClick:function(){var e=function(){var e=[],t=[];return H.forEach((function(n){var i={},a={};W.forEach((function(e){i[e.locale]=n["key[".concat(e.locale,"]")],a[e.locale]=n["value[".concat(e.locale,"]")]})),e.push(i),t.push(a)})),{key:e,value:t}}();if(u)return O((0,_.nc)({activeMenu:E,data:(0,i.Z)((0,i.Z)({},E.data),{},{properties:H,props:e})})),void n();var t=C.state;if(C.state&&"edit"===d)return t.properties=H,t.props=e,void V("/seller/product/".concat(N,"?step=4"),{state:C.state});X(!0),w.Z.properties(N,e).then((function(){n()})).finally((function(){return X(!1)}))},loading:Q,children:g("next")})]})]})},C=n(44902),N=n(15861),V=n(4942),E=n(87757),M=n.n(E),U=n(16124),W=n(46155),R=n(22307),T=n(89802),z=n(89281),L=n(33724),A=n(85104),B=n(37630),K=function(e){var t,n=e.prev,o=e.next,u=e.isRequest,d=e.mode,p=(0,S.$)().t,x=c.Z.useForm(),y=(0,a.Z)(x,1)[0],g=(0,F.s0)(),q=(0,k.I0)(),I=(0,F.UO)().uuid,O=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,C=(0,k.v9)((function(e){return e.myShop}),k.wU).myShop,E=(0,l.useState)(null),K=(0,a.Z)(E,2),D=K[0],H=K[1],P=(0,F.TH)(),$=(0,k.v9)((function(e){return e.formLang}),k.wU).defaultLang,G=(0,k.v9)((function(e){return e.globalSettings})).settings,Q=(0,k.v9)((function(e){return e.currency}),k.wU).defaultCurrency,X=(0,l.useState)(null),J=(0,a.Z)(X,2),Y=J[0],ee=J[1],te=(0,l.useState)([]),ne=(0,a.Z)(te,2),ie=ne[0],ae=ne[1];function le(e){H(!0),w.Z.getById(e).then((function(e){var t;!function(e,t){var n,a,l=(0,L.Z)(e),o=l.map((function(e){var n,a;if(e.every((function(e){return"undefined"!==typeof e.stock_id}))){var l,o=null===t||void 0===t?void 0:t.find((function(t){return t.extras.every((function(t){return e.some((function(e){return e.value===t.id}))}))})),u=[];return null===o||void 0===o||null===(l=o.addons)||void 0===l||l.forEach((function(e){var t,n,i;e.product&&u.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),(0,i.Z)({price:(null===o||void 0===o?void 0:o.price)||0,quantity:(null===o||void 0===o?void 0:o.quantity)||0,sku:null===o||void 0===o?void 0:o.sku,stock_id:null===o||void 0===o?void 0:o.id,tax:(null===O||void 0===O?void 0:O.data.tax)||0,addons:u},Object.assign.apply(Object,[{}].concat((0,s.Z)(e.map((function(e,t){var n;return(0,V.Z)({},"extras[".concat(t,"]"),{label:e.label,value:e.value,group:null===(n=e.group.translation)||void 0===n?void 0:n.title})}))))))}return(0,i.Z)({price:void 0,quantity:0,tax:(null===(n=O.data)||void 0===n?void 0:n.tax)||0,sku:null===O||void 0===O||null===(a=O.data)||void 0===a?void 0:a.sku,addons:[]},Object.assign.apply(Object,[{}].concat((0,s.Z)(e.map((function(e,t){return(0,V.Z)({},"extras[".concat(t,"]"),{label:e.label,value:e.value})}))))))})),u=[];if(0===l.length&&0!==(null===t||void 0===t?void 0:t.length)){var r,d,c=null===t||void 0===t?void 0:t.at(0),v=[];null===c||void 0===c||null===(r=c.addons)||void 0===r||r.forEach((function(e){var t,n,i;e.product&&v.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),u=[{price:(null===c||void 0===c?void 0:c.price)||0,quantity:(null===c||void 0===c?void 0:c.quantity)||0,sku:null===c||void 0===c?void 0:c.sku,tax:(null===(d=O.data)||void 0===d?void 0:d.tax)||0,addons:c?v:[]}]}0===l.length&&0===(null===t||void 0===t?void 0:t.length)&&(u=[{price:void 0,quantity:0,sku:null===O||void 0===O||null===(n=O.data)||void 0===n?void 0:n.sku,tax:(null===(a=O.data)||void 0===a?void 0:a.tax)||0,addons:[]}]);var f=u.concat(o);ae(t.map((function(e){return e.id}))),y.setFieldsValue({stocks:f})}(null===O||void 0===O||null===(t=O.data.extras)||void 0===t?void 0:t.map((function(e){return e.values||[]})),e.data.stocks)})).finally((function(){H(!1)}))}var oe=function(){var e=(0,N.Z)(M().mark((function e(t){var n,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:t,addon:1,shop_id:C.id,active:1,"statuses[0]":"published","statuses[1]":"pending"},e.next=3,w.Z.getAll(n).then((function(e){return e.data.map((function(e){var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id}}))}));case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0=[];case 6:return i=e.t0,e.abrupt("return",[{label:p("all.addons"),value:"all",key:"all"}].concat((0,s.Z)(i)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e;if(u)if(null!==(e=P.state)&&void 0!==e&&e.generate){var t,n,a,l,o,r,d,c=(0,L.Z)(null===O||void 0===O||null===(t=O.data.extras)||void 0===t?void 0:t.map((function(e){return e.values||[]}))),v=c.map((function(e){var t,n;if(e.every((function(e){return"undefined"!==typeof e.stock_id}))){var a,l,o,u=null===(a=O.data)||void 0===a||null===(l=a.actualStocks)||void 0===l?void 0:l.find((function(t){return t.extras.every((function(t){return e.some((function(e){return e.value===t.id}))}))})),r=[];return null===u||void 0===u||null===(o=u.addons)||void 0===o||o.forEach((function(e){var t,n,i;e.product&&r.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),(0,i.Z)({price:(null===u||void 0===u?void 0:u.price)||0,quantity:(null===u||void 0===u?void 0:u.quantity)||0,stock_id:null===u||void 0===u?void 0:u.id,sku:null===u||void 0===u?void 0:u.sku,tax:(null===O||void 0===O?void 0:O.data.tax)||0,addons:r},Object.assign.apply(Object,[{}].concat((0,s.Z)(e.map((function(e,t){return(0,V.Z)({},"extras[".concat(t,"]"),{label:e.label,value:e.value,group:O.data.extras[t].label})}))))))}return(0,i.Z)({price:0,quantity:0,tax:(null===(t=O.data)||void 0===t?void 0:t.tax)||0,sku:null===O||void 0===O||null===(n=O.data)||void 0===n?void 0:n.sku,addons:[]},Object.assign.apply(Object,[{}].concat((0,s.Z)(e.map((function(e,t){return(0,V.Z)({},"extras[".concat(t,"]"),{label:e.label,value:e.value})}))))))})),f=[];if(0===c.length&&0!==(null===(n=O.data)||void 0===n||null===(a=n.actualStocks)||void 0===a?void 0:a.length)){var p,m,h,Z=null===(p=O.data.actualStocks)||void 0===p?void 0:p.at(0),x=[];null===Z||void 0===Z||null===(m=Z.addons)||void 0===m||m.forEach((function(e){var t,n,i;e.product&&x.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),f=[{price:(null===Z||void 0===Z?void 0:Z.price)||0,quantity:(null===Z||void 0===Z?void 0:Z.quantity)||0,sku:null===Z||void 0===Z?void 0:Z.sku,tax:(null===(h=O.data)||void 0===h?void 0:h.tax)||0,addons:Z?x:[]}]}if(0===(null===c||void 0===c?void 0:c.length)&&0===(null===(l=O.data)||void 0===l||null===(o=l.actualStocks)||void 0===o?void 0:o.length))f=[{price:void 0,quantity:0,sku:null===O||void 0===O||null===(r=O.data)||void 0===r?void 0:r.sku,tax:(null===(d=O.data)||void 0===d?void 0:d.tax)||0,addons:[]}];var j=f.concat(v);ae(O.data.actualStocks.map((function(e){return e.id}))),y.setFieldsValue({stocks:j})}else{var k,g=O.data.stocks.map((function(e){var t;return(0,i.Z)({price:e.price||0,quantity:e.quantity||0,tax:O.data.tax,sku:e.sku,stock_id:e.stock_id},Object.assign.apply(Object,[{}].concat((0,s.Z)(null===(t=e.ids)||void 0===t?void 0:t.map((function(e,t){return(0,V.Z)({},"extras[".concat(t,"]"),{label:e.label,value:e.value,group:e.group})}))))))}));ae((null===(k=O.data)||void 0===k?void 0:k.delete_ids)||[]),y.setFieldsValue({stocks:g})}else le(I)}),[u,null===(t=P.state)||void 0===t?void 0:t.generate]);var ue=function(e,t,n){return e.map((function(e){return Object.assign(e,(0,V.Z)({},t,n))}))},re=function(e,t){var n=e?(0,B.Z)(6):t,i=y.getFieldsValue().stocks;y.setFieldsValue({"set.all.sku":n,stock:ue(i,"sku",n)})};return(0,b.jsx)(r.Z,{title:O.data&&O.data["title[".concat($,"]")]?"".concat(O.data["title[".concat($,"]")]):"",loading:!!D,children:(0,b.jsxs)(c.Z,{layout:"vertical",form:y,onFinish:function(e){var t,n,a;ee(!0);var l,r,s=e.stocks,c=s.filter((function(e){var t,n,i=e.price,a=e.quantity;return!(null!==O&&void 0!==O&&null!==(t=O.data)&&void 0!==t&&null!==(n=t.stocks)&&void 0!==n&&n.some((function(e){var t=e.price,n=e.quantity;return i===t||a===n})))}));null===(t=O.data)||void 0===t||null===(n=t.extras)||void 0===n||!n.length?l=[{price:s[0].price,quantity:s[0].quantity,addons:s[0].addons?!(c.length>0||u||P.state)||null!==(r=P.state)&&void 0!==r&&r.create||"1"===(null===G||void 0===G?void 0:G.product_auto_approve)?s[0].addons.map((function(e){return e.value})):s[0].addons.map((function(e){return e})):[],stock_id:s[0].stock_id,sku:s[0].sku}]:l=s.map((function(e){var t,n,i,a,l,o;return{price:e.price,quantity:e.quantity,ids:!(c.length>0||u||P.state)||null!==(t=P.state)&&void 0!==t&&t.create||"0"!==(null===G||void 0===G?void 0:G.product_auto_approve)?null===(i=O.data)||void 0===i?void 0:i.extras.map((function(t,n){return e["extras[".concat(n,"]")].value})):null===(n=O.data)||void 0===n?void 0:n.extras.map((function(t,n){return e["extras[".concat(n,"]")]})),addons:e.addons?!(c.length>0||u||P.state)||null!==(a=P.state)&&void 0!==a&&a.create||"1"===(null===G||void 0===G?void 0:G.product_auto_approve)?null===(o=e.addons)||void 0===o?void 0:o.map((function(e){return e.value})):null===(l=e.addons)||void 0===l?void 0:l.map((function(e){return e})):[],stock_id:e.stock_id,sku:e.sku}}));var v=ie.filter((function(e,t){var n;return(null===(n=s[t])||void 0===n?void 0:n.stock_id)&&!s.some((function(t){return(null===t||void 0===t?void 0:t.stock_id)===e}))})),f=P.state;return u?(q((0,_.nc)({activeMenu:O,data:(0,i.Z)((0,i.Z)({},O.data),{},{stocks:l,delete_ids:v})})),void o()):!(c.length>0||P.state)||"edit"!==d||null!==(a=P.state)&&void 0!==a&&a.create||"0"!==(null===G||void 0===G?void 0:G.product_auto_approve)?void w.Z.stocks(I,{extras:l,delete_ids:v}).then((function(){return o()})).finally((function(){return ee(!1)})):(P.state?(f.stocks=l,f.delete_ids=v):f=(0,i.Z)((0,i.Z)({},O.data),{},{stocks:l,delete_ids:v}),void g("/seller/product/".concat(I,"?step=3"),{state:f}))},children:[(0,b.jsxs)(m.Z,{gutter:12,align:"middle",children:[(0,b.jsx)(h.Z,{span:5,style:{marginRight:"10px"},children:(0,b.jsx)(c.Z.Item,{label:p("sku"),name:"set.all.sku",children:(0,b.jsx)(Z.Z,{className:"w-100",onChange:function(e){return re(!1,e.target.value)}})})}),(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:" ",name:"sku",children:(0,b.jsx)(f.Z,{icon:(0,b.jsx)(A.Z,{}),onClick:function(){return re(!0)}})})}),(0,b.jsx)(h.Z,{span:4,children:(0,b.jsx)(c.Z.Item,{label:p("price"),name:"set.all.price",rules:[{type:"number",min:0,message:p("must.be.positive.number")}],children:(0,b.jsx)(U.Z,{className:"w-100",onChange:function(e){var t=y.getFieldsValue().stocks;y.setFieldsValue({stocks:ue(t,"price",e)})}})})}),(0,b.jsx)(h.Z,{span:4,children:(0,b.jsx)(c.Z.Item,{label:p("quantity"),name:"set.all.quantity",rules:[{type:"number",min:0,message:p("must.be.positive.number")}],children:(0,b.jsx)(U.Z,{className:"w-100",onChange:function(e){var t=y.getFieldsValue().stocks;y.setFieldsValue({stocks:ue(t,"quantity",e)})}})})}),(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:p("addons"),name:"addons",children:(0,b.jsx)(z.h,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:oe,allowClear:!0,onChange:function(e){var t=y.getFieldsValue().stocks;y.setFieldsValue({stocks:ue(t,"addons",e)})}})})})]}),(0,b.jsx)(W.Z,{}),(0,b.jsx)("h2",{children:p("values")}),(0,b.jsx)(c.Z.List,{name:"stocks",children:function(e,t){var n=t.remove;return(0,b.jsx)("div",{children:e.map((function(e,t){var i,a,l,o;return(0,b.jsxs)(m.Z,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},hidden:!(null!==(i=O.data)&&void 0!==i&&null!==(a=i.extras)&&void 0!==a&&a.length)&&e.key,children:[null===(l=O.data)||void 0===l||null===(o=l.extras)||void 0===o?void 0:o.map((function(e,n){return(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:null===e||void 0===e?void 0:e.label,name:[t,"extras[".concat(n,"]")],rules:[{required:!0,message:p("required")}],children:(0,b.jsx)(T.q,{fetchOptions:function(){return t=e.value,R.Z.getGroupById(t).then((function(e){return e.data.extra_values.map((function(e){return{label:e.value,value:e.id}}))}));var t},className:"w-100",disabled:!0,style:{minWidth:200}})})},"extra"+e.value)})),(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:p("addons"),name:[t,"addons"],rules:[{required:!1,message:p("required")}],children:(0,b.jsx)(z.h,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:oe,allowClear:!0})})}),(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:p("sku"),name:[t,"sku"],children:(0,b.jsx)(Z.Z,{className:"w-100",style:{minWidth:200}})})}),(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:p("quantity"),name:[t,"quantity"],rules:[{required:!0,message:p("required")}],children:(0,b.jsx)(U.Z,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{label:"".concat(p("price")," (").concat(null===Q||void 0===Q?void 0:Q.symbol,")"),name:[t,"price"],rules:[{required:!0,message:p("requried")}],children:(0,b.jsx)(U.Z,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(c.Z.Item,{label:p("tax"),name:[t,"tax"],children:(0,b.jsx)(U.Z,{className:"w-100",disabled:!0,style:{minWidth:200},addonAfter:"%"})}),(0,b.jsx)(c.Z.Item,{hidden:!0,label:p("id"),name:[t,"stock_id"],children:(0,b.jsx)(U.Z,{className:"w-100",disabled:!0,style:{minWidth:200},addonAfter:"%"})})]})," ",(0,b.jsx)(h.Z,{children:(0,b.jsx)(c.Z.Item,{noStyle:!0,shouldUpdate:function(t,n){return t.stocks[e.name].price!==n.stocks[e.name].price},children:function(t){var n=t.getFieldValue,i=n(["stocks",e.name,"tax"])||0,a=n(["stocks",e.name,"price"]),l=0===i?a:a*i/100+a;return(0,b.jsx)(c.Z.Item,{label:"".concat(p("total.price")," (").concat(null===Q||void 0===Q?void 0:Q.symbol,")"),children:(0,b.jsx)(U.Z,{min:1,disabled:!0,value:l,className:"w-100",style:{minWidth:200}})})}})}),(0,b.jsx)(h.Z,{children:e.key?(0,b.jsx)(f.Z,{type:"primary",className:"mt-2",danger:!0,icon:(0,b.jsx)(j.Z,{}),onClick:function(){n(e.name)}}):""})]},e.key)}))})}}),(0,b.jsxs)(v.Z,{className:"mt-4",children:[(0,b.jsx)(f.Z,{onClick:n,children:p("prev")}),(0,b.jsx)(f.Z,{type:"primary",htmlType:"submit",loading:!!Y,children:p("next")})]})]})})},D=n(89904),H=n(32937),P=n(33834),$=n(81218),G=u.Z.Step,Q=function(){var e,t=(0,S.$)().t,n=(0,F.UO)().id,s=(0,P.K)(),c=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,v=(0,k.I0)(),f=Number((null===(e=s.values)||void 0===e?void 0:e.step)||0),p=(0,l.useState)(c.refetch),m=(0,a.Z)(p,2),h=m[0],Z=m[1],x=function(){var e=f+1;s.set("step",e)},y=function(){var e=f-1;s.set("step",e)};(0,l.useEffect)((function(){var e;c.refetch&&(e=n,Z(!0),$.Z.getById(e).then((function(e){var t,n,a=e.data.data;v((0,_.nc)({activeMenu:c,data:(0,i.Z)((0,i.Z)({},a),{},{request_id:e.data.id,actualStocks:null===(t=e.data.model)||void 0===t?void 0:t.stocks,model_id:null===(n=e.data.model)||void 0===n?void 0:n.id,model:e.data.model})}))})).finally((function(){Z(!1),v((0,_.A_)(c))})))}),[c.refetch]);return(0,l.useEffect)((function(){return function(){v((0,_.ph)((0,i.Z)((0,i.Z)({},c),{},{nextUrl:"seller/products"})))}}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Z,{title:t("edit.food"),extra:(0,b.jsx)(g.Z,{}),children:(0,b.jsx)(u.Z,{current:f,onChange:function(e){v((0,_.nc)({activeMenu:c,data:(0,i.Z)((0,i.Z)({},c.data),{},{step:e})})),s.set("step",e)},children:o.S.map((function(e){return(0,b.jsx)(G,{title:t(e.title)},e.title)}))})}),h?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(d.Z,{size:"large",className:"py-5"})}):(0,b.jsxs)("div",{className:"",children:["First-content"===o.S[f].content&&(0,b.jsx)(H.Z,{isRequest:!0,next:x,action_type:"edit"}),"Second-content"===o.S[f].content&&(0,b.jsx)(D.Z,{isRequest:!0,next:x,prev:y}),"Third-content"===o.S[f].content&&(0,b.jsx)(K,{isRequest:!0,next:x,prev:y}),"Fourth-content"===o.S[f].content&&(0,b.jsx)(O,{isRequest:!0,next:x,prev:y}),"Finish-content"===o.S[f].content&&(0,b.jsx)(C.Z,{isRequest:!0,prev:y})]})]})}},85104:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(1413),a=n(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"},o=n(17469),u=function(e,t){return a.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:l}))};u.displayName="DeploymentUnitOutlined";var r=a.forwardRef(u)},24654:function(){}}]);