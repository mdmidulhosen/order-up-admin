"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2211],{82211:function(l,n,e){e.r(n),e.d(n,{default:function(){return S}});var i=e(1413),t=e(29439),a=e(47313),o=e(2717),d=e(90954),r=e(97890),s=e(24511),c=e(23560),u=e(56140),v=e(77181),m=e(83371),h=e(68197),x=e(59624),p=e(93709),Z=e(45705),j=e(59491),b=e(72652),f=e(97421),g=e(71810),y=e(14349),I=e(10976),q=e(9274),k=e(66672),w=e(46417);function C(l){var n=l.data,e=l.handleCancel,o=l.handleOk,d=l.visible,r=(0,s.$)().t,c=I.Z.useForm(),u=(0,t.Z)(c,1)[0],v=(0,a.useState)(!1),m=(0,t.Z)(v,2),p=m[0],Z=m[1];return(0,w.jsx)(q.Z,{title:r(n.title),visible:d,onCancel:e,footer:[(0,w.jsx)(j.Z,{type:"primary",onClick:function(){return u.submit()},loading:p,children:r("save")}),(0,w.jsx)(j.Z,{type:"default",onClick:e,children:r("cancel")})],children:(0,w.jsx)(I.Z,{layout:"vertical",onFinish:function(l){Z(!0);var n=(0,i.Z)((0,i.Z)({},l),{},{status:"canceled"});o(n)},form:u,children:(0,w.jsx)(I.Z.Item,{children:(0,w.jsx)(h.Z,{className:"mt-4",children:(0,w.jsx)(x.Z,{span:24,children:(0,w.jsx)(I.Z.Item,{name:"status_note",label:r("note"),rules:[{validator:function(l,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(r("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(r("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(r("required")))}}],children:(0,w.jsx)(k.Z.TextArea,{maxLength:250,showCount:!0})})})})})})})}var _=u.Z.Text,N={type:"product"},S=function(){var l,n,e,u,I,q,k,S,E,P,A,F,L,O,U,T,$,z,B,M,V=(0,o.I0)(),D=(0,r.s0)(),G=(0,s.$)().t,H=(0,r.UO)().id,J=(0,o.v9)((function(l){return l.menu})).activeMenu,K=(0,o.v9)((function(l){return l.formLang}),o.wU).defaultLang,Q=(0,a.useState)(!1),R=(0,t.Z)(Q,2),W=R[0],X=R[1],Y=(0,a.useState)(!1),ll=(0,t.Z)(Y,2),nl=ll[0],el=ll[1],il=(0,a.useState)({}),tl=(0,t.Z)(il,2),al=tl[0],ol=tl[1],dl=(0,a.useState)({}),rl=(0,t.Z)(dl,2),sl=rl[0],cl=rl[1],ul=(0,a.useState)(""),vl=(0,t.Z)(ul,2),ml=vl[0],hl=vl[1],xl=(0,a.useState)(!1),pl=(0,t.Z)(xl,2),Zl=pl[0],jl=pl[1];function bl(l){el(!0);var n="catalog/products";y.Z.changeStatus(H,l).then((function(){D("/".concat(n),{state:{tab:"request"}}),V((0,d.ph)((0,i.Z)((0,i.Z)({},J),{},{nextUrl:n}))),c.Am.success(G("successfully.changed")),V((0,g.aw)(N))})).finally((function(){jl(!1),el(!1)}))}(0,a.useEffect)((function(){var l;l=H,X(!0),y.Z.getById(l).then((function(l){var n;ol(l.data.data),cl(l.data.model),hl(null===(n=l.data)||void 0===n?void 0:n.status_note)})).finally((function(){X(!1),V((0,d.A_)(J))}))}),[H]);var fl=al,gl=sl;return W?(0,w.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,w.jsx)(b.Z,{size:"large",className:"py-5"})}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(v.Z,{children:[(0,w.jsxs)(m.Z,{bordered:!0,title:G("changed.info"),children:[(0,w.jsx)(m.Z.Item,{label:"".concat(G("title")," (").concat(K,")"),span:3,children:(0,w.jsx)(_,{type:(null===fl||void 0===fl?void 0:fl["title[".concat(K,"]")])!==(null===gl||void 0===gl||null===(l=gl.translation)||void 0===l?void 0:l.title)?"danger":void 0,children:null===fl||void 0===fl?void 0:fl["title[".concat(K,"]")]})}),(0,w.jsx)(m.Z.Item,{label:"".concat(G("description")," (").concat(K,")"),span:3,children:(0,w.jsx)(_,{type:fl["description[".concat(K,"]")]!==(null===gl||void 0===gl||null===(n=gl.translation)||void 0===n?void 0:n.description)?"danger":void 0,children:fl["description[".concat(K,"]")]})}),(0,w.jsx)(m.Z.Item,{label:G("shop"),span:1.5,children:(0,w.jsx)(_,{type:(null===fl||void 0===fl||null===(e=fl.shop)||void 0===e?void 0:e.translation.title)!==(null===gl||void 0===gl||null===(u=gl.shop)||void 0===u?void 0:u.translation.title)?"danger":void 0,children:null===fl||void 0===fl||null===(I=fl.shop)||void 0===I?void 0:I.translation.title})}),(0,w.jsx)(m.Z.Item,{label:G("category"),span:1.5,children:(0,w.jsx)(_,{type:(null===fl||void 0===fl||null===(q=fl.category)||void 0===q?void 0:q.label)!==(null===gl||void 0===gl||null===(k=gl.category)||void 0===k?void 0:k.translation.title)?"danger":void 0,children:null===fl||void 0===fl||null===(S=fl.category)||void 0===S?void 0:S.label})}),(0,w.jsx)(m.Z.Item,{label:G("brand"),span:1.5,children:null===fl||void 0===fl||null===(E=fl.brand)||void 0===E?void 0:E.label}),(0,w.jsx)(m.Z.Item,{label:G("unit"),span:1.5,children:null===fl||void 0===fl||null===(P=fl.unit)||void 0===P?void 0:P.label}),(0,w.jsx)(m.Z.Item,{label:G("images"),span:3,children:(0,w.jsx)(h.Z,{gutter:12,children:null===fl||void 0===fl||null===(A=fl.images)||void 0===A?void 0:A.map((function(l,n){return(0,w.jsx)(x.Z,{children:(0,w.jsx)("img",{width:80,alt:"product",src:l.url})},"image"+n)}))})}),(0,w.jsx)(m.Z.Item,{label:G("tax"),children:null===fl||void 0===fl?void 0:fl.tax}),(0,w.jsx)(m.Z.Item,{label:G("min.quantity"),children:null===fl||void 0===fl?void 0:fl.min_qty}),(0,w.jsx)(m.Z.Item,{label:G("max.quantity"),children:null===fl||void 0===fl?void 0:fl.max_qty})]}),null===fl||void 0===fl||null===(F=fl.stocks)||void 0===F?void 0:F.map((function(l,n){var e;return l?(0,w.jsxs)(m.Z,{bordered:!0,className:"mt-4",children:[(0,w.jsx)(m.Z.Item,{label:G("price"),span:2,children:l.price}),(0,w.jsx)(m.Z.Item,{label:G("quantity"),span:2,children:l.quantity}),null===l||void 0===l||null===(e=l.ids)||void 0===e?void 0:e.map((function(l,n){return(0,w.jsx)(m.Z.Item,{label:null===fl||void 0===fl?void 0:fl.extras[n].label,children:null===l||void 0===l?void 0:l.label},"extra"+n)}))]},"desc"+n):""})),(0,w.jsxs)(m.Z,{bordered:!0,className:"mt-4",title:G("original.info"),children:[(0,w.jsx)(m.Z.Item,{label:"".concat(G("title")," (").concat(K,")"),span:3,column:3,children:null===gl||void 0===gl||null===(L=gl.translation)||void 0===L?void 0:L.title}),(0,w.jsx)(m.Z.Item,{label:"".concat(G("description")," (").concat(K,")"),span:3,column:3,children:null===gl||void 0===gl||null===(O=gl.translation)||void 0===O?void 0:O.description}),(0,w.jsx)(m.Z.Item,{label:G("shop"),span:1.5,column:1.5,children:null===gl||void 0===gl||null===(U=gl.shop)||void 0===U?void 0:U.translation.title}),(0,w.jsx)(m.Z.Item,{label:G("category"),span:1.5,column:1.5,children:null===gl||void 0===gl||null===(T=gl.category)||void 0===T?void 0:T.translation.title}),(0,w.jsx)(m.Z.Item,{label:G("brand"),span:1.5,column:1.5,children:null===gl||void 0===gl||null===($=gl.brand)||void 0===$?void 0:$.title}),(0,w.jsx)(m.Z.Item,{label:G("unit"),span:1.5,column:1.5,children:null===gl||void 0===gl||null===(z=gl.unit)||void 0===z?void 0:z.translation.title}),(0,w.jsx)(m.Z.Item,{label:G("images"),span:3,column:3,children:(0,w.jsx)(h.Z,{gutter:12,children:null===gl||void 0===gl||null===(B=gl.galleries)||void 0===B?void 0:B.map((function(l,n){return(0,w.jsx)(x.Z,{children:(0,w.jsx)("img",{width:80,alt:"product",src:f.bV+l.path})},"image"+n)}))})}),(0,w.jsx)(m.Z.Item,{span:3,column:3,label:G("tax"),children:null===gl||void 0===gl?void 0:gl.tax}),(0,w.jsx)(m.Z.Item,{span:3,column:3,label:G("min.quantity"),children:null===gl||void 0===gl?void 0:gl.min_qty}),(0,w.jsx)(m.Z.Item,{span:3,column:3,label:G("max.quantity"),children:null===gl||void 0===gl?void 0:gl.max_qty})]}),null===gl||void 0===gl||null===(M=gl.stocks)||void 0===M?void 0:M.map((function(l,n){var e;return l?(0,w.jsxs)(m.Z,{bordered:!0,className:"mt-4",children:[(0,w.jsx)(m.Z.Item,{label:G("price"),span:2,column:2,children:null===l||void 0===l?void 0:l.price}),(0,w.jsx)(m.Z.Item,{label:G("quantity"),span:2,column:2,children:null===l||void 0===l?void 0:l.quantity}),null===l||void 0===l||null===(e=l.extras)||void 0===e?void 0:e.map((function(l,n){var e,i;return(0,w.jsx)(m.Z.Item,{label:null===l||void 0===l||null===(e=l.group)||void 0===e||null===(i=e.translation)||void 0===i?void 0:i.title,span:2,column:2,children:null===l||void 0===l?void 0:l.value},"extra"+n)}))]},"desc"+n):""})),ml&&(0,w.jsx)(p.Z,{className:"mt-4",message:G("status.note"),description:ml,type:"error"}),(0,w.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,w.jsxs)(Z.Z,{children:[(0,w.jsx)(j.Z,{type:"primary",onClick:function(){bl({status:"approved"})},children:G("accept")}),(0,w.jsx)(j.Z,{type:"primary",danger:!0,onClick:function(){jl(!0)},children:G("decline")})]})})]}),(0,w.jsx)(C,{data:{title:"decline"},visible:Zl,handleCancel:function(){return jl(!1)},handleOk:bl,laoding:nl})]})}}}]);