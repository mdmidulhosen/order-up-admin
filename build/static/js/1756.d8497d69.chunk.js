"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1756],{91756:function(e,r,s){s.r(r);var t=s(1413),n=s(29439),i=s(47313),a=s(97890),l=s(23560),u=s(10976),m=s(77181),o=s(2717),c=s(90954),d=s(24511),h=s(38758),p=s(84926),f=s(37495),x=s(46417);r.default=function(){var e=(0,d.$)().t,r=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu,s=(0,o.I0)(),Z=u.Z.useForm(),v=(0,n.Z)(Z,1)[0],j=(0,a.s0)();(0,i.useEffect)((function(){return function(){var e=v.getFieldsValue(!0);s((0,c.nc)({activeMenu:r,data:e}))}}),[]);return(0,x.jsx)(m.Z,{title:e("add.email.provider"),className:"h-100",children:(0,x.jsx)(f.Z,{form:v,handleSubmit:function(n){var i={smtp_auth:n.smtp_auth,smtp_debug:n.smtp_debug,port:n.port,password:n.password,from_to:n.from_to,host:n.host,active:Number(n.active),from_site:n.from_site},a="settings/emailProviders";return h.Z.create(i).then((function(){l.Am.success(e("successfully.created")),(0,o.dC)((function(){s((0,c.ph)((0,t.Z)((0,t.Z)({},r),{},{nextUrl:a}))),s((0,p.z)({}))})),j("/".concat(a))}))}})})}},37495:function(e,r,s){s.d(r,{Z:function(){return x}});var t=s(1413),n=s(29439),i=s(47313),a=s(10976),l=s(68197),u=s(59624),m=s(66672),o=s(16124),c=s(86345),d=s(59491),h=s(2717),p=s(24511),f=s(46417);function x(e){var r=e.form,s=e.handleSubmit,x=(0,p.$)().t,Z=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,v=(0,i.useState)(!1),j=(0,n.Z)(v,2),b=j[0],g=j[1];return(0,f.jsxs)(a.Z,{name:"email-provider-form",layout:"vertical",onFinish:function(e){g(!0),s(e).finally((function(){return g(!1)}))},form:r,initialValues:(0,t.Z)({smtp_debug:!0,smtp_auth:!0,active:!0},Z.data),className:"d-flex flex-column h-100",children:[(0,f.jsxs)(l.Z,{gutter:12,children:[(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:x("required")},{type:"email",message:x("invalid.email")}],label:x("email"),name:"from_to",children:(0,f.jsx)(m.Z,{placeholder:"Email"})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:x("required")},{type:"string",min:6,message:x("min.6.letters")}],label:x("password"),name:"password",normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,f.jsx)(m.Z.Password,{})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(x("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(x("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(x("required")))}}],label:x("host"),name:"host",children:(0,f.jsx)(m.Z,{})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:x("required")}],label:x("port"),name:"port",children:(0,f.jsx)(o.Z,{min:0,className:"w-100"})})}),(0,f.jsx)(u.Z,{span:12,children:(0,f.jsx)(a.Z.Item,{rules:[{required:!0,message:x("required")}],label:x("from.site"),name:"from_site",children:(0,f.jsx)(m.Z,{})})}),(0,f.jsx)(u.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{label:x("active"),name:"active",valuePropName:"checked",children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(u.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{valuePropName:"checked",label:x("smtp_debug"),name:"smtp_debug",children:(0,f.jsx)(c.Z,{})})}),(0,f.jsx)(u.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{valuePropName:"checked",label:x("smtp_auth"),name:"smtp_auth",children:(0,f.jsx)(c.Z,{})})})]}),(0,f.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,f.jsx)("div",{className:"pb-5",children:(0,f.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:b,children:x("submit")})})})]})}}}]);