(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3126],{55940:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(1413),r=t(45987),a=(t(47313),t(59491)),o=t(47515),l=t(23560),d=t(24511),s=t(79492),c=t(46417),u=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,f=e.type,h=void 0===f?"default":f,m=(0,r.Z)(e,u),x=(0,d.$)().t,Z=(0,s.Z)().isDemo;return(0,c.jsx)(a.Z,(0,i.Z)({size:t,icon:(0,c.jsx)(o.Z,{}),onClick:function(e){Z?l.Am.warning(x("cannot.work.demo")):v(e)},type:h},m))}},50402:function(e,n,t){"use strict";t(47313);var i=t(68197),r=t(59624),a=t(2717),o=t(24511),l=t(14637),d=t(29242),s=t(46417);n.Z=function(e){var n=e.data,t=(0,o.$)().t,c=(0,a.v9)((function(e){return e.currency}),a.wU).defaultCurrency;return(0,s.jsxs)(i.Z,{gutter:16,className:"mt-3",children:[(0,s.jsx)(r.Z,{flex:"0 0 16.6%",children:(0,s.jsx)(l.Z,{title:t("all.orders"),value:null===n||void 0===n?void 0:n.orders_count})}),(0,s.jsx)(r.Z,{flex:"0 0 16.6%",children:(0,s.jsx)(l.Z,{title:t("ready.orders"),value:null===n||void 0===n?void 0:n.ready_orders_count})}),(0,s.jsx)(r.Z,{flex:"0 0 16.6%",children:(0,s.jsx)(l.Z,{title:t("on.a.way.orders"),value:null===n||void 0===n?void 0:n.on_a_way_orders_count})}),(0,s.jsx)(r.Z,{flex:"0 0 16.6%",children:(0,s.jsx)(l.Z,{title:t("cancelled.orders"),value:null===n||void 0===n?void 0:n.cancel_orders_count})}),(0,s.jsx)(r.Z,{flex:"0 0 16.6%",children:(0,s.jsx)(l.Z,{title:t("delivered.orders"),value:null===n||void 0===n?void 0:n.delivered_orders_count})}),(0,s.jsx)(r.Z,{flex:"0 0 16.6%",children:(0,s.jsx)(l.Z,{title:t("total.price"),value:(0,d.p)(null===n||void 0===n?void 0:n.total_price,null===c||void 0===c?void 0:c.symbol)})})]})}},53233:function(e,n,t){"use strict";var i=t(1413),r=t(29439),a=t(47313),o=t(56140),l=t(67251),d=t(45705),s=t(86345),c=t(78267),u=t(37388),v=t(59491),f=t(99587),h=t(24511),m=t(46417),x=o.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,o=e.setColumns,Z=e.style,p=e.size,j=void 0===p?"":p,y=e.iconOnly,g=(0,h.$)().t,b=(0,a.useState)(!1),w=(0,r.Z)(b,2),_=w[0],C=w[1],k=(0,m.jsx)(l.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,m.jsx)(l.Z.Item,{children:(0,m.jsxs)(d.Z,{className:"d-flex justify-content-between",children:[(0,m.jsx)(x,{children:e.title}),(0,m.jsx)(s.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));o(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,m.jsx)(c.Z,{overlay:k,trigger:["click"],onVisibleChange:function(e){C(e)},visible:_,children:(0,m.jsx)(u.Z,{title:g("change.columns"),children:(0,m.jsx)(v.Z,{style:(0,i.Z)({},Z),size:j,icon:(0,m.jsx)(f.Z,{}),children:y?null:g("Columns")})})})}},41481:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(1413),r=t(29439),a=t(45987),o=t(47313),l=t(66672),d=t(16031),s=t(40765),c=t(46417),u=["handleChange","defaultValue","resetSearch"];function v(e){var n=e.handleChange,t=e.defaultValue,v=e.resetSearch,f=(0,a.Z)(e,u),h=(0,o.useState)(t),m=(0,r.Z)(h,2),x=m[0],Z=m[1],p=(0,o.useMemo)((function(){return(0,d.debounce)((function(e){n(e)}),800)}),[n]);return(0,o.useEffect)((function(){Z(t)}),[v,t]),(0,c.jsx)(l.Z,(0,i.Z)({value:x,onChange:function(e){Z(e.target.value),p(e.target.value)},prefix:(0,c.jsx)(s.Z,{})},f))}},13945:function(e,n,t){"use strict";function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return i}})},29242:function(e,n,t){"use strict";function i(e,n){var t=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(n){return e>=n.value}));return t?"$"+(e/t.value).toFixed(n).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+t.symbol:"0"}t.d(n,{p:function(){return i}})},36311:function(e,n,t){"use strict";var i=t(34344),r={orderExport:function(e,n){return i.Z.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:n,responseType:"blob"})}};n.Z=r},14637:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});t(47313);var i=t(77181),r=t(46417);function a(e){var n=e.title,t=void 0===n?"Orders":n,a=e.value,o=void 0===a?0:a,l=e.color,d=void 0===l?"grey":l,s=e.onClick;return(0,r.jsx)(i.Z,{className:"statistics-card",hoverable:!!s,onClick:s,children:(0,r.jsxs)("div",{className:"card-wrapper",children:[(0,r.jsx)("div",{className:"space"}),(0,r.jsx)("div",{className:"content",children:(0,r.jsx)("h1",{className:"number",children:o})}),(0,r.jsx)("span",{className:"highlighter ".concat(d)}),t&&(0,r.jsx)("h4",{className:"title",children:t})]})})}},83126:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var i=t(4942),r=t(93433),a=t(1413),o=t(29439),l=t(47313),d=t(99096),s=t(73591),c=t(66204),u=t(59491),v=t(45705),f=t(72652),h=t(77181),m=t(78508),x=t(97890),Z=t(12019),p=t(31741),j=t(47515),y=t(6986),g=t(2717),b=t(90954),w=t(24511),_=t(80314),C=t(22054),k=t(13945),S=t(41481),z=t(84017),M=t(7920),U=t(24077),N=t(53233),V=t(5958),A=t(80355),I=t(24391),Y=t(23560),R=t(55940),T=t(7370),D=t(74580),H=t(69658),B=t(97421),E=t(50402),L=t(70816),O=t.n(L),$=t(46417),P=d.Z.RangePicker,K=s.Z.TabPane;function F(){var e,n,t=(0,g.I0)(),d=(0,x.s0)(),L=(0,w.$)().t,F=(0,g.v9)((function(e){return e.currency}),g.wU).defaultCurrency,G=(0,l.useState)(null),q=(0,o.Z)(G,2),J=q[0],W=q[1],X=(0,l.useState)(null),Q=(0,o.Z)(X,2),ee=Q[0],ne=Q[1],te=(0,l.useState)(null),ie=(0,o.Z)(te,2),re=ie[0],ae=ie[1],oe=(0,l.useState)(null),le=(0,o.Z)(oe,2),de=le[0],se=le[1],ce=(0,x.UO)().id,ue=[{id:7,name:"all"},{id:3,name:"ready"},{id:4,name:"on_a_way"},{id:5,name:"delivered"},{id:6,name:"canceled"}],ve=(0,l.useState)([{title:L("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:L("client"),is_show:!0,dataIndex:"user",key:"user",render:function(e){return(0,$.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})}},{title:L("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:function(e){return(0,$.jsxs)("div",{className:"text-lowercase",children:[e||0," ",L("products")]})}},{title:L("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,n){return(0,$.jsxs)("div",{children:["new"===e?(0,$.jsx)(c.Z,{color:"blue",children:L(e)}):"canceled"===e?(0,$.jsx)(c.Z,{color:"error",children:L(e)}):(0,$.jsx)(c.Z,{color:"cyan",children:L(e)}),"delivered"!==e&&"canceled"!==e?(0,$.jsx)(Z.Z,{onClick:function(){return W(n)}}):""]})}},{title:L("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:function(e,n){return(0,$.jsx)("div",{children:"ready"===n.status&&"pickup"!==n.delivery_type?(0,$.jsx)(u.Z,{type:"link",onClick:function(){return se(n)},children:(0,$.jsxs)(v.Z,{children:[e?"".concat(e.firstname," ").concat(e.lastname):L("add.deliveryman"),(0,$.jsx)(Z.Z,{})]})}):(0,$.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})}},{title:L("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:function(e){return(0,z.Z)(e,F.symbol)}},{title:L("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e){var n;return L(null===e||void 0===e||null===(n=e.payment_system)||void 0===n?void 0:n.tag)||"-"}},{title:L("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:L("options"),is_show:!0,key:"options",render:function(e,n){return(0,$.jsxs)(v.Z,{children:[(0,$.jsx)(u.Z,{icon:(0,$.jsx)(V.Y4r,{}),onClick:function(){return ne(n.id)}}),(0,$.jsx)(u.Z,{icon:(0,$.jsx)(p.Z,{}),onClick:function(){return function(e){t((0,b.bL)({url:"order/details/".concat(e.id),id:"order_details",name:L("order.details")})),d("/order/details/".concat(e.id))}(n)}}),(0,$.jsx)(R.Z,{icon:(0,$.jsx)(j.Z,{}),onClick:function(){Ce([n.id]),xe(!0),Me(!0)}}),(0,$.jsx)(u.Z,{icon:(0,$.jsx)(y.Z,{}),onClick:function(){return ae(n.id)}})]})}}]),fe=(0,o.Z)(ve,2),he=fe[0],me=fe[1],xe=(0,l.useContext)(D._).setIsModalVisible,Ze=(0,l.useState)(!1),pe=(0,o.Z)(Ze,2),je=pe[0],ye=pe[1],ge=(0,g.v9)((function(e){return e.menu}),g.wU).activeMenu,be=(0,l.useState)(null),we=(0,o.Z)(be,2),_e=we[0],Ce=we[1],ke=(0,l.useState)(null),Se=(0,o.Z)(ke,2),ze=Se[0],Me=Se[1],Ue=(0,l.useState)(!1),Ne=(0,o.Z)(Ue,2),Ve=Ne[0],Ae=Ne[1],Ie=(0,g.v9)((function(e){return e.orders}),g.wU),Ye=Ie.orders,Re=Ie.meta,Te=Ie.loading,De=Ie.params,He=Ie.statistic,Be=null===ge||void 0===ge?void 0:ge.data;(0,_.Z)((function(){var e={search:null===Be||void 0===Be?void 0:Be.search,sort:null===Be||void 0===Be?void 0:Be.sort,column:null===Be||void 0===Be?void 0:Be.column,perPage:null===Be||void 0===Be?void 0:Be.perPage,page:null===Be||void 0===Be?void 0:Be.page,deliveryman:ce,date_from:null===Be||void 0===Be?void 0:Be.date_from,date_to:null===Be||void 0===Be?void 0:Be.date_to,status:"all"===(null===Be||void 0===Be?void 0:Be.status)||null===Be||void 0===Be?void 0:Be.status};t((0,C.AU)(e))}),[null===ge||void 0===ge?void 0:ge.data]);var Ee=function(){W(null),se(null),ne(null),ae(null)};(0,l.useEffect)((function(){if(null!==ge&&void 0!==ge&&ge.refetch){var e={status:null===Be||void 0===Be?void 0:Be.status,page:null===Be||void 0===Be?void 0:Be.page,perPage:10,type:"delivery",deliveryman:ce};t((0,C.AU)(e)),t((0,b.A_)(ge))}}),[null===ge||void 0===ge?void 0:ge.refetch]);var Le={selectedRowKeys:_e,onChange:function(e){Ce(e)}};return(0,$.jsxs)("div",{children:[(0,$.jsx)(f.Z,{spinning:Te,children:(0,$.jsx)(E.Z,{data:He})}),(0,$.jsxs)(h.Z,{title:L("orders"),extra:(0,$.jsxs)(v.Z,{wrap:!0,children:[(0,$.jsx)(P,{format:"YYYY-MM-DD",onChange:function(e){return n=e,void t((0,b.nc)({activeMenu:ge,data:(0,a.Z)((0,a.Z)({},Be),{},{date_from:n?O()(null===n||void 0===n?void 0:n[0]).format("YYYY-MM-DD").toString():void 0,date_to:n?O()(null===n||void 0===n?void 0:n[1]).format("YYYY-MM-DD").toString():void 0})}));var n}}),(0,$.jsx)(R.Z,{type:"danger",onClick:function(){null===_e||0===_e.length?Y.Am.warning(L("select.the.product")):(xe(!0),Me(!1))},children:L("delete.all")}),(0,$.jsx)(u.Z,{onClick:function(){ye(!0),T.Z.export({type:"delivery",deliveryman:ce,date_from:null===Be||void 0===Be?void 0:Be.date_from,date_to:null===Be||void 0===Be?void 0:Be.date_to,status:"all"===(null===Be||void 0===Be?void 0:Be.status)||null===Be||void 0===Be?void 0:Be.status}).then((function(e){var n=B.S0+e.data.file_name;window.location.href=n})).finally((function(){return ye(!1)}))},loading:je,children:L("export")}),(0,$.jsx)(N.Z,{setColumns:me,columns:he})]}),children:[(0,$.jsx)("div",{className:"mt-2 mb-4",children:(0,$.jsx)(S.Z,{placeholder:L("search"),width:480,handleChange:function(e){return n=e,r="search",void t((0,b.nc)({activeMenu:ge,data:(0,a.Z)((0,a.Z)({},Be),{},(0,i.Z)({},r,n))}));var n,r},defaultValue:null===(e=ge.data)||void 0===e?void 0:e.search,resetSearch:!(null!==(n=ge.data)&&void 0!==n&&n.search)})}),(0,$.jsx)(s.Z,{onChange:function(e){var n=e;t((0,b.nc)({activeMenu:ge,data:(0,a.Z)((0,a.Z)({},Be),{},{status:n})}))},type:"card",activeKey:null===Be||void 0===Be?void 0:Be.status,children:ue.map((function(e){return(0,$.jsx)(K,{tab:L(e.name)},e.name)}))}),(0,$.jsx)(m.Z,{scroll:{x:!0},rowSelection:Le,columns:null===he||void 0===he?void 0:he.filter((function(e){return e.is_show})),dataSource:Ye,loading:Te,pagination:{pageSize:De.perPage,page:De.page,total:Re.total,defaultCurrent:De.page},rowKey:function(e){return e.id},onChange:function(e,n,i){var r=e.pageSize,o=e.current,l=i.field,d=i.order,s=(0,k.Z)(d);t((0,b.nc)({activeMenu:ge,data:(0,a.Z)((0,a.Z)({},ge.data),{},{perPage:r,page:o,column:l,sort:s})}))}}),J&&(0,$.jsx)(M.Z,{orderDetails:J,handleCancel:Ee,status:ue}),de&&(0,$.jsx)(U.Z,{orderDetails:de,handleCancel:Ee}),ee&&(0,$.jsx)(A.Z,{id:ee,handleCancel:Ee}),re&&(0,$.jsx)(I.Z,{id:re,handleCancel:Ee}),(0,$.jsx)(H.Z,{click:function(){Ae(!0);var e=(0,a.Z)({},Object.assign.apply(Object,[{}].concat((0,r.Z)(_e.map((function(e,n){return(0,i.Z)({},"ids[".concat(n,"]"),e)}))))));T.Z.delete(e).then((function(){Y.Am.success(L("successfully.deleted")),xe(!1),t((0,C.AU)()),Me(null),Ce(null)})).finally((function(){return Ae(!1)}))},text:L(ze?"delete":"all.delete"),loading:Ve,setText:Ce})]})]})}},24391:function(e,n,t){"use strict";var i=t(29439),r=t(47313),a=t(36311),o=t(83334),l=t.n(o),d=t(51282),s=t(77181),c=t(9274),u=t(59491),v=t(68197),f=t(59624),h=t(24511),m=t(58821),x=t(57864),Z=t(97890),p=t(46417),j=s.Z.Meta;n.Z=function(e){var n=e.id,t=e.handleCancel,o=(0,r.useState)(null),y=(0,i.Z)(o,2),g=y[0],b=y[1],w=(0,h.$)().t,_=(0,Z.s0)();return(0,p.jsx)(p.Fragment,{children:g?(0,p.jsx)(d.Z,{}):(0,p.jsx)(c.Z,{visible:!!n,title:w("selected.download"),closable:!1,handleCancel:t,footer:[(0,p.jsx)(u.Z,{type:"default",onClick:t,children:w("cancel")},"cancelBtn")],children:(0,p.jsxs)(v.Z,{children:[(0,p.jsx)(f.Z,{span:12,children:(0,p.jsx)(s.Z,{title:w("download.pdf"),onClick:function(){return function(e){b(!0),a.Z.orderExport(e).then((function(n){l()(n,"invoice_".concat(e,".pdf"),"application/pdf"),t()})).finally((function(){return b(!1)}))}(n)},className:"text-center cursor-pointer",children:(0,p.jsx)(j,{className:"d-flex align-items-center justify-content-center",title:(0,p.jsx)(m._JY,{size:80})})})}),(0,p.jsx)(f.Z,{span:12,children:(0,p.jsx)(s.Z,{title:w("download.check"),onClick:function(){return function(e){_("/orders/generate-invoice/".concat(e))}(n)},className:"text-center cursor-pointer",children:(0,p.jsx)(j,{className:"d-flex align-items-center justify-content-center",title:(0,p.jsx)(x.ih9,{size:85})})})})]})})})}},99587:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(1413),r=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},o=t(17469),l=function(e,n){return r.createElement(o.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:a}))};l.displayName="TableOutlined";var d=r.forwardRef(l)},83334:function(e,n){var t,i,r;i=[],void 0===(r="function"===typeof(t=function(){return function e(n,t,i){var r,a,o=window,l="application/octet-stream",d=i||l,s=n,c=!t&&!i&&s,u=document.createElement("a"),v=function(e){return String(e)},f=o.Blob||o.MozBlob||o.WebKitBlob||v,h=t||"download";if(f=f.call?f.bind(o):Blob,"true"===String(this)&&(d=(s=[s,d])[0],s=s[1]),c&&c.length<2048&&(h=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(n){e(n.target.response,h,l)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(s)){if(!(s.length>2096103.424&&f!==v))return navigator.msSaveBlob?navigator.msSaveBlob(j(s),h):y(s);d=(s=j(s)).type||l}else if(/([\x80-\xff])/.test(s)){for(var x=0,Z=new Uint8Array(s.length),p=Z.length;x<p;++x)Z[x]=s.charCodeAt(x);s=new f([Z],{type:d})}function j(e){for(var n=e.split(/[:;,]/),t=n[1],i=("base64"==n[2]?atob:decodeURIComponent)(n.pop()),r=i.length,a=0,o=new Uint8Array(r);a<r;++a)o[a]=i.charCodeAt(a);return new f([o],{type:t})}function y(e,n){if("download"in u)return u.href=e,u.setAttribute("download",h),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===n&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var t=document.createElement("iframe");document.body.appendChild(t),!n&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),t.src=e,setTimeout((function(){document.body.removeChild(t)}),333)}if(r=s instanceof f?s:new f([s],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(r,h);if(o.URL)y(o.URL.createObjectURL(r),!0);else{if("string"===typeof r||r.constructor===v)try{return y("data:"+d+";base64,"+o.btoa(r))}catch(g){return y("data:"+d+","+encodeURIComponent(r))}(a=new FileReader).onload=function(e){y(this.result)},a.readAsDataURL(r)}return!0}})?t.apply(n,i):t)||(e.exports=r)}}]);