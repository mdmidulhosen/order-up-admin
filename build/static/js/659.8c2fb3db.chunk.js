"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[659],{62019:function(n,t,i){i.d(t,{Z:function(){return o}});var e=i(93433),u=i(4942);function o(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};var o=t.translations,a=function(n,t){var i=null===o||void 0===o?void 0:o.find((function(t){return(null===t||void 0===t?void 0:t.locale)===(null===n||void 0===n?void 0:n.locale)}));return i||(0,u.Z)({},t,"")},l=n.flatMap((function(n){return i.flatMap((function(t){return(0,u.Z)({},"".concat(t,"[").concat(null===n||void 0===n?void 0:n.locale,"]"),a(n,t)[t])}))}));return Object.assign.apply(Object,[{}].concat((0,e.Z)(l)))}},659:function(n,t,i){i.r(t);var e=i(1413),u=i(29439),o=i(47313),a=i(10976),l=i(77181),r=i(72652),d=i(23560),c=i(97890),v=i(73431),s=i(2717),f=i(90954),p=i(30763),h=i(97421),Z=i(49991),g=i(24511),m=i(62019),y=i(75336),b=i(71740),_=i(46417);t.default=function(){var n=(0,g.$)().t,t=(0,c.s0)(),i=(0,s.I0)(),j=(0,s.v9)((function(n){return n.menu}),s.wU).activeMenu,k=(0,s.v9)((function(n){return n.shopCategory}),s.wU).params,w=(0,o.useState)(!1),x=(0,u.Z)(w,2),M=x[0],U=x[1],C=a.Z.useForm(),F=(0,u.Z)(C,1)[0],N=(0,o.useState)(null),O=(0,u.Z)(N,2),S=O[0],V=O[1],A=(0,c.UO)().uuid,E=(0,s.v9)((function(n){return n.formLang}),s.wU).languages;(0,o.useEffect)((function(){return function(){var n=F.getFieldsValue(!0);i((0,f.nc)({activeMenu:j,data:n}))}}),[]);return(0,o.useEffect)((function(){var n;j.refetch&&(n=A,U(!0),p.Z.getById(n).then((function(n){var t,u,o,a,l=n.data,r=(0,e.Z)((0,e.Z)({},(0,m.Z)(E,l,["title","description"])),{},{image:[(a=null===l||void 0===l?void 0:l.img,{name:a,url:h.bV+a})],keywords:null===l||void 0===l?void 0:l.keywords.split(","),parent_id:{label:null===l||void 0===l||null===(t=l.parent)||void 0===t||null===(u=t.translation)||void 0===u?void 0:u.title,value:null===l||void 0===l?void 0:l.parent_id,key:null===l||void 0===l?void 0:l.parent_id},input:null!==(o=null===l||void 0===l?void 0:l.input)&&void 0!==o?o:32767,active:!(null===l||void 0===l||!l.active)});F.setFieldsValue(r),i((0,f.nc)({activeMenu:j,data:r}))})).finally((function(){U(!1),i((0,f.A_)(j))})))}),[j.refetch]),(0,_.jsx)(l.Z,{title:n("edit.category"),extra:(0,_.jsx)(v.Z,{}),children:M?(0,_.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,_.jsx)(r.Z,{size:"large",className:"mt-5 pt-5"})}):(0,_.jsx)(b.Z,{form:F,handleSubmit:function(u,o){var a,l,r,c={title:(0,y.Z)(E,u),description:(0,y.Z)(E,u,"description"),type:null!==(a=u.parent_id)&&void 0!==a&&a.value?"sub_shop":"shop",active:Number(null===u||void 0===u?void 0:u.active),keywords:null===u||void 0===u||null===(l=u.keywords)||void 0===l?void 0:l.join(","),parent_id:null===u||void 0===u||null===(r=u.parent_id)||void 0===r?void 0:r.value,images:null===o||void 0===o?void 0:o.map((function(n){return null===n||void 0===n?void 0:n.name})),input:null===u||void 0===u?void 0:u.input};return p.Z.update(A,c).then((function(){d.Am.success(n("successfully.updated")),(0,s.dC)((function(){i((0,f.ph)((0,e.Z)((0,e.Z)({},j),{},{nextUrl:"catalog/shop/categories"}))),i((0,Z.a)(k))})),t("/catalog/shop/categories")})).catch((function(n){return V(n.response.data.params)}))},error:S})})}}}]);