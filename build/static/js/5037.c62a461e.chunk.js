"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5037],{89281:function(e,n,t){t.d(n,{h:function(){return f}});var r=t(1413),o=t(29439),i=t(45987),l=t(47313),u=t(12279),a=t.n(u),d=t(74294),s=t(72652),c=t(46417),v=["fetchOptions","debounceTimeout","onClear"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,u=void 0===t?400:t,f=e.onClear,p=(0,i.Z)(e,v),h=(0,l.useState)(!1),m=(0,o.Z)(h,2),_=m[0],y=m[1],Z=(0,l.useState)([]),w=(0,o.Z)(Z,2),x=w[0],g=w[1],b=(0,l.useMemo)((function(){return a()((function(e){g([]),y(!0),n(e).then((function(e){g(e),y(!1)}))}),u)}),[n,u]);return(0,c.jsx)(d.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:b,onClear:function(){b(""),f&&f()},notFoundContent:_?(0,c.jsx)(s.Z,{size:"small"}):"no results"},p),{},{options:x,onFocus:function(){b("")}}))}},13945:function(e,n,t){function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return r}})},84017:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(67968);function o(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=null===(e=r.h.getState())||void 0===e||null===(n=e.currency)||void 0===n?void 0:n.defaultCurrency,u=Number(t).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=o||(null===l||void 0===l?void 0:l.symbol)||"$",d=i||(null===l||void 0===l?void 0:l.position)||"before";return"after"===d?"".concat(u," ").concat(a):"".concat(a," ").concat(u)}},75037:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(15861),o=t(4942),i=t(1413),l=t(29439),u=t(93433),a=t(87757),d=t.n(a),s=t(47313),c=t(99096),v=t(77181),f=t(45705),p=t(78508),h=t(97890),m=t(2717),_=t(90954),y=t(24511),Z=t(80314),w=t(13945),x=t(84017),g=t(89281),b=t(49986),Y=t(70816),k=t.n(Y),M=t(53149),j=t(10924),D=t(46417),C=c.Z.RangePicker;function I(){var e,n,t,a,c,Y,I,S=(0,h.UO)().type,O=(0,m.I0)(),P=(0,h.s0)(),A=(0,y.$)().t,F=(0,m.v9)((function(e){return e.currency}),m.wU).defaultCurrency,N=[{title:A("order.id"),is_show:!0,dataIndex:"order_id",key:"order_id",sorter:!0,render:function(e){return(0,D.jsxs)("span",{className:"text-hover",onClick:function(){return function(e){O((0,_.bL)({url:"order/details/".concat(e),id:"order_details",name:A("order.details")})),P("/order/details/".concat(e))}(e)},children:["#",e]})}},{title:A(S),is_show:!0,dataIndex:"user",key:"user",render:function(e,n){var t=null===n||void 0===n?void 0:n.user;return(0,D.jsxs)("div",{children:[null===t||void 0===t?void 0:t.firstname," ",(null===t||void 0===t?void 0:t.lastname)||""]})}},{title:A("order.total_price"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e,n){var t;null===e||void 0===e||e.status;return(0,D.jsx)("span",{children:(0,x.Z)(null===n||void 0===n||null===(t=n.order)||void 0===t?void 0:t.total_price,F.symbol)})}}].concat((0,u.Z)("seller"===S?[{title:A("coupon.price"),is_show:!0,dataIndex:"coupon_sum_price",key:"coupon_sum_price",render:function(e,n){var t;return(0,x.Z)(null===n||void 0===n||null===(t=n.order)||void 0===t?void 0:t.coupon_sum_price,F.symbol)}}]:[]),(0,u.Z)("seller"===S?[{title:A("total.cashback"),is_show:!0,dataIndex:"point_history_sum_price",key:"point_history_sum_price",render:function(e,n){var t;return(0,x.Z)(null===n||void 0===n||null===(t=n.order)||void 0===t?void 0:t.point_history_sum_price,F.symbol)}}]:[]),[{title:A("delivery.fee"),is_show:!0,dataIndex:"delivery_fee",key:"delivery_fee",render:function(e,n){var t;return(0,x.Z)(null===n||void 0===n||null===(t=n.order)||void 0===t?void 0:t.delivery_fee,F.symbol)}}],(0,u.Z)("seller"===S?[{title:A("service.fee"),is_show:!0,dataIndex:"service_fee",key:"service_fee",render:function(e,n){var t;return(0,x.Z)((null===n||void 0===n||null===(t=n.order)||void 0===t?void 0:t.service_fee)||0,F.symbol)}}]:[]),(0,u.Z)("seller"===S?[{title:A("commission.fee"),is_show:!0,dataIndex:"commission_fee",key:"commission_fee",render:function(e,n){return(0,x.Z)((null===n||void 0===n?void 0:n.order.commission_fee)||0,F.symbol)}}]:[]),(0,u.Z)("seller"===S?[{title:A("seller.fee"),is_show:!0,dataIndex:"seller_fee",key:"seller_fee",render:function(e,n){var t;return(0,x.Z)(null===n||void 0===n||null===(t=n.order)||void 0===t?void 0:t.seller_fee,F.symbol)}}]:[]),[{title:A("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e){var n;return A(null===e||void 0===e||null===(n=e.payment_system)||void 0===n?void 0:n.tag)||"-"}}]),U=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,z=(0,s.useState)(k()().subtract(1,"month"),k()()),R=(0,l.Z)(z,2),T=R[0],$=R[1],E=(0,m.v9)((function(e){return e.paymentToPartners}),m.wU),L=E.completedList,K=E.loading,V=E.params,q=E.meta,B=U.data,G={search:null===B||void 0===B?void 0:B.search,sort:null===B||void 0===B?void 0:B.sort,column:null===B||void 0===B?void 0:B.column,perPage:null===B||void 0===B?void 0:B.perPage,page:null===B||void 0===B?void 0:B.page,user_id:null===B||void 0===B?void 0:B.user_id,shop_id:null!==(null===(e=U.data)||void 0===e?void 0:e.shop_id)?null===(n=U.data)||void 0===n?void 0:n.shop_id:null,date_from:Array.isArray(T)?null===(t=T[0])||void 0===t?void 0:t.format("YYYY-MM-DD"):k()().subtract(1,"month").format("YYYY-MM-DD"),date_to:Array.isArray(T)?null===(a=T[1])||void 0===a?void 0:a.format("YYYY-MM-DD"):k()().format("YYYY-MM-DD"),type:S};(0,Z.Z)((function(){O((0,j.kR)(G))}),[B,T,S]);var H=function(e,n){O((0,_.nc)({activeMenu:U,data:(0,i.Z)((0,i.Z)({},B),(0,o.Z)({},n,e))}))};function J(){return J=(0,r.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,perPage:10,role:S},e.abrupt("return",b.Z.search(t).then((function(e){return e.data.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function Q(){return Q=(0,r.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:"approved"},e.abrupt("return",M.Z.getAll(t).then((function(e){return e.data.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}return(0,s.useEffect)((function(){null!==U&&void 0!==U&&U.refetch&&(O((0,j.kR)(G)),O((0,_.A_)(U)))}),[null===U||void 0===U?void 0:U.refetch]),(0,s.useEffect)((function(){return function(){O((0,_.nc)({activeMenu:U,data:{}}))}}),[]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(v.Z,{children:(0,D.jsx)("div",{className:"flex justify-content-space-between",children:(0,D.jsxs)(f.Z,{wrap:!0,className:"order-filter",style:{flex:1,width:"100%"},children:[(0,D.jsx)(g.h,{placeholder:A("select.shop"),fetchOptions:function(e){return Q.apply(this,arguments)},style:{width:"100%"},onSelect:function(e){return H(e.value,"shop_id")},onDeselect:function(){return H(null,"shop_id")},allowClear:!0,value:null===B||void 0===B?void 0:B.shop_id}),(0,D.jsx)(g.h,{placeholder:A("select.user"),fetchOptions:function(e){return J.apply(this,arguments)},onSelect:function(e){return H(e.value,"user_id")},onDeselect:function(){return H(null,"user_id")},style:{width:"100%"},value:null===B||void 0===B?void 0:B.user_id}),(0,D.jsx)(C,{value:T,onChange:function(e){H((function(n){var t,r;return(0,i.Z)((0,i.Z)({},n),{date_from:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.format("YYYY-MM-DD")})})),$(e)},disabledDate:function(e){return e&&e>k()().endOf("day")},style:{width:"100%"}})]})})}),(0,D.jsx)(v.Z,{children:(0,D.jsx)(p.Z,{scroll:{x:!0},columns:null===N||void 0===N?void 0:N.filter((function(e){return e.is_show})),dataSource:L,loading:K,pagination:{pageSize:V.perPage,page:(null===(c=U.data)||void 0===c?void 0:c.page)||1,total:null===q||void 0===q?void 0:q.total,defaultCurrent:null===(Y=U.data)||void 0===Y?void 0:Y.page,current:null===(I=U.data)||void 0===I?void 0:I.page},rowKey:function(e){return e.id},onChange:function(e,n,t){var r=e.pageSize,o=e.current,l=t.field,u=t.order,a=(0,w.Z)(u);O((0,_.nc)({activeMenu:U,data:(0,i.Z)((0,i.Z)({},B),{},{perPage:r,page:o,column:l,sort:a})}))}})})]})}}}]);