"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7314],{98501:function(e,r,n){n.d(r,{CM:function(){return s},Km:function(){return o},OT:function(){return d},Q1:function(){return i},Sp:function(){return t},a5:function(){return u},gN:function(){return a},qO:function(){return l}});var i={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},a=["progress","paid","canceled","rejected","refund"],s=["before","after"],l=["blue","red","gold","volcano","cyan","lime"],d=["new","accepted","cooking","ready","ended"],t=["new","accepted","cooking","ready","on_a_way","delivered","canceled"],o=["dine_in","delivery","pickup"],u=["male","female"]},27314:function(e,r,n){n.r(r),n.d(r,{default:function(){return P}});var i=n(1413),a=n(29439),s=n(10976),l=n(77181),d=n(59491),t=n(24511),o=n(47313),u=n(70816),c=n.n(u),m=n(2717),v=n(97890),p=n(58328),f=n(90954),h=n(23560),Z=n(68197),g=n(59624),j=n(66672),x=n(99096),w=n(74294),b=n(16124),y=n(98501),q=n(5764),I=n(46417),k=function(e){var r=e.avatar,n=e.setAvatar,i=e.form,a=(0,t.$)().t;return(0,I.jsxs)(Z.Z,{gutter:12,children:[(0,I.jsx)(g.Z,{span:24,children:(0,I.jsx)(s.Z.Item,{name:"images",label:a("avatar"),rules:[{required:!(null!==r&&void 0!==r&&r.length),message:a("required")}],children:(0,I.jsx)(q.Z,{type:"users",imageList:r,setImageList:n,multiple:!1,form:i})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{name:"firstname",label:a("firstname"),rules:[{required:!0,message:a("required")},{type:"string",min:2,message:a("min.2.letters")}],children:(0,I.jsx)(j.Z,{})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{name:"lastname",label:a("lastname"),rules:[{required:!0,message:a("required")},{type:"string",min:2,message:a("min.2.letters")}],children:(0,I.jsx)(j.Z,{})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{name:"birthday",label:a("birthday"),rules:[{required:!0,message:a("required")}],children:(0,I.jsx)(x.Z,{className:"w-100",disabledDate:function(e){return c()().add(-18,"years")<=e},defaultPickerValue:c()().add(-18,"years"),placeholder:""})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{name:"gender",label:a("gender"),rules:[{required:!0,message:a("required")}],children:(0,I.jsx)(w.Z,{labelInValue:!0,options:y.a5.map((function(e){return{label:a(e),value:e,key:e}}))})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{name:"phone",label:a("phone"),rules:[{required:!0,message:a("required")}],children:(0,I.jsx)(b.Z,{min:0,className:"w-100"})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{name:"email",label:a("email"),rules:[{required:!0,message:a("required")},{type:"email",message:a("invalid.email")}],children:(0,I.jsx)(j.Z,{})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{label:a("password"),name:"password",rules:[{required:!0,message:a("required")},{validator:function(e,r){return r&&(null===r||void 0===r?void 0:r.toString().length)<6?Promise.reject(new Error(a("min.6.letters"))):Promise.resolve()}}],normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,I.jsx)(j.Z.Password,{type:"password",className:"w-100"})})}),(0,I.jsx)(g.Z,{span:12,children:(0,I.jsx)(s.Z.Item,{label:a("password.confirmation"),name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:a("required")},function(e){var r=e.getFieldValue;return{validator:function(e,n){return n&&r("password")!==n?Promise.reject(a("two.passwords.dont.match")):Promise.resolve()}}}],normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,I.jsx)(j.Z.Password,{type:"password"})})})]})},_=function(){var e=(0,v.s0)(),r=(0,m.I0)(),n=(0,t.$)().t,u=(0,v.UO)(),Z=(0,m.v9)((function(e){return e.menu}),m.wU).activeMenu,g=s.Z.useForm(),j=(0,a.Z)(g,1)[0],x=(0,o.useState)([]),w=(0,a.Z)(x,2),b=w[0],y=w[1],q=(0,o.useState)(!1),_=(0,a.Z)(q,2),P=_[0],F=_[1];return(0,I.jsxs)(s.Z,{form:j,layout:"vertical",onFinish:function(a){var s,l={images:null!==b&&void 0!==b&&b.length?null===b||void 0===b?void 0:b.map((function(e){return null===e||void 0===e?void 0:e.name})):void 0,firstname:null===a||void 0===a?void 0:a.firstname,lastname:null===a||void 0===a?void 0:a.lastname,birthday:c()(null===a||void 0===a?void 0:a.birthday).format("YYYY-MM-DD"),gender:null===a||void 0===a||null===(s=a.gender)||void 0===s?void 0:s.value,phone:null===a||void 0===a?void 0:a.phone,email:null===a||void 0===a?void 0:a.email,password:null===a||void 0===a?void 0:a.password,password_confirmation:null===a||void 0===a?void 0:a.password_confirmation,role:null===u||void 0===u?void 0:u.role};F(!0),p.Z.create(l).then((function(){h.Am.success(n("user.successfully.added"));var a="seller/shop-users";r((0,f.ph)((0,i.Z)((0,i.Z)({},Z),{},{nextUrl:a}))),e("/".concat(a,"?role=").concat(null===u||void 0===u?void 0:u.role))})).finally((function(){F(!1)}))},children:[(0,I.jsx)(l.Z,{children:(0,I.jsx)(k,{avatar:b,setAvatar:y,form:j})}),(0,I.jsx)(l.Z,{children:(0,I.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:P,children:n("save")})})]})},P=function(){return(0,I.jsx)(_,{})}}}]);