"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7141],{89802:function(e,n,t){t.d(n,{q:function(){return o}});var a=t(1413),i=t(29439),l=t(45987),s=t(47313),r=t(74294),u=t(72652),d=t(46417),c=["fetchOptions","refetch"],o=function(e){var n=e.fetchOptions,t=e.refetch,o=void 0!==t&&t,m=(0,l.Z)(e,c),f=(0,s.useState)(!1),v=(0,i.Z)(f,2),h=v[0],Z=v[1],p=(0,s.useState)([]),x=(0,i.Z)(p,2),y=x[0],j=x[1];return(0,d.jsx)(r.Z,(0,a.Z)((0,a.Z)({labelInValue:!0,filterOption:!1,notFoundContent:h?(0,d.jsx)(u.Z,{size:"small"}):"no results"},m),{},{options:h?[]:y,onFocus:function(){y.length&&!o||(Z(!0),n().then((function(e){j(e),Z(!1)})))}}))}},57141:function(e,n,t){t.r(n);var a=t(1413),i=t(29439),l=t(47313),s=t(97890),r=t(23560),u=t(10976),d=t(77181),c=t(72652),o=t(2717),m=t(90954),f=t(24511),v=t(78520),h=t(42111),Z=t(8746),p=t(46417);n.default=function(){var e=(0,f.$)().t,n=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu,t=(0,o.I0)(),x=u.Z.useForm(),y=(0,i.Z)(x,1)[0],j=(0,s.s0)(),b=(0,s.UO)().id,g=(0,l.useState)(!1),w=(0,i.Z)(g,2),q=w[0],k=w[1];(0,l.useEffect)((function(){return function(){var e=y.getFieldsValue(!0);t((0,m.nc)({activeMenu:n,data:e}))}}),[]);return(0,l.useEffect)((function(){n.refetch&&function(e){k(!0),v.Z.getById(e).then((function(e){var i=e.data,l=(0,a.Z)((0,a.Z)({},i),{},{payment_id:i.payment.tag,activePayment:{label:i.payment.tag,value:i.payment.id,key:i.payment.id}});y.setFieldsValue((0,a.Z)({},l)),t((0,m.nc)({activeMenu:n,data:l}))})).finally((function(){k(!1),t((0,m.A_)(n))}))}(b)}),[n.refetch]),(0,p.jsx)(d.Z,{title:e("edit.payment"),className:"h-100",children:q?(0,p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,p.jsx)(c.Z,{size:"large",className:"py-5"})}):(0,p.jsx)(Z.Z,{form:y,handleSubmit:function(i){var l=(0,a.Z)((0,a.Z)({},i),{},{payment_id:i.activePayment.value});return v.Z.update(b,l).then((function(){var i="seller/payments";r.Am.success(e("successfully.updated")),(0,o.dC)((function(){t((0,m.ph)((0,a.Z)((0,a.Z)({},n),{},{nextUrl:i}))),t((0,h.BN)({}))})),j("/".concat(i))}))},type:"edit"})})}},8746:function(e,n,t){t.d(n,{Z:function(){return j}});var a=t(1413),i=t(15861),l=t(29439),s=t(87757),r=t.n(s),u=t(47313),d=t(10976),c=t(68197),o=t(59624),m=t(66672),f=t(86345),v=t(59491),h=t(24511),Z=t(2717),p=t(78520),x=t(89802),y=t(46417);function j(e){var n,t=e.form,s=e.handleSubmit,j=e.type,b=void 0===j?"add":j,g=(0,h.$)().t,w=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,q=(0,u.useState)(!1),k=(0,l.Z)(q,2),_=k[0],C=k[1],I=(0,u.useState)(null===w||void 0===w||null===(n=w.data)||void 0===n?void 0:n.activePayment),F=(0,l.Z)(I,2),S=F[0],N=F[1];function P(){return(P=(0,i.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.Z.allPayment().then((function(e){return e.data.map((function(e){return{label:(null===e||void 0===e?void 0:e.tag[0].toUpperCase())+(null===e||void 0===e?void 0:e.tag.substring(1)),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,y.jsxs)(d.Z,{layout:"vertical",name:"user-address",form:t,onFinish:function(e){C(!0);var n=(0,a.Z)((0,a.Z)({},e),{},{activePayment:S});s(n).finally((function(){return C(!1)}))},initialValues:(0,a.Z)({status:!0},null===w||void 0===w?void 0:w.data),children:[(0,y.jsxs)(c.Z,{gutter:12,children:[(0,y.jsx)(o.Z,{span:"cash"===(null===S||void 0===S?void 0:S.label.toLowerCase())||"wallet"===(null===S||void 0===S?void 0:S.label.toLowerCase())?12:24,children:(0,y.jsx)(d.Z.Item,{label:g("payment"),name:"payment_id",rules:[{required:!0,message:g("required")}],children:(0,y.jsx)(x.q,{fetchOptions:function(){return P.apply(this,arguments)},onSelect:function(e){return N(e)},disabled:"edit"===b})})}),"cash"===(null===S||void 0===S?void 0:S.label.toLowerCase())||"wallet"===(null===S||void 0===S?void 0:S.label.toLowerCase())?"":(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(d.Z.Item,{label:g("client.id"),name:"client_id",rules:[{required:!0,message:g("required")}],children:(0,y.jsx)(m.Z,{})})}),(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(d.Z.Item,{label:g("secret.id"),name:"secret_id",rules:[{required:!0,message:g("required")}],children:(0,y.jsx)(m.Z,{})})}),"Paystack"===(null===S||void 0===S?void 0:S.label)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(d.Z.Item,{label:g("payment.id"),name:"payment_key",rules:[{required:!0,message:g("required")}],children:(0,y.jsx)(m.Z,{})})}),(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(d.Z.Item,{label:g("merchant.email"),name:"merchant_email",rules:[{required:!0,message:g("required")}],children:(0,y.jsx)(m.Z,{})})})]}):""]}),(0,y.jsx)(o.Z,{span:12,children:(0,y.jsx)(d.Z.Item,{label:g("status"),name:"status",valuePropName:"checked",children:(0,y.jsx)(f.Z,{})})})]}),(0,y.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,y.jsx)("div",{className:"pb-5",children:(0,y.jsx)(v.Z,{type:"primary",htmlType:"submit",loading:_,disabled:_,children:g("submit")})})})]})}}}]);