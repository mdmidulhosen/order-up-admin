"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8516],{52008:function(e,l,r){r(47313);l.Z=r.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},89802:function(e,l,r){r.d(l,{q:function(){return o}});var a=r(1413),n=r(29439),s=r(45987),i=r(47313),t=r(74294),u=r(72652),d=r(46417),c=["fetchOptions","refetch"],o=function(e){var l=e.fetchOptions,r=e.refetch,o=void 0!==r&&r,m=(0,s.Z)(e,c),p=(0,i.useState)(!1),x=(0,n.Z)(p,2),h=x[0],j=x[1],Z=(0,i.useState)([]),v=(0,n.Z)(Z,2),b=v[0],f=v[1];return(0,d.jsx)(t.Z,(0,a.Z)((0,a.Z)({labelInValue:!0,filterOption:!1,notFoundContent:h?(0,d.jsx)(u.Z,{size:"small"}):"no results"},m),{},{options:h?[]:b,onFocus:function(){b.length&&!o||(j(!0),l().then((function(e){f(e),j(!1)})))}}))}},58516:function(e,l,r){r.r(l),r.d(l,{default:function(){return z}});var a=r(15861),n=r(1413),s=r(29439),i=r(87757),t=r.n(i),u=r(47313),d=r(10976),c=r(77181),o=r(68197),m=r(59624),p=r(74294),x=r(72652),h=r(66672),j=r(86345),Z=r(59491),v=r(24511),b=r(90954),f=r(2717),y=r(23560),q=r(97890),g=r(52008),k=r(26672),I=r(92709),_=r(79053),F=r(91260),w=r(26457),P=r(89802),C=r(30554),N=r(6957),A=r(5764),V=r(46417);function z(){var e,l,r,i,z,O,L=(0,v.$)().t,S=d.Z.useForm(),W=(0,s.Z)(S,1)[0],M=(0,u.useState)(!1),U=(0,s.Z)(M,2),R=U[0],B=U[1],D=(0,u.useState)(!1),E=(0,s.Z)(D,2),K=E[0],T=E[1],$=(0,u.useState)([]),G=(0,s.Z)($,2),H=G[0],J=G[1],Q=(0,u.useState)(null),X=(0,s.Z)(Q,2),Y=X[0],ee=X[1],le=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,re=(0,u.useState)(null!==(e=le.data)&&void 0!==e&&e.image?[null===(l=le.data)||void 0===l?void 0:l.image]:[]),ae=(0,s.Z)(re,2),ne=ae[0],se=ae[1],ie=(0,f.v9)((function(e){return e.currency}),f.wU).defaultCurrency,te=(0,f.I0)(),ue=(0,q.s0)();function de(){return(de=(0,a.Z)(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.abrupt("return",w.Z.getAll().then((function(e){var l=e.data.filter((function(e){return"wallet"!==e.tag})).filter((function(e){return"cash"!==e.tag})).map((function(e){return{label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id}}));J(l)})).finally((function(){return T(!1)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,u.useEffect)((function(){!function(){de.apply(this,arguments)}()}),[]);return(0,V.jsx)(c.Z,{title:L("add.payment.payloads"),className:"h-100",children:(0,V.jsxs)(d.Z,{layout:"vertical",name:"user-address",form:W,onFinish:function(e){var l,r;delete e.payment_id,"FlutterWave"!==(null===Y||void 0===Y?void 0:Y.label)||ne[0]?(B(!0),F.x.create({payment_id:Y.value,payload:(0,n.Z)((0,n.Z)({},e),{},{logo:ne[0]?ne[0].name:void 0,paypal_currency:null===(l=e.paypal_currency)||void 0===l?void 0:l.label,currency:(null===(r=e.currency)||void 0===r?void 0:r.label)||e.currency,paypal_validate_ssl:null!==e&&void 0!==e&&e.paypal_validate_ssl?Number(null===e||void 0===e?void 0:e.paypal_validate_ssl):void 0,sandbox:"undefined"!==typeof(null===e||void 0===e?void 0:e.sandbox)?Number(Boolean(null===e||void 0===e?void 0:e.sandbox)):void 0})}).then((function(){var e="payment-payloads";y.Am.success(L("successfully.created")),(0,f.dC)((function(){te((0,b.ph)((0,n.Z)((0,n.Z)({},le),{},{nextUrl:e}))),te((0,_.j)({})),te((0,b.xo)(le))})),ue("/".concat(e))})).catch((function(e){var l,r,a;y.Am.dismiss(),y.Am.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(r=l.data)||void 0===r||null===(a=r.params)||void 0===a?void 0:a.payment_id[0])})).finally((function(){return B(!1)}))):y.Am.error(L("choose.payload.image"))},children:[(0,V.jsxs)(o.Z,{gutter:12,children:[(0,V.jsx)(m.Z,{span:"Cash"===(null===Y||void 0===Y?void 0:Y.label)||"Wallet"===(null===Y||void 0===Y?void 0:Y.label)?12:24,children:(0,V.jsx)(d.Z.Item,{label:L("payment"),name:"payment_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(p.Z,{notFoundContent:K?(0,V.jsx)(x.Z,{size:"small"}):"no results",allowClear:!0,options:H,onSelect:function(e){var l=H.find((function(l){return l.value===e}));switch(l.label){case"Paypal":W.setFieldsValue({paypal_validate_ssl:!0,paypal_locale:N.Z.language,paypal_currency:{label:null===ie||void 0===ie?void 0:ie.title,value:null===ie||void 0===ie?void 0:ie.id}});break;case"Stripe":case"Razorpay":case"Paystack":case"FlutterWave":case"Mollie":case"Moya-sar":case"Paytabs":case"Zain-cash":W.setFieldsValue({currency:null===ie||void 0===ie?void 0:ie.title});break;case"Mercado-pago":W.setFieldsValue({currency:null===ie||void 0===ie?void 0:ie.title,sandbox:!0});break;case"Pay-fast":W.setFieldsValue({sandbox:!0});break;default:W.resetFields()}ee(l)}})})}),"Cash"===(null===Y||void 0===Y?void 0:Y.label)||"Wallet"===(null===Y||void 0===Y?void 0:Y.label)?"":(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:24,className:"d-flex justify-content-center mt-4 mb-5",children:function(e){switch(e){case"Paypal":return(0,V.jsx)(k.kD0,{size:80});case"Stripe":return(0,V.jsx)(I.K6C,{size:80});case"Razorpay":return(0,V.jsx)(I.r98,{size:80});case"Paystack":return(0,V.jsx)("img",{src:g.Z,alt:"img",width:"80",height:"80"});case"Flutterwave":return(0,V.jsx)(I.Bq1,{size:80});default:return null}}(null===Y||void 0===Y?void 0:Y.label)}),"Paystack"===(null===Y||void 0===Y?void 0:Y.label)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paystack.pk"),name:"paystack_pk",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paystack.sk"),name:"paystack_sk",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})})," ",(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"Paypal"===(null===Y||void 0===Y?void 0:Y.label)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paypal.mode"),name:"paypal_mode",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(p.Z,{options:[{value:"live",label:L("live")},{value:"sandbox",label:L("sandbox")}]})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paypal.currency"),name:"paypal_currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paypal.sandbox.client.id"),name:"paypal_sandbox_client_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paypal.sandbox.client.secret"),name:"paypal_sandbox_client_secret",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paypal.live.client.id"),name:"paypal_live_client_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("paypal.live.client.secret"),name:"paypal_live_client_secret",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})})]}):"Stripe"===(null===Y||void 0===Y?void 0:Y.label)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("stripe.pk"),name:"stripe_pk",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("stripe.sk"),name:"stripe_sk",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})})," ",(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"Razorpay"===(null===Y||void 0===Y?void 0:Y.label)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("razorpay.key"),name:"razorpay_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("razorpay.secret"),name:"razorpay_secret",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})})," ",(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"FlutterWave"===(null===Y||void 0===Y?void 0:Y.label)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("payload.title"),name:"title",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("payload.description"),name:"description",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("flw_sk"),name:"flw_sk",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,V.jsx)(m.Z,{span:6,children:(0,V.jsx)(d.Z.Item,{rules:[{required:!0}],label:L("logo"),children:(0,V.jsx)(A.Z,{type:"brands",imageList:ne,setImageList:se,form:W,multiple:!1})})})]}):"mollie"===(null===Y||void 0===Y?void 0:Y.label.toLowerCase())?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("partner.id"),name:"partner_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("profile.id"),name:"profile_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("secret.key"),name:"secret_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,V.jsx)(m.Z,{span:6,children:(0,V.jsx)(d.Z.Item,{rules:[{required:!0}],label:L("logo"),children:(0,V.jsx)(A.Z,{type:"brands",imageList:ne,setImageList:se,form:W,multiple:!1})})})]}):"moya-sar"===(null===Y||void 0===Y||null===(r=Y.label)||void 0===r?void 0:r.toLowerCase())?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("public.key"),name:"public_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("secret.key"),name:"secret_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("secret.token"),name:"secret_token",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,V.jsx)(m.Z,{span:6,children:(0,V.jsx)(d.Z.Item,{rules:[{required:!0}],label:L("logo"),children:(0,V.jsx)(A.Z,{type:"brands",imageList:ne,setImageList:se,form:W,multiple:!1})})})]}):"paytabs"===(null===Y||void 0===Y||null===(i=Y.label)||void 0===i?void 0:i.toLowerCase())?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("server.key"),name:"server_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("profile.id"),name:"profile_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("client.key"),name:"client_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"zain-cash"===(null===Y||void 0===Y||null===(z=Y.label)||void 0===z?void 0:z.toLowerCase())?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("url"),name:"url",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("msisdn"),name:"msisdn",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("merchantId"),name:"merchantId",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("key"),name:"key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})})]}):"mercado-pago"===(null===Y||void 0===Y||null===(O=Y.label)||void 0===O?void 0:O.toLowerCase())?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("token"),name:"token",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("currency"),name:"currency",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(P.q,{placeholder:L("select.currency"),valuePropName:"label",defaultValue:{value:ie.id,label:ie.title},fetchOptions:function(){return C.Z.getAll().then((function(e){return e.data.filter((function(e){return e.active})).map((function(e){return{value:e.id,label:"".concat(e.title),key:e.id}}))}))}})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("sandbox"),name:"sandbox",children:(0,V.jsx)(j.Z,{defaultChecked:!0})})})]}):"Pay-fast"===(null===Y||void 0===Y?void 0:Y.label)?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("merchant.id"),name:"merchant_id",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("merchant.key"),name:"merchant_key",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("pass.phrase"),name:"pass_phrase",rules:[{required:!0,message:L("required")}],children:(0,V.jsx)(h.Z,{})})}),(0,V.jsx)(m.Z,{span:12,children:(0,V.jsx)(d.Z.Item,{label:L("sandbox"),name:"sandbox",valuePropName:"checked",children:(0,V.jsx)(j.Z,{})})})]}):null]})]}),(0,V.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,V.jsx)("div",{className:"pb-5",children:(0,V.jsx)(Z.Z,{type:"primary",htmlType:"submit",loading:R,disabled:R,children:L("submit")})})})]})})}}}]);