"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2508],{4014:function(e,t,n){function i(e){var t,n,i=null===e||void 0===e?void 0:e.slice(0,1),d=null===e||void 0===e?void 0:e.lastIndexOf("@"),o=null===e||void 0===e?void 0:e.slice(1,d-1);o=null===(t=o)||void 0===t?void 0:t.replace(/./g,"*");var l=null===e||void 0===e?void 0:e.slice(d-1,e.length);return null===i||void 0===i||null===(n=i.concat(o))||void 0===n?void 0:n.concat(l)}n.d(t,{Z:function(){return i}})},13945:function(e,t,n){function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:function(){return i}})},84017:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(67968);function d(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,l=null===(e=i.h.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,r=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=d||(null===l||void 0===l?void 0:l.symbol)||"$",u=o||(null===l||void 0===l?void 0:l.position)||"before";return"after"===u?"".concat(r," ").concat(a):"".concat(a," ").concat(r)}},29457:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var i=n(1413),d=n(29439),o=n(45705),l=n(66204),r=n(56140),a=n(78508),u=n(72652),c=n(256),s=n(59491),v=n(68197),p=n(59624),f=n(77181),h=n(26824),x=n(83371),m=n(41068),Z=n(70816),g=n.n(Z),y=n(47313),j=n(24511),b=n(2717),I=n(97890),k=n(84017),_=n(90954),w=n(49986),C=n(45464),S=n(22054),M=n(13945),P=n(79492),Y=n(80314),D=n(7370),N=n(46417),U=function(e){var t=e.id,n=(0,j.$)().t,i=(0,b.I0)(),r=(0,I.s0)(),u=(0,y.useState)([]),c=(0,d.Z)(u,2),s=c[0],v=c[1],p=(0,y.useState)(!1),x=(0,d.Z)(p,2),m=x[0],Z=x[1],g=(0,b.v9)((function(e){return e.currency}),b.wU).defaultCurrency,w=function(e){Z(!0),D.Z.getUserTopProducts(t,e).then((function(e){return v(e.data)})).finally((function(){return Z(!1)}))};return(0,y.useEffect)((function(){w()}),[]),(0,N.jsx)(f.Z,{title:n("top.products"),children:(0,N.jsx)(a.Z,{loading:m,dataSource:null===s||void 0===s?void 0:s.data,pagination:{total:null===s||void 0===s?void 0:s.total,current:null===s||void 0===s?void 0:s.current_page,pageSize:null===s||void 0===s?void 0:s.per_page},columns:[{title:n("product"),dataIndex:"stock",key:"stock",render:function(e){var t,d,l;return(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(h.Z,{width:100,src:null===e||void 0===e||null===(t=e.countable)||void 0===t?void 0:t.img,placeholder:!0,style:{borderRadius:4}}),(0,N.jsx)("div",{onClick:function(){return function(e){i((0,_.bL)({id:"product-edit",url:"product/".concat(e.uuid),name:n("edit.product")})),r("/product/".concat(e.uuid))}(null===e||void 0===e?void 0:e.countable)},className:"text-hover",children:null===e||void 0===e||null===(d=e.countable)||void 0===d||null===(l=d.translation)||void 0===l?void 0:l.title})]})}},{title:n("count"),dataIndex:"count",key:"count"},{title:n("total.price"),dataIndex:"total_price",key:"total_price",render:function(e){return(0,k.Z)(e,null===g||void 0===g?void 0:g.symbol)}},{title:n("status"),dataIndex:"status",key:"status",render:function(e,t){var i,d;return(0,N.jsx)(l.Z,{children:null!==(i=t.stock)&&void 0!==i&&null!==(d=i.countable)&&void 0!==d&&d.active?n("active"):n("inactive")})}}],onChange:function(e){return w({page:null===e||void 0===e?void 0:e.current,perPage:null===e||void 0===e?void 0:e.pageSize})}})})},z=n(74294),E=n(49319),L=function(e){var t,n,o,r=e.id,u=(0,j.$)().t,c=(0,y.useState)({}),s=(0,d.Z)(c,2),v=s[0],p=s[1],h=(0,y.useState)(!1),x=(0,d.Z)(h,2),m=x[0],Z=x[1],g=(0,b.v9)((function(e){return e.currency}),b.wU).defaultCurrency,I=function(e){Z(!0),E.Z.getAll((0,i.Z)({user_uuid:r},e)).then((function(e){p(e)})).finally((function(){Z(!1)}))};return(0,y.useEffect)((function(){I()}),[]),(0,N.jsx)(f.Z,{title:u("order.refunds"),extra:(0,N.jsx)(z.Z,{options:[{label:u("pending"),value:"pending"},{label:u("accepted"),value:"accepted"},{label:u("canceled"),value:"canceled"}],onChange:function(e){return I({status:e})},placeholder:u("status"),allowClear:!0}),children:(0,N.jsx)(a.Z,{loading:m,dataSource:null===v||void 0===v?void 0:v.data,pagination:{total:null===v||void 0===v||null===(t=v.meta)||void 0===t?void 0:t.total,current:null===v||void 0===v||null===(n=v.meta)||void 0===n?void 0:n.current_page,pageSize:null===v||void 0===v||null===(o=v.meta)||void 0===o?void 0:o.per_page},columns:[{title:u("cause"),dataIndex:"cause",key:"cause"},{title:u("answer"),dataIndex:"answer",key:"answer"},{title:u("total.price"),dataIndex:"total_price",key:"total_price",render:function(e,t){var n;return(0,k.Z)(null===(n=t.order)||void 0===n?void 0:n.total_price,null===g||void 0===g?void 0:g.symbol)}},{title:u("status"),dataIndex:"status",key:"status",render:function(e){return(0,N.jsx)(l.Z,{children:e})}},{title:u("created.date.&.time"),dataIndex:"created_at",key:"created_at"}],onChange:function(e){return I({page:e.current,perPage:e.pageSize})}})})},R=n(4014),$=function(){var e,t=(0,I.UO)().id,n=(0,I.s0)(),Z=(0,y.useState)({}),D=(0,d.Z)(Z,2),z=D[0],E=D[1],$=(0,b.I0)(),q=(0,y.useState)(!1),T=(0,d.Z)(q,2),F=T[0],A=T[1],H=(0,j.$)().t,K=(0,b.v9)((function(e){return e.menu}),b.wU).activeMenu,O=(0,b.v9)((function(e){return e.currency}),b.wU).defaultCurrency,B=(0,b.v9)((function(e){return e.orders}),b.wU),G=B.orders,J=B.meta,Q=B.loading,V=B.params,W=B.statistic,X=(0,P.Z)(),ee=X.isDemo,te=X.demoDeliveryman,ne=X.demoSeller,ie=X.demoAdmin,de=X.demoModerator,oe=X.demoMeneger;var le=function(e){$((0,_.bL)({id:"product-edit",url:"product/".concat(e),name:H("edit.product")})),n("/product/".concat(e))};return(0,y.useEffect)((function(){var e;e=t,A(!0),w.Z.getById(e).then((function(e){return E(e.data)})).finally((function(){return A(!1)}))}),[t]),(0,y.useEffect)((function(){var e={user_id:t,page:1,perPage:10};$((0,S.dT)(e))}),[]),(0,Y.Z)((function(){var e,n,i={user_id:t,page:(null===K||void 0===K||null===(e=K.data)||void 0===e?void 0:e.page)||1,perPage:(null===K||void 0===K||null===(n=K.data)||void 0===n?void 0:n.perPage)||10};$((0,S.dT)(i))}),[K.data]),F?(0,N.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,N.jsx)(u.Z,{})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{title:H("user.info"),extra:(0,N.jsx)(s.Z,{type:"primary",disabled:ee&&(null===z||void 0===z?void 0:z.id)==te||ee&&(null===z||void 0===z?void 0:z.id)==de||ee&&(null===z||void 0===z?void 0:z.id)==oe||ee&&(null===z||void 0===z?void 0:z.id)==ne||ee&&(null===z||void 0===z?void 0:z.id)===ie,onClick:function(){$((0,_.bL)({url:"user/".concat(t),id:"user_edit",name:H("edit.user")})),n("/user/".concat(t),{state:"user"})},children:H("edit")})}),(0,N.jsxs)(v.Z,{gutter:24,children:[(0,N.jsx)(p.Z,{span:16,children:(0,N.jsxs)(f.Z,{title:"".concat(null===z||void 0===z?void 0:z.firstname," ").concat((null===z||void 0===z?void 0:z.lastname)||""," #").concat(null===z||void 0===z?void 0:z.id),children:[(0,N.jsx)(h.Z,{src:(0,C.Z)(null===z||void 0===z?void 0:z.img),alt:null===z||void 0===z?void 0:z.firstname,width:100,height:100,style:{borderRadius:"10px",objectFit:"cover"}}),(0,N.jsxs)(x.Z,{column:2,children:[(0,N.jsx)(x.Z.Item,{label:H("registration.date"),children:g()(null===z||void 0===z?void 0:z.registered_at).format("YYYY-MM-DD HH:mm")}),(0,N.jsx)(x.Z.Item,{label:H("status"),children:(0,N.jsx)(l.Z,{color:null!==z&&void 0!==z&&z.active?"cyan":"red",children:null!==z&&void 0!==z&&z.active?H("active"):H("inactive")})}),(0,N.jsx)(x.Z.Item,{label:H("birthday"),children:g()(null===z||void 0===z?void 0:z.birthday).format("YYYY-MM-DD")}),(0,N.jsx)(x.Z.Item,{label:H("email"),children:ee?(0,R.Z)(null===z||void 0===z?void 0:z.email):null===z||void 0===z?void 0:z.email}),(0,N.jsx)(x.Z.Item,{label:H("gender"),children:null===z||void 0===z?void 0:z.gender}),(0,N.jsx)(x.Z.Item,{label:H("role"),children:null===z||void 0===z?void 0:z.role}),(0,N.jsx)(x.Z.Item,{label:H("wallet"),children:(0,k.Z)(null===z||void 0===z||null===(e=z.wallet)||void 0===e?void 0:e.price,null===O||void 0===O?void 0:O.symbol,null===O||void 0===O?void 0:O.position)}),(0,N.jsx)(x.Z.Item,{label:H("phone"),children:null===z||void 0===z?void 0:z.phone})]})]})}),(0,N.jsxs)(p.Z,{span:8,children:[(0,N.jsx)(f.Z,{title:H("successfull.orders"),children:(0,N.jsxs)(x.Z,{column:1,children:[(0,N.jsx)(x.Z.Item,{label:H("delivered.orders.count"),children:(0,N.jsx)(m.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===W||void 0===W?void 0:W.delivered_orders_count)||0})}),(0,N.jsx)(x.Z.Item,{label:H("spent.since.registration"),children:(0,N.jsx)(m.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,k.Z)(null===W||void 0===W?void 0:W.total_delivered_price,null===O||void 0===O?void 0:O.symbol,null===O||void 0===O?void 0:O.position)})})]})}),(null===z||void 0===z?void 0:z.shop)&&(0,N.jsx)(f.Z,{title:"".concat(H("shop.info")," #").concat(null===z||void 0===z?void 0:z.shop.id),children:(0,N.jsxs)(x.Z,{column:2,children:[(0,N.jsx)(x.Z.Item,{label:H("name"),children:null===z||void 0===z?void 0:z.shop.translation.title}),(0,N.jsx)(x.Z.Item,{label:H("phone"),children:null===z||void 0===z?void 0:z.shop.phone}),(0,N.jsx)(x.Z.Item,{label:H("shop.type"),children:null===z||void 0===z?void 0:z.shop.type})]})})]}),(0,N.jsxs)(p.Z,{span:24,children:[(0,N.jsx)(f.Z,{title:H("orders"),children:(0,N.jsx)(a.Z,{expandable:{expandedRowRender:function(e){var t=[{title:H("product"),dataIndex:"product",render:function(e,t){var n,i,d,r;return(0,N.jsx)("div",{className:"text-hover",onClick:function(){var e,n;return le(null===(e=t.stock)||void 0===e||null===(n=e.product)||void 0===n?void 0:n.uuid)},children:(0,N.jsxs)(o.Z,{wrap:!0,children:[null===(n=t.stock)||void 0===n||null===(i=n.product)||void 0===i||null===(d=i.translation)||void 0===d?void 0:d.title,null===(r=t.addons)||void 0===r?void 0:r.map((function(e){var t,n,i;return(0,N.jsxs)(l.Z,{children:[null===e||void 0===e||null===(t=e.stock)||void 0===t||null===(n=t.product)||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title," x ",e.quantity]},e.id)}))]})})},key:"product"},{title:H("quantity"),dataIndex:"quantity",key:"quantity"},{title:H("total.price"),dataIndex:"total_price",render:function(e){return(0,k.Z)(e,null===O||void 0===O?void 0:O.symbol,null===O||void 0===O?void 0:O.position)},key:"total_price"},{title:H("discount"),dataIndex:"discount",key:"discount"}];return(0,N.jsxs)(o.Z,{direction:"vertical",className:"w-100",children:[(0,N.jsx)(r.Z.Text,{children:H("ordered.products")}),(0,N.jsx)(a.Z,{scroll:{x:!0},columns:t,dataSource:e.details,pagination:!1})]})},defaultExpandedRowKeys:["0"]},dataSource:G,columns:[{title:"ID",dataIndex:"id",key:"id",render:function(e){return(0,N.jsxs)("div",{onClick:function(){return function(e){$((0,_.bL)({url:"/order/details/".concat(e),id:"order.details",name:H("order.details")})),n("/order/details/".concat(e))}(e)},className:"text-hover",children:["#",e]})}},{title:H("shop"),dataIndex:"shop",key:"shop",render:function(e){var t;return(0,N.jsx)("div",{className:"text-hover",onClick:function(){return t=e.uuid,$((0,_.bL)({url:"/shop/".concat(t),id:"edit.shop",name:H("edit.shop")})),void n("/shop/".concat(t));var t},children:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title})}},{title:H("number.of.products"),dataIndex:"order_details_count",key:"order_details_count",render:function(e){return"".concat(e||0," ").concat(H(e&&e<2?"products":"product"))}},{title:H("total.price"),dataIndex:"total_price",key:"total_price",render:function(e){return(0,k.Z)(e,null===O||void 0===O?void 0:O.symbol,null===O||void 0===O?void 0:O.position)}},{title:H("delivery.date.&.time"),dataIndex:"delivery_date",key:"delivery_date",render:function(e,t){return"".concat(t.delivery_date," ").concat((null===t||void 0===t?void 0:t.delivery_time)||"")}},{title:H("status"),dataIndex:"status",key:"status",render:function(e){return(0,N.jsx)(l.Z,{children:e})}},{title:H("delivery.address"),dataIndex:"address",key:"address",render:function(e){return null===e||void 0===e?void 0:e.address}}],loading:Q,pagination:{pageSize:V.perPage,page:V.page,total:J.last_page*J.per_page,defaultCurrent:V.page},rowKey:function(e){return e.id},onChange:function(e,t,n){var d=e.pageSize,o=e.current,l=n.field,r=n.order,a=(0,M.Z)(r);$((0,_.nc)({activeMenu:K,data:(0,i.Z)((0,i.Z)({},K.data),{},{perPage:d,page:o,column:l,sort:a})}))}})}),(0,N.jsx)(L,{id:t}),(0,N.jsx)(U,{id:t})]})]})]})}}}]);