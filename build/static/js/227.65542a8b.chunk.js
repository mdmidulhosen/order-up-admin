"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[227],{48008:function(e,n,t){t(47313);var r=t(9274),i=t(87569),l=t(59491),o=t(24511),s=t(46417);n.Z=function(e){var n=e.open,t=e.handleCancel,a=e.text,u=e.click,d=e.loading,c=e.subTitle,f=(0,o.$)().t;return(0,s.jsxs)(r.Z,{closable:!1,visible:n,footer:null,centered:!0,children:[(0,s.jsx)(i.ZP,{status:"warning",title:a,subTitle:c}),(0,s.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,s.jsx)(l.Z,{type:"primary",className:"mr-2",onClick:u,loading:d,children:f("yes")}),(0,s.jsx)(l.Z,{onClick:function(){return t()},children:f("no")})]})]})}},60227:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(4942),i=t(93433),l=t(1413),o=t(29439),s=t(47313),a=t(31741),u=t(55613),d=t(45705),c=t(59491),f=t(77181),v=t(78508),h=t(23560),x=t(69658),p=t(74580),Z=t(2717),m=t(90954),g=t(80314),j=t(13945),y=t(24511),w=t(28305),k=t(27290),b=t(99361),C=t(70816),_=t.n(C),I=t(97890),S=(t(55940),t(53233)),A=t(48008),M=t(46417);function N(){var e=(0,y.$)().t,n=(0,Z.I0)(),t=(0,I.s0)(),C=(0,s.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:function(r){return(0,M.jsxs)("div",{className:"text-hover",onClick:function(){return function(r){n((0,m.bL)({id:"order_details",url:"seller/order/details/".concat(r),name:e("order.details")})),t("/seller/order/details/".concat(r))}(null===r||void 0===r?void 0:r.id)},children:["#",null===r||void 0===r?void 0:r.id]})},sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:function(e){return(0,M.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:function(e){var n,t;return(0,M.jsx)("div",{className:"text-hover",children:null===(n=e.shop)||void 0===n||null===(t=n.translation)||void 0===t?void 0:t.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:function(e){return(0,M.jsx)(u.Z,{disabled:!0,defaultValue:e})}},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return _()(e).format("YYYY-MM-DD HH:mm")}},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,M.jsx)(d.Z,{children:(0,M.jsx)(c.Z,{type:"primary",icon:(0,M.jsx)(a.Z,{}),onClick:function(){return $(n.id)}})})}}]),N=(0,o.Z)(C,2),P=N[0],T=N[1],W=(0,s.useContext)(p._).setIsModalVisible,Y=(0,s.useState)(null),z=(0,o.Z)(Y,2),D=z[0],H=z[1],O=(0,s.useState)(null),U=(0,o.Z)(O,2),V=U[0],$=U[1],E=(0,s.useState)(!1),K=(0,o.Z)(E,2),L=K[0],R=K[1],q=(0,s.useState)(null),B=(0,o.Z)(q,2),F=B[0],G=(B[1],(0,s.useState)(null)),J=(0,o.Z)(G,2),Q=J[0],X=J[1],ee=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,ne=(0,Z.v9)((function(e){return e.orderReview}),Z.wU),te=ne.reviews,re=ne.meta,ie=ne.loading,le=ne.params;(0,s.useEffect)((function(){ee.refetch&&(n((0,k.WI)()),n((0,m.A_)(ee)))}),[ee.refetch]),(0,g.Z)((function(){var e=ee.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,k.WI)(t))}),[ee.data]);var oe={id:D,onChange:function(e){H(e)}};return(0,M.jsxs)(f.Z,{title:e("order.reviews"),extra:(0,M.jsx)(d.Z,{wrap:!0,children:(0,M.jsx)(S.Z,{columns:P,setColumns:T})}),children:[(0,M.jsx)(v.Z,{scroll:{x:!0},rowSelection:oe,columns:null===P||void 0===P?void 0:P.filter((function(e){return e.is_show})),dataSource:te,pagination:{pageSize:le.perPage,page:le.page,total:re.total,defaultCurrent:le.page},rowKey:function(e){return e.id},onChange:function(e,t,r){var i=e.pageSize,l=e.current,o=r.field,s=r.order,a=(0,j.Z)(s);n((0,m.nc)({activeMenu:ee,data:{perPage:i,page:l,column:o,sort:a}}))},loading:ie}),(0,M.jsx)(x.Z,{click:function(){R(!0);var t=(0,l.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(D.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));w.Z.delete(t).then((function(){h.Am.success(e("successfully.deleted")),n((0,k.WI)()),W(!1)})).finally((function(){return R(!1)}))},text:e(F?"delete":"all.delete"),setText:H,loading:L}),V&&(0,M.jsx)(b.Z,{id:V,handleCancel:function(){return $(null)}}),Q&&(0,M.jsx)(A.Z,{open:Q,handleCancel:function(){return X(null)},click:Q.restore?function(){R(!0),w.Z.restoreAll().then((function(){h.Am.success(e("successfully.restored")),n((0,k.WI)()),X(null)})).finally((function(){return R(!1)}))}:function(){R(!0),w.Z.dropAll().then((function(){h.Am.success(e("successfully.deleted")),n((0,k.WI)()),X(null)})).finally((function(){return R(!1)}))},text:Q.restore?e("restore.modal.text"):e("read.carefully"),subTitle:Q.restore?"":e("confirm.deletion"),loading:L,setText:H})]})}}}]);