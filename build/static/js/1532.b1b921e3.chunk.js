(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1532],{92855:function(e,t,n){"use strict";var i=n(26824),o=n(46417);t.Z=function(e){var t=e.image,n=e.row,r=e.size,a=void 0===r?100:r;return(0,o.jsx)(i.Z,{src:t||"https://via.placeholder.com/150",alt:"img_gallery",width:a,height:a,className:"rounded border",preview:!0,placeholder:!t,style:{objectFit:"contain"}},t+(null===n||void 0===n?void 0:n.id))}},55940:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(1413),o=n(45987),r=(n(47313),n(59491)),a=n(47515),l=n(23560),u=n(24511),c=n(79492),s=n(46417),d=["size","onClick","type"];function v(e){var t=e.size,n=void 0===t?"":t,v=e.onClick,h=e.type,f=void 0===h?"default":h,p=(0,o.Z)(e,d),Z=(0,u.$)().t,g=(0,c.Z)().isDemo;return(0,s.jsx)(r.Z,(0,i.Z)({size:n,icon:(0,s.jsx)(a.Z,{}),onClick:function(e){g?l.Am.warning(Z("cannot.work.demo")):v(e)},type:f},p))}},53233:function(e,t,n){"use strict";var i=n(1413),o=n(29439),r=n(47313),a=n(56140),l=n(67251),u=n(45705),c=n(86345),s=n(78267),d=n(37388),v=n(59491),h=n(99587),f=n(24511),p=n(46417),Z=a.Z.Text;t.Z=function(e){var t=e.columns,n=void 0===t?[]:t,a=e.setColumns,g=e.style,m=e.size,x=void 0===m?"":m,j=e.iconOnly,y=(0,f.$)().t,b=(0,r.useState)(!1),_=(0,o.Z)(b,2),w=_[0],k=_[1],C=(0,p.jsx)(l.Z,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,p.jsx)(l.Z.Item,{children:(0,p.jsxs)(u.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(Z,{children:e.title}),(0,p.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var t=null===n||void 0===n?void 0:n.map((function(t){return t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t}));a(t)}(e)},disabled:1===t})]})},e+t)}))});return(0,p.jsx)(s.Z,{overlay:C,trigger:["click"],onVisibleChange:function(e){k(e)},visible:w,children:(0,p.jsx)(d.Z,{title:y("change.columns"),children:(0,p.jsx)(v.Z,{style:(0,i.Z)({},g),size:x,icon:(0,p.jsx)(h.Z,{}),children:j?null:y("Columns")})})})}},49655:function(e,t,n){"use strict";n.d(t,{_:function(){return g}});var i=n(1413),o=n(93433),r=n(15861),a=n(29439),l=n(45987),u=n(87757),c=n.n(u),s=n(47313),d=n(12279),v=n.n(d),h=n(74294),f=n(72652),p=n(46417),Z=["fetchOptions","debounceTimeout","hasMore","refetchOnFocus"],g=function(e){var t=e.fetchOptions,n=e.debounceTimeout,u=void 0===n?400:n,d=e.hasMore,g=e.refetchOnFocus,m=void 0!==g&&g,x=(0,l.Z)(e,Z),j=(0,s.useState)(!1),y=(0,a.Z)(j,2),b=y[0],_=y[1],w=(0,s.useState)([]),k=(0,a.Z)(w,2),C=k[0],S=k[1],z=(0,s.useState)(!1),A=(0,a.Z)(z,2),I=A[0],H=A[1],M=(0,s.useState)(null),V=(0,a.Z)(M,2),N=V[0],P=V[1],O=(0,s.useState)(1),T=(0,a.Z)(O,2),q=T[0],F=T[1],E=(0,s.useMemo)((function(){return v()((function(e){S([]),P(e),_(!0),t({search:e}).then((function(e){S(e),F(2),_(!1)})).finally((function(){return H(!1)}))}),u)}),[t,u,q]),D=function(){var e=(0,r.Z)(c().mark((function e(n){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.target,I||i.scrollTop+i.offsetHeight!==i.scrollHeight||d&&(H(!0),t({search:N,page:q}).then((function(e){F((function(e){return e+1})),S([].concat((0,o.Z)(C),(0,o.Z)(e)))})).finally((function(){return H(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)(h.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,onPopupScroll:D,labelInValue:!0,filterOption:!1,onSearch:E,notFoundContent:b?(0,p.jsx)(f.Z,{size:"small"}):"no results",onFocus:function(){m?E(""):null!==C&&void 0!==C&&C.length||E("")}},x),{},{children:[C.map((function(e,t){return(0,p.jsx)(h.Z.Option,{value:e.value,children:e.label},t)})),I&&(0,p.jsx)(h.Z.Option,{children:(0,p.jsx)(f.Z,{size:"small"})})]}))}},48008:function(e,t,n){"use strict";n(47313);var i=n(9274),o=n(87569),r=n(59491),a=n(24511),l=n(46417);t.Z=function(e){var t=e.open,n=e.handleCancel,u=e.text,c=e.click,s=e.loading,d=e.subTitle,v=(0,a.$)().t;return(0,l.jsxs)(i.Z,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,l.jsx)(o.ZP,{status:"warning",title:u,subTitle:d}),(0,l.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,l.jsx)(r.Z,{type:"primary",className:"mr-2",onClick:c,loading:s,children:v("yes")}),(0,l.jsx)(r.Z,{onClick:function(){return n()},children:v("no")})]})]})}},51988:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});n(47313);var i=n(24511),o=n(66188),r=n.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",a=n.p+"static/media/noresult.ac4af107751f94856a9c.riv",l=n.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",u=n(46417);var c=function(e){var t=e.id,n=void 0===t?"noresult":t,c=e.text,s=void 0===c?"":c,d=(0,i.$)().t,v={src:{noproductsfound:r,noresult:a,nosell:l}[n],artboard:"New Artboard",autoplay:!0},h=(0,o.useRive)(v).RiveComponent;return(0,u.jsxs)("div",{className:"animation-canvas",children:[(0,u.jsx)("div",{style:{width:"100%",height:200},children:(0,u.jsx)(h,{})}),(0,u.jsx)("div",{className:"text text-center",children:d(s)})]})}},41481:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(1413),o=n(29439),r=n(45987),a=n(47313),l=n(66672),u=n(16031),c=n(40765),s=n(46417),d=["handleChange","defaultValue","resetSearch"];function v(e){var t=e.handleChange,n=e.defaultValue,v=e.resetSearch,h=(0,r.Z)(e,d),f=(0,a.useState)(n),p=(0,o.Z)(f,2),Z=p[0],g=p[1],m=(0,a.useMemo)((function(){return(0,u.debounce)((function(e){t(e)}),800)}),[t]);return(0,a.useEffect)((function(){g(n)}),[v,n]),(0,s.jsx)(l.Z,(0,i.Z)({value:Z,onChange:function(e){g(e.target.value),m(e.target.value)},prefix:(0,s.jsx)(c.Z,{})},h))}},13945:function(e,t,n){"use strict";function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{Z:function(){return i}})},33834:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var i=n(4942),o=n(1413),r=n(97890),a=n(74776),l=n.n(a),u=function(){var e=(0,r.s0)(),t=(0,r.TH)(),n=l().parse(t.search,{ignoreQueryPrefix:!0});return{values:n,set:function(t,r){return e({search:l().stringify((0,o.Z)((0,o.Z)({},n),{},(0,i.Z)({},t,r)))})},reset:function(t){var i=(0,o.Z)({},n);i[t]&&delete i[t],e({search:l().stringify((0,o.Z)({},i))})},clear:function(){return e({search:l().stringify({})})},merge:function(t){return e({search:l().stringify((0,o.Z)((0,o.Z)({},n),t))})},get:function(e){return n[e]},setMultiple:function(t){var i=(0,o.Z)((0,o.Z)({},n),t);e({search:l().stringify(i)})},resetMultiple:function(t){var i=(0,o.Z)({},n);t.forEach((function(e){i[e]&&delete i[e]})),e({search:l().stringify(i)})}}}},28358:function(e,t,n){"use strict";var i=n(34344),o={getAll:function(e){return i.Z.get("dashboard/admin/kitchen",{params:e})}};t.Z=o},27178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return me}});var i=n(73591),o=n(24511),r=n(97890),a=n(4942),l=n(93433),u=n(1413),c=n(29439),s=n(47313),d=n(12019),v=n(66407),h=n(47515),f=n(55768),p=n(45705),Z=n(66204),g=n(86345),m=n(59491),x=n(77181),j=n(78508),y=n(23560),b=n(97421),_=n(74580),w=n(69658),k=n(2717),C=n(90954),S=n(17101),z=n(95882),A=n(80314),I=n(13945),H=n(55940),M=n(10976),V=n(9274),N=n(68197),P=n(59624),O=n(74294),T=n(66672),q=n(14349),F=n(71810),E=n(46417),D=["published","pending","unpublished"],K=["accept","decline"],$={type:"product"};function L(e){var t=e.orderDetails,n=e.handleCancel,i=e.paramsData,r=e.listType,a=void 0===r?"product":r,l=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,d=M.Z.useForm(),v=(0,c.Z)(d,1)[0],h=(0,k.I0)(),f=(0,o.$)().t,p=(0,s.useState)(!1),Z=(0,c.Z)(p,2),g=Z[0],x=Z[1],j=(0,s.useState)(null===t||void 0===t?void 0:t.status),b=(0,c.Z)(j,2),_=b[0],w=b[1],A="request"===a?K:D;return(0,E.jsx)(V.Z,{visible:!!t,title:t.title,onCancel:n,footer:[(0,E.jsx)(m.Z,{type:"primary",onClick:function(){return v.submit()},loading:g,children:f("save")}),(0,E.jsx)(m.Z,{type:"default",onClick:n,children:f("cancel")})],children:(0,E.jsx)(M.Z,{form:v,layout:"vertical",onFinish:function(e){x(!0);var o=(0,u.Z)({},e);"product"===a?function(e,t){S.Z.updateStatus(e,t).then((function(){n(),y.Am.success(f("successfully.updated")),h((0,z.t2)(i)),h((0,C.A_)(l))})).finally((function(){return x(!1)}))}(t.uuid,o):a&&function(e,t){var i={status_note:t.status_note,status:"accept"===t.status?"approved":"canceled"};q.Z.changeStatus(e,i).then((function(){n(),y.Am.success(f("successfully.updated")),h((0,F.aw)($)),h((0,C.A_)(l))})).finally((function(){return x(!1)}))}(t.id,o)},initialValues:"product"===a?{status:t.status,status_note:t.status_note}:{status:"accept",status_note:t.status_note},children:(0,E.jsx)(N.Z,{gutter:12,children:(0,E.jsxs)(P.Z,{span:24,children:[(0,E.jsx)(M.Z.Item,{label:f("status"),name:"status",rules:[{required:!0,message:f("required")}],children:(0,E.jsx)(O.Z,{onChange:function(e){return w(e)},children:A.map((function(e,t){return(0,E.jsx)(O.Z.Option,{value:e,children:f(e)},e+t)}))})}),("unpublished"===_||"decline"===_)&&(0,E.jsx)(M.Z.Item,{name:"status_note",label:f("note"),rules:[{validator:function(e,t){return t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(f("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(f("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(f("required")))}}],children:(0,E.jsx)(T.Z.TextArea,{maxLength:250,showCount:!0})})]})})})})}var R=n(53233),U=n(26672),W=n(48008),B=n(51988),Y=n(3925),Q=n(33834),G=n(92855),J=n(41481),X=n(49655),ee=n(53149),te=n(30763),ne=n(11216),ie=n(15386),oe=n(28358),re=function(){var e=(0,o.$)().t,t=(0,Q.K)(),n=(0,k.v9)((function(e){return e.product}),k.wU).loading,i=(0,s.useState)({shop:!1,category:!1,brand:!1,kitchen:!1}),r=(0,c.Z)(i,2),l=r[0],d=r[1],v=(0,s.useState)({shop:void 0,category:void 0,brand:void 0,kitchen:void 0}),h=(0,c.Z)(v,2),f=h[0],Z=h[1],g=function(e,n){var i="search"===e;(i?!(null!==n&&void 0!==n&&n.length):!(null!==n&&void 0!==n&&n.value))?(t.reset(e),i||Z((0,u.Z)((0,u.Z)({},f),{},(0,a.Z)({},e,void 0)))):(t.set(e,i?n:null===n||void 0===n?void 0:n.value),i||Z((0,u.Z)((0,u.Z)({},f),{},(0,a.Z)({},e,n))))};return(0,E.jsx)(x.Z,{children:(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(J.Z,{placeholder:e("search"),handleChange:function(e){return g("search",e)},defaultValue:t.get("search")||"",resetSearch:function(){return t.reset("search")},style:{width:200},loading:n}),(0,E.jsx)(X._,{placeholder:e("select.shop"),hasMore:l.shop,fetchOptions:function(t){var n=t.search,i=t.page,o=void 0===i?1:i,r={search:null!==n&&void 0!==n&&n.length?n:void 0,status:"approved",page:o};return ee.Z.search(r).then((function(t){var n,i,o;return d((0,u.Z)((0,u.Z)({},l),{},{shop:(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.current_page)<(null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.last_page)})),null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.map((function(t){var n;return{label:(null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:function(e){return g("shop",e)},onClear:function(){return t.reset("shop")},loading:n,value:f.shop}),(0,E.jsx)(X._,{placeholder:e("select.category"),hasMore:l.category,fetchOptions:function(n){var i=n.search,o=n.page,r=void 0===o?1:o,a={type:"main",search:null!==i&&void 0!==i&&i.length?i:void 0,page:r,shop_id:t.get("shop")||void 0};return te.Z.search(a).then((function(t){var n,i,o;return d((0,u.Z)((0,u.Z)({},l),{},{category:(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.current_page)<(null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.last_page)})),null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.map((function(t){var n;return{label:(null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:function(e){return g("category",e)},onClear:function(){return t.reset("category")},refetchOnFocus:!!t.get("shop"),loading:n,value:f.category}),(0,E.jsx)(X._,{placeholder:e("select.brand"),hasMore:l.brand,fetchOptions:function(t){var n=t.search,i=t.page,o=void 0===i?1:i,r={search:null!==n&&void 0!==n&&n.length?n:void 0,page:o};return ne.Z.search(r).then((function(t){var n,i,o;return d((0,u.Z)((0,u.Z)({},l),{},{brand:(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.current_page)<(null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.last_page)})),null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.map((function(t){return{label:(null===t||void 0===t?void 0:t.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:function(e){return g("brand",e)},onClear:function(){return t.reset("brand")},refetchOnFocus:!!t.get("brand"),loading:n,value:f.brand}),(0,E.jsx)(X._,{placeholder:e("select.kitchen"),hasMore:l.kitchen,fetchOptions:function(t){var n=t.search,i=t.page,o=void 0===i?1:i,r={search:null!==n&&void 0!==n&&n.length?n:void 0,page:o,active:1};return oe.Z.getAll(r).then((function(t){var n,i,o;return d((0,u.Z)((0,u.Z)({},l),{},{kitchen:(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.current_page)<(null===t||void 0===t||null===(i=t.meta)||void 0===i?void 0:i.last_page)})),null===t||void 0===t||null===(o=t.data)||void 0===o?void 0:o.map((function(t){var n;return{label:(null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===t||void 0===t?void 0:t.id)||e("N/A"),value:null===t||void 0===t?void 0:t.id,key:null===t||void 0===t?void 0:t.id}}))}))},style:{minWidth:200},onChange:function(e){return g("kitchen",e)},onClear:function(){return t.reset("kitchen")},refetchOnFocus:!!t.get("kitchen"),loading:n,value:f.kitchen}),(0,E.jsx)(m.Z,{icon:(0,E.jsx)(ie.Z,{}),onClick:function(){t.resetMultiple(["search","shop","category","brand"]),Z({shop:void 0,category:void 0,brand:void 0})},children:e("reset.filters")})]})})},ae=["blue","red","gold","volcano","cyan","lime"],le=["all","pending","published","unpublished","deleted_at"],ue=i.Z.TabPane,ce=function(){var e=(0,o.$)().t,t=(0,k.I0)(),n=(0,r.s0)(),M=(0,Q.K)(),V=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,N=(0,k.v9)((function(e){return e.product}),k.wU),P=N.products,O=N.meta,T=N.loading,q=N.params,F=(0,s.useContext)(_._).setIsModalVisible,D=(0,s.useState)(null),K=(0,c.Z)(D,2),$=K[0],J=K[1],X=(0,s.useState)(null),ee=(0,c.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,s.useState)(null),oe=(0,c.Z)(ie,2),ce=oe[0],se=oe[1],de=(0,s.useState)(null),ve=(0,c.Z)(de,2),he=ve[0],fe=ve[1],pe=(0,s.useState)(null),Ze=(0,c.Z)(pe,2),ge=Ze[0],me=Ze[1],xe=(0,s.useState)(!1),je=(0,c.Z)(xe,2),ye=je[0],be=je[1],_e=(0,s.useState)(!1),we=(0,c.Z)(_e,2),ke=we[0],Ce=we[1],Se=(0,s.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:function(e,t){return e.id-t.id}},{title:e("image"),dataIndex:"img",is_show:!0,render:function(e,t){return(0,E.jsx)(G.Z,{row:t,image:e})}},{title:e("name"),dataIndex:"name",is_show:!0},{title:e("translations"),dataIndex:"locales",is_show:!0,render:function(e,t){var n;return(0,E.jsx)(p.Z,{children:null===(n=t.locales)||void 0===n?void 0:n.map((function(e,t){return(0,E.jsx)(Z.Z,{className:"text-uppercase",color:[ae[t]],children:e})}))})}},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:function(t){var n;return(null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("category"),dataIndex:"category",key:"category",is_show:!0,render:function(t){var n;return(null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("kitchen"),dataIndex:"kitchen",key:"kitchen",is_show:!0,render:function(t){var n;return(null===t||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title)||(null===t||void 0===t?void 0:t.id)||e("N/A")}},{title:e("active"),dataIndex:"active",is_show:!0,render:function(e,t){return(0,E.jsx)(g.Z,{onChange:function(){F(!0),me(t.uuid),ne(!0)},disabled:null===t||void 0===t?void 0:t.deleted_at,checked:!!e})}},{title:e("status"),is_show:!0,dataIndex:"status",key:"status",render:function(t,n){return(0,E.jsxs)("div",{children:["pending"===t?(0,E.jsx)(Z.Z,{color:"blue",children:e(t)}):"unpublished"===t?(0,E.jsx)(Z.Z,{color:"red",children:e(t)}):(0,E.jsx)(Z.Z,{color:"cyan",children:e(t)}),!(null!==n&&void 0!==n&&n.deleted_at)&&(0,E.jsx)(d.Z,{onClick:function(){return J(n)}})]})}},{title:e("options"),dataIndex:"options",is_show:!0,render:function(e,t){return(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(m.Z,{type:"primary",icon:(0,E.jsx)(d.Z,{}),onClick:function(){return Oe(t.uuid)},disabled:t.deleted_at}),(0,E.jsx)(m.Z,{icon:(0,E.jsx)(v.Z,{}),onClick:function(){return Te(t.uuid)},disabled:t.deleted_at}),(0,E.jsx)(H.Z,{icon:(0,E.jsx)(h.Z,{}),onClick:function(){F(!0),me([t.id]),se(!0),ne(!1)},disabled:t.deleted_at})]})}}]),ze=(0,c.Z)(Se,2),Ae=ze[0],Ie=ze[1],He=V.data,Me=M.get("status"),Ve={search:M.get("search")||void 0,brand_id:M.get("brand")||void 0,category_id:M.get("category")||void 0,shop_id:M.get("shop")||void 0,kitchen_id:M.get("kitchen")||void 0,status:"deleted_at"!==Me?Me:void 0,deleted_at:"deleted_at"===Me?"deleted_at":void 0,sort:null===He||void 0===He?void 0:He.sort,column:null===He||void 0===He?void 0:He.column,perPage:null===He||void 0===He?void 0:He.perPage,page:null===He||void 0===He?void 0:He.page};(0,s.useEffect)((function(){var e=(0,u.Z)((0,u.Z)({},Ve),{},{page:1,perPage:(null===O||void 0===O?void 0:O.perPage)||10});Ne(e)}),[null===Ve||void 0===Ve?void 0:Ve.search,null===Ve||void 0===Ve?void 0:Ve.brand_id,null===Ve||void 0===Ve?void 0:Ve.category_id,null===Ve||void 0===Ve?void 0:Ve.shop_id,null===Ve||void 0===Ve?void 0:Ve.kitchen_id,null===Ve||void 0===Ve?void 0:Ve.sort,null===Ve||void 0===Ve?void 0:Ve.status]),(0,A.Z)((function(){if(V.refetch){var e=(0,u.Z)((0,u.Z)({},Ve),{},{page:1,perPage:(null===O||void 0===O?void 0:O.perPage)||10});Ne(e)}}),[V.refetch]);var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t((0,z.t2)(e)),t((0,C.A_)(V))},Pe=function(){t((0,C.nc)({activeMenu:V,data:null}))},Oe=function(i){t((0,C.bL)({id:"product-edit",url:"product/".concat(i),name:e("edit.product")})),Pe(),n("/product/".concat(i))},Te=function(i){t((0,C.bL)({id:"product-clone",url:"product-clone/".concat(i),name:e("clone.product")})),Pe(),n("/product-clone/".concat(i))},qe={selectedRowKeys:ge,onChange:function(e){me(e)}};return(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(re,{}),(0,E.jsx)(x.Z,{className:"p-0",children:(0,E.jsxs)(p.Z,{wrap:!0,size:[14,20],children:[(0,E.jsxs)(m.Z,{onClick:function(){t((0,C.bL)({id:"product-import",url:"catalog/product/import",name:e("product.import")})),n("/catalog/product/import")},children:[(0,E.jsx)(Y.o5r,{className:"mr-2"}),e("import")]}),"deleted_at"!==Me&&(0,E.jsxs)(m.Z,{loading:ke,onClick:function(){var e=(0,u.Z)((0,u.Z)({},Ve),Object.assign.apply(Object,[{}].concat((0,l.Z)(ge.map((function(e,t){return(0,a.Z)({},"ids[".concat(t,"]"),e||void 0)}))))));Ce(!0),S.Z.export(e).then((function(e){var t;window.location.href=b.S0+(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_name)})).finally((function(){return Ce(!1)}))},children:[(0,E.jsx)(Y.bwQ,{className:"mr-2"}),e("export")]}),(0,E.jsx)(R.Z,{columns:Ae,setColumns:Ie}),"deleted_at"!==Me&&(0,E.jsx)(H.Z,{size:"",onClick:function(){null===ge||0===ge.length?y.Am.warning(e("select.the.product")):(F(!0),se(!1))},children:e("delete.selected")}),"deleted_at"!==Me?(0,E.jsx)(H.Z,{size:"",onClick:function(){return fe({delete:!0})},children:e("delete.all")}):(0,E.jsx)(H.Z,{icon:(0,E.jsx)(U.uOc,{className:"mr-2"}),onClick:function(){return fe({restore:!0})},children:e("restore.all")}),(0,E.jsx)(m.Z,{icon:(0,E.jsx)(f.Z,{}),type:"primary",onClick:function(){t((0,C.bL)({id:"product-add",url:"product/add",name:e("add.product")})),Pe(),n("/product/add")},children:e("add.product")})]})}),(0,E.jsxs)(x.Z,{children:[(0,E.jsx)(i.Z,{className:"mt-3",activeKey:Me||"all",onChange:function(e){"all"===e?M.reset("status"):M.set("status",e)},type:"card",children:le.map((function(t){return(0,E.jsx)(ue,{tab:e(t)},t)}))}),(0,E.jsx)(j.Z,{locale:{emptyText:(0,E.jsx)(B.Z,{})},scroll:{x:!0},rowSelection:qe,loading:T,columns:null===Ae||void 0===Ae?void 0:Ae.filter((function(e){return e.is_show})),dataSource:P,pagination:{pageSize:(null===q||void 0===q?void 0:q.perPage)||10,page:(null===O||void 0===O?void 0:O.current_page)||1,total:null===O||void 0===O?void 0:O.total,defaultCurrent:(null===O||void 0===O?void 0:O.current_page)||1,current:null===O||void 0===O?void 0:O.current_page},onChange:function(e,t,n){var i=e.pageSize,o=e.current,r=n.field,a=n.order,l=(0,I.Z)(a),c=(0,u.Z)((0,u.Z)({},Ve),{},{perPage:i,page:o,column:r,sort:l});Ne(c)},rowKey:function(e){return e.id}})]}),$&&(0,E.jsx)(L,{orderDetails:$,handleCancel:function(){return J(null)},paramsData:Ve}),(0,E.jsx)(w.Z,{click:te?function(){be(!0),S.Z.setActive(ge).then((function(){F(!1),t((0,z.t2)(Ve)),y.Am.success(e("successfully.updated")),ne(!1)})).finally((function(){return be(!1)}))}:function(){be(!0);var n=(0,u.Z)({},Object.assign.apply(Object,[{}].concat((0,l.Z)(ge.map((function(e,t){return(0,a.Z)({},"ids[".concat(t,"]"),e)}))))));S.Z.delete(n).then((function(){F(!1),y.Am.success(e("successfully.deleted")),t((0,z.t2)(Ve)),se(null),ne(!1)})).finally((function(){return be(!1)}))},text:e(te?"set.active.product":ce?"delete":"all.delete"),loading:ye,setText:me,setActive:ne}),he&&(0,E.jsx)(W.Z,{open:he,handleCancel:function(){return fe(null)},click:he.restore?function(){be(!0),S.Z.restoreAll().then((function(){y.Am.success(e("successfully.deleted")),t((0,z.t2)(Ve)),fe(null)})).finally((function(){return be(!1)}))}:function(){be(!0),S.Z.dropAll().then((function(){y.Am.success(e("successfully.deleted")),t((0,z.t2)({})),fe(null)})).finally((function(){me(null),be(!1)}))},text:he.restore?e("restore.modal.text"):e("read.carefully"),subTitle:he.restore?"":e("confirm.deletion"),loading:ye,setText:me,setActive:ne})]})},se=n(26824),de=n(45464),ve=n(31741),he=n(4901),fe=n(70816),pe=n.n(fe),Ze={type:"product"};function ge(e){var t,n,i,a=e.parentId,l=(e.type,(0,o.$)().t),v=(0,s.useContext)(_._).setIsModalVisible,h=(0,s.useState)(!1),f=(0,c.Z)(h,2),g=f[0],b=f[1],S=(0,s.useState)(null),z=(0,c.Z)(S,2),H=z[0],M=z[1],V=(0,s.useState)(null),N=(0,c.Z)(V,2),P=N[0],O=N[1],T=(0,k.I0)(),D=(0,r.s0)(),K=(0,k.v9)((function(e){return e.menu}),k.wU).activeMenu,$=(0,k.v9)((function(e){return e.requestModels}),k.wU),U=$.data,W=$.meta,B=$.loading,Y=$.params,Q=K.data,G={search:null===Q||void 0===Q?void 0:Q.search,sort:null===Q||void 0===Q?void 0:Q.sort,column:null===Q||void 0===Q?void 0:Q.column,perPage:null===Q||void 0===Q?void 0:Q.perPage,page:null===Q||void 0===Q?void 0:Q.page,parent_id:a,type:"product"},J=(0,s.useState)([{title:l("created.by"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:function(e){return(0,E.jsxs)("span",{children:[e.firstname," ",null===e||void 0===e?void 0:e.lastname," ",(0,E.jsx)("a",{href:"tel:".concat(null===e||void 0===e?void 0:e.phone),children:null===e||void 0===e?void 0:e.phone})]})}},{title:l("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return pe()(e).format("YYYY-MM-DD HH:mm")}},{title:l("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,t){var n;return(0,E.jsxs)(p.Z,{children:[null===(n=t.model.translation)||void 0===n?void 0:n.title," ",(0,E.jsx)(he.WFu,{})," ",t.data["title[".concat(t.model.translation.locale,"]")]]})}},{title:l("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,t){var n,i,o;return(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(se.Z,{src:(0,de.Z)(t.model.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,E.jsx)(he.WFu,{}),(0,E.jsx)(se.Z,{src:(0,de.Z)((null===(n=t.data.images)||void 0===n||null===(i=n.at(0))||void 0===i?void 0:i.url)||(null===(o=t.data.images)||void 0===o?void 0:o.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:l("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,t){return(0,E.jsx)("div",{children:"pending"===e?(0,E.jsx)(Z.Z,{color:"blue",children:l(e)}):"canceled"===e?(0,E.jsx)(Z.Z,{color:"error",children:l(e)}):(0,E.jsx)(Z.Z,{color:"cyan",children:l(e)})})}},{title:l("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,t){return(0,E.jsxs)(p.Z,{children:[(0,E.jsx)(m.Z,{icon:(0,E.jsx)(d.Z,{}),onClick:function(){return function(e){T((0,C.bL)({url:"product-request/".concat(e.id),id:"product_request_edit",name:l("product.request.edit")})),D("/product-request/".concat(e.id))}(t)}}),(0,E.jsx)(m.Z,{icon:(0,E.jsx)(ve.Z,{}),onClick:function(e){e.stopPropagation(),function(e){T((0,C.bL)({url:"product-request-details/".concat(e.id),id:"product_request_details",name:l("product.request.details")})),D("/product-request-details/".concat(e.id))}(t)}}),(0,E.jsx)(m.Z,{onClick:function(){return O(t)},children:l("change.status")})]})}}]),X=(0,c.Z)(J,2),ee=X[0],te=X[1];(0,s.useEffect)((function(){T((0,F.aw)(G)),T((0,C.A_)(K))}),[K.refetch]),(0,A.Z)((function(){T((0,F.aw)(G))}),[K.data]);var ne={selectedRowKeys:H,onChange:function(e){M(e)}};return(0,E.jsxs)(x.Z,{title:l("requests"),extra:(0,E.jsx)(p.Z,{wrap:!0,children:(0,E.jsx)(R.Z,{columns:ee,setColumns:te})}),children:[(0,E.jsx)(j.Z,{scroll:{x:!0},rowSelection:ne,columns:null===ee||void 0===ee?void 0:ee.filter((function(e){return e.is_show})),dataSource:U,pagination:{pageSize:Y.perPage,page:(null===(t=K.data)||void 0===t?void 0:t.page)||1,total:W.total,defaultCurrent:null===(n=K.data)||void 0===n?void 0:n.page,current:null===(i=K.data)||void 0===i?void 0:i.page},rowKey:function(e){return e.key},onChange:function(e,t,n){var i=e.pageSize,o=e.current,r=n.field,a=n.order,l=(0,I.Z)(a);T((0,C.nc)({activeMenu:K,data:(0,u.Z)((0,u.Z)({},K.data),{},{perPage:i,page:o,column:r,sort:l})}))},loading:B}),P&&(0,E.jsx)(L,{orderDetails:P,handleCancel:function(){return O(null)},paramsData:G,listType:"request"}),(0,E.jsx)(w.Z,{click:function(){b(!0);var e={status:null===H||void 0===H?void 0:H.at(0).status};q.Z.changeStatus(null===H||void 0===H?void 0:H.at(0).id,e).then((function(){y.Am.success(l("successfully.changed")),T((0,F.aw)(Ze)),v(!1),M(null)})).finally((function(){return b(!1)}))},text:l("change.status"),setText:M,loading:g})]})}function me(){var e,t=(0,o.$)().t,n=(0,r.TH)();return(0,E.jsxs)(i.Z,{defaultActiveKey:(null===(e=n.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,E.jsx)(i.Z.TabPane,{tab:t("product.list"),children:(0,E.jsx)(ce,{})},"list"),(0,E.jsx)(i.Z.TabPane,{tab:t("requests"),children:(0,E.jsx)(ge,{})},"request")]})}},15386:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(1413),o=n(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},a=n(17469),l=function(e,t){return o.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:r}))};l.displayName="ClearOutlined";var u=o.forwardRef(l)},55768:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(1413),o=n(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=n(17469),l=function(e,t){return o.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:r}))};l.displayName="PlusCircleOutlined";var u=o.forwardRef(l)},99587:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(1413),o=n(47313),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},a=n(17469),l=function(e,t){return o.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,icon:r}))};l.displayName="TableOutlined";var u=o.forwardRef(l)},24654:function(){}}]);