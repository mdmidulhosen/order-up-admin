(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1331],{33834:function(n,i,e){"use strict";e.d(i,{K:function(){return r}});var l=e(4942),o=e(1413),t=e(97890),u=e(74776),d=e.n(u),r=function(){var n=(0,t.s0)(),i=(0,t.TH)(),e=d().parse(i.search,{ignoreQueryPrefix:!0});return{values:e,set:function(i,t){return n({search:d().stringify((0,o.Z)((0,o.Z)({},e),{},(0,l.Z)({},i,t)))})},reset:function(i){var l=(0,o.Z)({},e);l[i]&&delete l[i],n({search:d().stringify((0,o.Z)({},l))})},clear:function(){return n({search:d().stringify({})})},merge:function(i){return n({search:d().stringify((0,o.Z)((0,o.Z)({},e),i))})},get:function(n){return e[n]},setMultiple:function(i){var l=(0,o.Z)((0,o.Z)({},e),i);n({search:d().stringify(l)})},resetMultiple:function(i){var l=(0,o.Z)({},e);i.forEach((function(n){l[n]&&delete l[n]})),n({search:d().stringify(l)})}}}},82082:function(n,i,e){"use strict";e.r(i);var l=e(4942),o=e(93433),t=e(1413),u=e(29439),d=e(47313),r=e(83999),a=e(77181),v=e(72652),c=e(73431),s=e(97890),f=e(18333),p=e(2717),Z=e(90954),x=e(24511),m=e(33834),h=e(80314),y=e(8163),g=e(16848),j=e(88708),k=e(44902),b=e(89904),_=e(32937),S=e(46417),q=r.Z.Step;i.default=function(){var n,i=(0,x.$)().t,e=(0,s.UO)().uuid,I=(0,m.K)(),w=(0,p.I0)(),F=(0,p.v9)((function(n){return n.menu}),p.wU).activeMenu,P=(0,p.v9)((function(n){return n.formLang}),p.wU).languages,C=(0,d.useState)(F.refetch),O=(0,u.Z)(C,2),M=O[0],U=O[1],N=Number((null===(n=I.values)||void 0===n?void 0:n.step)||0);(0,d.useEffect)((function(){$(e)}),[]),(0,h.Z)((function(){F.refetch&&$(e)}),[F.refetch]);var E=function(){var n=N+1;I.set("step",n)},L=function(){var n=N-1;I.set("step",n)},T=function(n){var i;return n?{label:null!==n&&void 0!==n&&n.translation?null===n||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title:null===n||void 0===n?void 0:n.title,value:null===n||void 0===n?void 0:n.id}:null},$=function(n){U(!0),f.Z.getById(n).then((function(n){var i,e,u,d,r,a,v,c,s,f,p,x,m={};null===n||void 0===n||null===(i=n.data)||void 0===i||null===(e=i.stocks)||void 0===e||e.forEach((function(n){var i;null===n||void 0===n||null===(i=n.extras)||void 0===i||i.forEach((function(i){var e,l,o,t,u,d,r,a,v,c;(null===i||void 0===i?void 0:i.extra_group_id)in m?null!==m&&void 0!==m&&null!==(e=m[null===i||void 0===i?void 0:i.extra_group_id])&&void 0!==e&&null!==(l=e.values)&&void 0!==l&&l.some((function(n){return(null===n||void 0===n?void 0:n.value)===(null===i||void 0===i?void 0:i.id)}))||null===m||void 0===m||null===(o=m[null===i||void 0===i?void 0:i.extra_group_id])||void 0===o||null===(t=o.values)||void 0===t||t.push({value:null===i||void 0===i?void 0:i.id,label:null===i||void 0===i?void 0:i.value,stock_id:null===n||void 0===n?void 0:n.id,group:null===i||void 0===i||null===(u=i.group)||void 0===u||null===(d=u.translation)||void 0===d?void 0:d.title}):m[null===i||void 0===i?void 0:i.extra_group_id]={label:null===i||void 0===i||null===(r=i.group)||void 0===r||null===(a=r.translation)||void 0===a?void 0:a.title,value:null===i||void 0===i?void 0:i.extra_group_id,id:null===i||void 0===i?void 0:i.extra_group_id,stock_id:null===n||void 0===n?void 0:n.id,values:[{value:null===i||void 0===i?void 0:i.id,label:null===i||void 0===i?void 0:i.value,stock_id:null===n||void 0===n?void 0:n.id,group:null===i||void 0===i||null===(v=i.group)||void 0===v||null===(c=v.translation)||void 0===c?void 0:c.title}]}}))}));var h,y=(0,t.Z)((0,t.Z)((0,t.Z)({},null===n||void 0===n?void 0:n.data),R(null===n||void 0===n?void 0:n.data)),{},{category:T(null===n||void 0===n||null===(u=n.data)||void 0===u?void 0:u.category),brand:T(null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.brand),kitchen:T(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.kitchen),unit:T(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.unit),images:(h=null===n||void 0===n||null===(v=n.data)||void 0===v?void 0:v.galleries,h.map((function(n){return{uid:null===n||void 0===n?void 0:n.id,name:null===n||void 0===n?void 0:n.path,url:null===n||void 0===n?void 0:n.path}}))),product_id:null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.id,extras:Object.values(m),stocks:null===n||void 0===n||null===(s=n.data)||void 0===s||null===(f=s.stocks)||void 0===f?void 0:f.map((function(n){return(0,t.Z)((0,t.Z)((0,t.Z)({},n),Object.assign.apply(Object,[{}].concat((0,o.Z)(null===n||void 0===n?void 0:n.extras.map((function(n,i){var e,o;return(0,l.Z)({},"extras[".concat(i,"]"),{label:null===n||void 0===n?void 0:n.value,value:null===n||void 0===n?void 0:n.id,group:null===n||void 0===n||null===(e=n.group)||void 0===e||null===(o=e.translation)||void 0===o?void 0:o.title})})))))),{},{quantity:(null===n||void 0===n?void 0:n.quantity)||0,extras:void 0})})),properties:null===n||void 0===n||null===(p=n.data)||void 0===p||null===(x=p.properties)||void 0===x?void 0:x.map((function(n,i){var e;return e={id:i},(0,l.Z)(e,"key[".concat(null===n||void 0===n?void 0:n.locale,"]"),null===n||void 0===n?void 0:n.key),(0,l.Z)(e,"value[".concat(n.locale,"]"),null===n||void 0===n?void 0:n.value),e})),translation:void 0,translations:void 0});w((0,Z.nc)({activeMenu:F,data:y}))})).finally((function(){U(!1),w((0,Z.A_)(F))}))},R=function(n){if(null===n||void 0===n||!n.translations)return{};var i=n.translations,e=null===P||void 0===P?void 0:P.map((function(n){var e,o,t;return t={},(0,l.Z)(t,"title[".concat(null===n||void 0===n?void 0:n.locale,"]"),null===i||void 0===i||null===(e=i.find((function(i){return(null===i||void 0===i?void 0:i.locale)===(null===n||void 0===n?void 0:n.locale)})))||void 0===e?void 0:e.title),(0,l.Z)(t,"description[".concat(null===n||void 0===n?void 0:n.locale,"]"),null===i||void 0===i||null===(o=i.find((function(i){return(null===i||void 0===i?void 0:i.locale)===(null===n||void 0===n?void 0:n.locale)})))||void 0===o?void 0:o.description),t}));return Object.assign.apply(Object,[{}].concat((0,o.Z)(e)))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.Z,{title:i("edit.food"),extra:(0,S.jsx)(c.Z,{}),children:(0,S.jsx)(r.Z,{current:N,onChange:function(n){w((0,Z.nc)({activeMenu:F,data:(0,t.Z)((0,t.Z)({},F.data),{},{step:n})})),I.set("step",n)},children:g.S.map((function(n){return(0,S.jsx)(q,{title:i(n.title)},n.title)}))})}),M?(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,S.jsx)(v.Z,{size:"large",className:"py-5"})}):(0,S.jsxs)("div",{children:["First-content"===g.S[N].content&&(0,S.jsx)(_.Z,{next:E,action_type:"edit"}),"Second-content"===g.S[N].content&&(0,S.jsx)(b.Z,{next:E,prev:L}),"Third-content"===g.S[N].content&&(0,S.jsx)(y.Z,{next:E,prev:L,userRole:"seller"}),"Fourth-content"===g.S[N].content&&(0,S.jsx)(j.Z,{next:E,prev:L}),"Finish-content"===g.S[N].content&&(0,S.jsx)(k.Z,{prev:L})]})]})}},88708:function(n,i,e){"use strict";e.d(i,{Z:function(){return C}});var l=e(4942),o=e(93433),t=e(1413),u=e(29439),d=e(2717),r=e(47313),a=e(49873),v=e(9274),c=e(77181),s=e(45705),f=e(59491),p=e(24511),Z=e(18333),x=e(23560),m=e(97890),h=e(90954),y=e(78508),g=e(12019),j=e(47515),k=e(55940),b=e(46417),_=function(n){var i=n.properties,e=n.editSelectedProperty,l=n.deleteProperty,o=n.loading,t=void 0!==o&&o,u=(0,p.$)().t,d=[{title:u("key"),dataIndex:"key",key:"key"},{title:u("value"),dataIndex:"value",key:"value"},{title:u("options"),key:"options",render:function(n,i){return(0,b.jsxs)(s.Z,{children:[(0,b.jsx)(f.Z,{type:"primary",icon:(0,b.jsx)(g.Z,{}),onClick:function(){return e(i)}}),(0,b.jsx)(k.Z,{type:"primary",danger:!0,icon:(0,b.jsx)(j.Z,{}),onClick:function(){return l(null===i||void 0===i?void 0:i.id)}})]})}}];return(0,b.jsx)(c.Z,{loading:t,children:(0,b.jsx)(y.Z,{dataSource:i,columns:d,pagination:!1})})},S=e(10976),q=e(68197),I=e(59624),w=e(66672),F=function(n){var i=n.addNewProperty,e=n.loading,l=void 0!==e&&e,o=(0,p.$)().t,t=S.Z.useForm(),r=(0,u.Z)(t,1)[0],v=(0,d.v9)((function(n){return n.formLang}),d.wU),s=v.defaultLang,Z=v.languages;return(0,b.jsx)(c.Z,{loading:l,children:(0,b.jsx)(S.Z,{form:r,layout:"vertical",onFinish:function(n){var e={key:null===n||void 0===n?void 0:n["key[".concat(s,"]")],value:null===n||void 0===n?void 0:n["value[".concat(s,"]")]},l=Z.map((function(i){return{id:(0,a.R)(),locale:null===i||void 0===i?void 0:i.locale,key:(null===n||void 0===n?void 0:n["key[".concat(null===i||void 0===i?void 0:i.locale,"]")])||(null===e||void 0===e?void 0:e.key),value:(null===n||void 0===n?void 0:n["value[".concat(i.locale,"]")])||(null===e||void 0===e?void 0:e.value)}}));i(l),r.resetFields()},children:(0,b.jsxs)(q.Z,{gutter:12,children:[(0,b.jsx)(I.Z,{span:8,children:Z.map((function(n){return(0,b.jsx)(S.Z.Item,{label:o("key"),name:"key[".concat((null===n||void 0===n?void 0:n.locale)||"en","]"),hidden:(null===n||void 0===n?void 0:n.locale)!==s,rules:[{required:(null===n||void 0===n?void 0:n.locale)===s,message:o("required")},{type:"string",min:2,max:200,message:o("min.2.max.200.chars")}],children:(0,b.jsx)(w.Z,{})},null===n||void 0===n?void 0:n.locale)}))}),(0,b.jsx)(I.Z,{span:8,children:Z.map((function(n){return(0,b.jsx)(S.Z.Item,{label:o("value"),name:"value[".concat((null===n||void 0===n?void 0:n.locale)||"en","]"),hidden:(null===n||void 0===n?void 0:n.locale)!==s,rules:[{required:(null===n||void 0===n?void 0:n.locale)===s,message:o("required")},{type:"string",min:2,max:200,message:o("min.2.max.200.chars")}],children:(0,b.jsx)(w.Z,{})},null===n||void 0===n?void 0:n.locale)}))}),(0,b.jsx)(I.Z,{children:(0,b.jsx)(S.Z.Item,{label:" ",children:(0,b.jsx)(f.Z,{type:"primary",htmlType:"submit",children:o("add")})})})]})})})},P=function(n){var i=n.property,e=n.editProperty,l=(0,p.$)().t,o=S.Z.useForm(),d=(0,u.Z)(o,1)[0];return(0,b.jsx)(c.Z,{children:(0,b.jsx)(S.Z,{form:d,layout:"vertical",onFinish:function(n){e((0,t.Z)((0,t.Z)({},i),n))},initialValues:{key:null===i||void 0===i?void 0:i.key,value:null===i||void 0===i?void 0:i.value},children:(0,b.jsxs)(q.Z,{gutter:12,children:[(0,b.jsx)(I.Z,{span:24,children:(0,b.jsx)(S.Z.Item,{label:l("key"),name:"key",rules:[{required:!0,message:l("required")},{type:"string",min:2,max:200,message:l("min.2.max.200.chars")}],children:(0,b.jsx)(w.Z,{})})}),(0,b.jsx)(I.Z,{span:24,children:(0,b.jsx)(S.Z.Item,{label:l("value"),name:"value",rules:[{required:!0,message:l("required")},{type:"string",min:2,max:200,message:l("min.2.max.200.chars")}],children:(0,b.jsx)(w.Z,{})})}),(0,b.jsx)(I.Z,{span:24,children:(0,b.jsx)(f.Z,{type:"primary",htmlType:"submit",className:"w-100",children:l("edit")})})]})})})},C=function(n){var i,e=n.prev,y=n.next,g=n.isRequest,j=void 0!==g&&g,k=(0,p.$)().t,S=(0,m.UO)().uuid,q=(0,d.I0)(),I=(0,d.v9)((function(n){return n.formLang}),d.wU).defaultLang,w=(0,d.v9)((function(n){return n.menu}),d.wU).activeMenu,C=(0,r.useState)(j&&(null===(i=w.data)||void 0===i?void 0:i.properties)||[]),O=(0,u.Z)(C,2),M=O[0],U=O[1],N=(0,r.useState)(null),E=(0,u.Z)(N,2),L=E[0],T=E[1],$=(0,r.useState)(!1),R=(0,u.Z)($,2),A=R[0],B=R[1],K=(0,r.useState)(!1),z=(0,u.Z)(K,2),H=z[0],Q=z[1];(0,r.useEffect)((function(){j||V(S)}),[]);var V=function(n){B(!0),Z.Z.getById(n).then((function(n){var i,e;U(null===n||void 0===n||null===(i=n.data)||void 0===i||null===(e=i.properties)||void 0===e?void 0:e.map((function(n){return(0,t.Z)((0,t.Z)({},n),{},{id:(0,a.R)()})})))})).finally((function(){B(!1)}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F,{loading:A,addNewProperty:function(n){U([].concat((0,o.Z)(M),(0,o.Z)(n)))}}),(0,b.jsx)(_,{loading:A,properties:null===M||void 0===M?void 0:M.filter((function(n){return(null===n||void 0===n?void 0:n.locale)===I})),editSelectedProperty:T,deleteProperty:function(n){v.Z.confirm({title:k("are.you.sure?"),okText:k("yes"),onOk:function(){U((function(i){return i.filter((function(i){return i.id!==n}))}))}})}}),(0,b.jsx)(c.Z,{children:(0,b.jsxs)(s.Z,{children:[(0,b.jsx)(f.Z,{onClick:e,disabled:A,children:k("prev")}),(0,b.jsx)(f.Z,{type:"primary",onClick:function(){var n={key:[],value:[]};if(null===M||void 0===M||M.map((function(i){n.key.push((0,l.Z)({},null===i||void 0===i?void 0:i.locale,null===i||void 0===i?void 0:i.key)),n.value.push((0,l.Z)({},null===i||void 0===i?void 0:i.locale,null===i||void 0===i?void 0:i.value))})),j)return q((0,h.nc)({activeMenu:w,data:(0,t.Z)((0,t.Z)({},w.data),{},{properties:M,props:n})})),void y();Q(!0),Z.Z.properties(S,n).then((function(){x.Am.success(k("successfully.updated")),y()})).finally((function(){Q(!1)}))},disabled:A,loading:H,children:k("next")})]})}),!!L&&(0,b.jsx)(v.Z,{visible:!!L,onCancel:function(){T(null)},footer:!1,children:(0,b.jsx)(P,{property:L,editProperty:function(n){U((function(i){return i.map((function(i){return i.id===n.id?n:i}))})),T(null)}})})]})}},24654:function(){}}]);