"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9987],{79987:function(e,n,t){t.r(n);var i=t(1413),u=t(93433),a=t(4942),c=t(29439),o=t(47313),l=t(10976),r=t(77181),d=t(72652),s=t(23560),v=t(97890),f=t(73431),p=t(2717),Z=t(90954),m=t(30763),g=t(24511),h=t(74380),y=t(75336),b=t(61615),j=t(46417);n.default=function(){var e=(0,g.$)().t,n=(0,v.s0)(),t=(0,p.I0)(),k=(0,p.v9)((function(e){return e.menu}),p.wU).activeMenu,w=(0,o.useState)(!1),x=(0,c.Z)(w,2),U=x[0],_=x[1],C=l.Z.useForm(),F=(0,c.Z)(C,1)[0],M=(0,o.useState)(null),O=(0,c.Z)(M,2),S=O[0],A=O[1],E=(0,v.UO)().uuid,I=(0,p.v9)((function(e){return e.formLang}),p.wU).languages;(0,o.useEffect)((function(){return function(){var e=F.getFieldsValue(!0);t((0,Z.nc)({activeMenu:k,data:e}))}}),[]);var N=function(e){_(!0),m.Z.getById(e).then((function(e){var n,c,o=e.data,l=(0,i.Z)((0,i.Z)((0,i.Z)({},o),function(e){if(!e)return{};var n=e.translations,t=I.map((function(e){var t,i,u;return u={},(0,a.Z)(u,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,a.Z)(u,"description[".concat(e.locale,"]"),null===(i=n.find((function(n){return n.locale===e.locale})))||void 0===i?void 0:i.description),u}));return Object.assign.apply(Object,[{}].concat((0,u.Z)(t)))}(o)),{},{image:null!==o&&void 0!==o&&null!==(n=o.img)&&void 0!==n&&n.length?[(c=null===o||void 0===o?void 0:o.img,{name:c,url:c})]:[],keywords:o.keywords.split(","),input:o.input?null===o||void 0===o?void 0:o.input:0});t((0,Z.nc)({activeMenu:k,data:l})),F.setFieldsValue(l)})).finally((function(){_(!1),t((0,Z.A_)(k))}))};return(0,o.useEffect)((function(){k.refetch&&N(E)}),[k.refetch]),(0,j.jsx)(r.Z,{title:e("recipe.category.clone"),extra:(0,j.jsx)(f.Z,{}),children:U?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,j.jsx)(d.Z,{size:"large",className:"mt-5 pt-5"})}):(0,j.jsx)(b.Z,{form:F,handleSubmit:function(u,a){var c,o,l={type:"receipt",title:(0,y.Z)(I,u),description:(0,y.Z)(I,u,"description"),keywords:null===u||void 0===u||null===(c=u.keywords)||void 0===c?void 0:c.join(","),input:null!==(o=null===u||void 0===u?void 0:u.input)&&void 0!==o?o:0,images:null===a||void 0===a?void 0:a.map((function(e){return null===e||void 0===e?void 0:e.name})),active:null!==u&&void 0!==u&&u.active?1:0,parent_id:void 0},r="catalog/recipe-categories";m.Z.create(l).then((function(){s.Am.success(e("successfully.updated")),(0,p.dC)((function(){t((0,Z.ph)((0,i.Z)((0,i.Z)({},k),{},{nextUrl:r}))),t((0,h.P2)({}))})),n("/".concat(r))})).catch((function(e){return A(e.response.data.params)}))},error:S})})}}}]);