"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7028],{48008:function(e,n,t){t(47313);var r=t(9274),l=t(87569),i=t(59491),o=t(24511),a=t(46417);n.Z=function(e){var n=e.open,t=e.handleCancel,d=e.text,s=e.click,u=e.loading,c=e.subTitle,f=(0,o.$)().t;return(0,a.jsxs)(r.Z,{closable:!1,visible:n,footer:null,centered:!0,children:[(0,a.jsx)(l.ZP,{status:"warning",title:d,subTitle:c}),(0,a.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,a.jsx)(i.Z,{type:"primary",className:"mr-2",onClick:s,loading:u,children:f("yes")}),(0,a.jsx)(i.Z,{onClick:function(){return t()},children:f("no")})]})]})}},67028:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(4942),l=t(93433),i=t(1413),o=t(29439),a=t(47313),d=t(31741),s=t(47515),u=t(55613),c=t(45705),f=t(59491),v=t(77181),h=t(78508),m=t(23560),p=t(69658),x=t(74580),Z=t(2717),j=t(90954),g=t(80314),_=t(13945),y=t(24511),b=t(94765),k=t(28835),w=(t(27266),t(70816)),C=t.n(w),I=t(97890),S=t(55940),T=t(53233),Y=t(48008),A=t(9274),M=t(83371),N=t(51282),P=t(46417);function D(e){var n,t,r,l,i,d,s,u,c,v=e.id,h=e.handleCancel,m=(0,a.useState)({}),p=(0,o.Z)(m,2),x=p[0],Z=p[1],j=(0,a.useState)(!1),g=(0,o.Z)(j,2),_=g[0],k=g[1],w=(0,y.$)().t;return(0,a.useEffect)((function(){!function(e){k(!0),b.Z.getById(e).then((function(e){return Z(e.data)})).finally((function(){return k(!1)}))}(v)}),[v]),(0,P.jsx)(A.Z,{visible:!!v,title:w("order.review"),onCancel:h,footer:(0,P.jsx)(f.Z,{type:"default",onClick:h,children:w("cancel")}),children:_?(0,P.jsx)(N.Z,{}):(0,P.jsxs)(M.Z,{bordered:!0,children:[(0,P.jsx)(M.Z.Item,{span:3,label:w("id"),children:x.id}),(0,P.jsxs)(M.Z.Item,{span:3,label:w("user"),children:[null===x||void 0===x||null===(n=x.parcel_order)||void 0===n?void 0:n.username_from," ",(0,P.jsx)("a",{href:"tel:".concat(null===x||void 0===x||null===(t=x.parcel_order)||void 0===t?void 0:t.phone_from),children:null===x||void 0===x||null===(r=x.parcel_order)||void 0===r?void 0:r.phone_from})]}),(0,P.jsxs)(M.Z.Item,{span:3,label:w("receiver"),children:[null===x||void 0===x||null===(l=x.parcel_order)||void 0===l?void 0:l.username_to," ",(0,P.jsxs)("a",{href:"tel:".concat(null===x||void 0===x||null===(i=x.parcel_order)||void 0===i?void 0:i.phone_to),children:[null===x||void 0===x||null===(d=x.parcel_order)||void 0===d?void 0:d.phone_to," "]})]}),(0,P.jsxs)(M.Z.Item,{span:3,label:w("deliveryman"),children:[null===(s=x.deliveryman)||void 0===s?void 0:s.firstname," ",(null===(u=x.deliveryman)||void 0===u?void 0:u.lastname)||""]}),(0,P.jsx)(M.Z.Item,{span:3,label:w("rating"),children:x.rating}),(0,P.jsx)(M.Z.Item,{span:3,label:w("comment"),children:x.comment}),(0,P.jsx)(M.Z.Item,{span:3,label:w("parcel.order.id"),children:null===x||void 0===x||null===(c=x.parcel_order)||void 0===c?void 0:c.id}),(0,P.jsx)(M.Z.Item,{span:3,label:w("created.at"),children:C()(null===x||void 0===x?void 0:x.created_at).format("YYYY-MM-DD HH:mm")})]})})}function H(){var e=(0,y.$)().t,n=(0,Z.I0)(),t=(0,I.s0)(),w=function(r){n((0,j.bL)({url:"/users/user/".concat(r.uuid),id:"user_info",name:e("user.info")})),t("/users/user/".concat(r.uuid),{state:{user_id:r.id}})},A=(0,a.useState)([{title:e("order.id"),dataIndex:"parcel_order",key:"parcel_order",render:function(r){return(0,P.jsxs)("div",{className:"text-hover",onClick:function(){return function(r){n((0,j.bL)({id:"order_details",url:"order/details/".concat(r),name:e("order.details")})),t("/order/details/".concat(r))}(r.id)},children:["#",r.id]})},sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:function(e){return(0,P.jsxs)("div",{className:"text-hover",onClick:function(){return w(e)},children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:function(e){return(0,P.jsxs)("div",{className:"text-hover",onClick:function(){return w(e)},children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:function(e){return(0,P.jsx)(u.Z,{disabled:!0,defaultValue:e})}},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return C()(e).format("YYYY-MM-DD HH:mm")}},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,P.jsxs)(c.Z,{children:[(0,P.jsx)(f.Z,{type:"primary",icon:(0,P.jsx)(d.Z,{}),onClick:function(){return K(n.id)}}),(0,P.jsx)(S.Z,{icon:(0,P.jsx)(s.Z,{}),onClick:function(){O([n.id]),z(!0),X(!0)}})]})}}]),M=(0,o.Z)(A,2),N=M[0],H=M[1],z=(0,a.useContext)(x._).setIsModalVisible,$=(0,a.useState)(null),E=(0,o.Z)($,2),L=E[0],O=E[1],U=(0,a.useState)(null),V=(0,o.Z)(U,2),B=V[0],K=V[1],R=(0,a.useState)(!1),q=(0,o.Z)(R,2),F=q[0],G=q[1],J=(0,a.useState)(null),Q=(0,o.Z)(J,2),W=Q[0],X=Q[1],ee=(0,a.useState)(null),ne=(0,o.Z)(ee,2),te=ne[0],re=ne[1],le=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,ie=(0,Z.v9)((function(e){return e.parcelReview}),Z.wU),oe=ie.reviews,ae=ie.meta,de=ie.loading,se=ie.params;console.log("reviews => ",oe);(0,a.useEffect)((function(){le.refetch&&(n((0,k.T)()),n((0,j.A_)(le)))}),[le.refetch]),(0,g.Z)((function(){var e=le.data,t={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};n((0,k.T)(t))}),[le.data]);var ue={id:L,onChange:function(e){O(e)}};return(0,P.jsxs)(v.Z,{title:e("parcel.reviews"),extra:(0,P.jsxs)(c.Z,{wrap:!0,children:[(0,P.jsx)(S.Z,{size:"",onClick:function(){null===L||0===L.length?m.Am.warning(e("select.the.product")):(z(!0),X(!1))},children:e("delete.selected")}),(0,P.jsx)(T.Z,{columns:N,setColumns:H})]}),children:[(0,P.jsx)(h.Z,{scroll:{x:!0},rowSelection:ue,columns:null===N||void 0===N?void 0:N.filter((function(e){return e.is_show})),dataSource:oe,pagination:{pageSize:se.perPage,page:se.page,total:ae.total,defaultCurrent:se.page},rowKey:function(e){return e.id},onChange:function(e,t,r){var l=e.pageSize,i=e.current,o=r.field,a=r.order,d=(0,_.Z)(a);n((0,j.nc)({activeMenu:le,data:{perPage:l,page:i,column:o,sort:d}}))},loading:de}),(0,P.jsx)(p.Z,{click:function(){G(!0);var t=(0,i.Z)({},Object.assign.apply(Object,[{}].concat((0,l.Z)(L.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));b.Z.delete(t).then((function(){m.Am.success(e("successfully.deleted")),n((0,k.T)()),z(!1)})).finally((function(){return G(!1)}))},text:e(W?"delete":"all.delete"),setText:O,loading:F}),B&&(0,P.jsx)(D,{id:B,handleCancel:function(){return K(null)}}),te&&(0,P.jsx)(Y.Z,{open:te,handleCancel:function(){return re(null)},click:te.restore?function(){G(!0),b.Z.restoreAll().then((function(){m.Am.success(e("successfully.restored")),n((0,k.T)()),re(null)})).finally((function(){return G(!1)}))}:function(){G(!0),b.Z.dropAll().then((function(){m.Am.success(e("successfully.deleted")),n((0,k.T)()),re(null)})).finally((function(){return G(!1)}))},text:te.restore?e("restore.modal.text"):e("read.carefully"),subTitle:te.restore?"":e("confirm.deletion"),loading:F,setText:O})]})}}}]);