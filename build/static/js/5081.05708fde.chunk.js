"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5081],{52008:function(e,n,t){t(47313);n.Z=t.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},89281:function(e,n,t){t.d(n,{h:function(){return f}});var i=t(1413),o=t(29439),l=t(45987),r=t(47313),a=t(12279),s=t.n(a),d=t(74294),u=t(72652),c=t(46417),v=["fetchOptions","debounceTimeout","onClear"],f=function(e){var n=e.fetchOptions,t=e.debounceTimeout,a=void 0===t?400:t,f=e.onClear,p=(0,l.Z)(e,v),h=(0,r.useState)(!1),m=(0,o.Z)(h,2),y=m[0],x=m[1],Z=(0,r.useState)([]),_=(0,o.Z)(Z,2),j=_[0],b=_[1],g=(0,r.useMemo)((function(){return s()((function(e){b([]),x(!0),n(e).then((function(e){b(e),x(!1)}))}),a)}),[n,a]);return(0,c.jsx)(d.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:g,onClear:function(){g(""),f&&f()},notFoundContent:y?(0,c.jsx)(u.Z,{size:"small"}):"no results"},p),{},{options:j,onFocus:function(){g("")}}))}},13945:function(e,n,t){function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return i}})},84017:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(67968);function o(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,r=null===(e=i.h.getState())||void 0===e||null===(n=e.currency)||void 0===n?void 0:n.defaultCurrency,a=Number(t).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),s=o||(null===r||void 0===r?void 0:r.symbol)||"$",d=l||(null===r||void 0===r?void 0:r.position)||"before";return"after"===d?"".concat(a," ").concat(s):"".concat(s," ").concat(a)}},14637:function(e,n,t){t.d(n,{Z:function(){return l}});t(47313);var i=t(77181),o=t(46417);function l(e){var n=e.title,t=void 0===n?"Orders":n,l=e.value,r=void 0===l?0:l,a=e.color,s=void 0===a?"grey":a,d=e.onClick;return(0,o.jsx)(i.Z,{className:"statistics-card",hoverable:!!d,onClick:d,children:(0,o.jsxs)("div",{className:"card-wrapper",children:[(0,o.jsx)("div",{className:"space"}),(0,o.jsx)("div",{className:"content",children:(0,o.jsx)("h1",{className:"number",children:r})}),(0,o.jsx)("span",{className:"highlighter ".concat(s)}),t&&(0,o.jsx)("h4",{className:"title",children:t})]})})}},85081:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var i=t(4942),o=t(15861),l=t(1413),r=t(93433),a=t(29439),s=t(87757),d=t.n(s),u=t(47313),c=t(99096),v=t(77181),f=t(45705),p=t(59491),h=t(68197),m=t(59624),y=t(78508),x=t(97890),Z=t(2717),_=t(90954),j=t(24511),b=t(80314),g=t(13945),w=t(84017),k=t(89281),C=t(49986),Y=t(23560),S=t(70816),M=t.n(S),N=t(53149),D=t(10924),I=t(71122),z=t(9274),A=t(72652),P=t(52008),O=t(26672),E=t(92709),F=t(57864),U=t(20637),$=t(58821),K=t(46417);function T(e){var n=e.open,t=e.onCancel,i=e.onConfirm,l=e.isPaying,r=(0,j.$)().t,s=(0,u.useState)({}),c=(0,a.Z)(s,2),f=c[0],y=c[1],x=(0,u.useState)(null),Z=(0,a.Z)(x,2),_=Z[0],b=Z[1],g=(0,u.useState)(!1),w=(0,a.Z)(g,2),k=w[0],C=w[1];function S(){return(S=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.abrupt("return",U.Z.getAll().then((function(e){var n=e.data;return b(n.map((function(e){return{label:e.tag||"no name",value:e.id,key:e.id}})))})).finally((function(){C(!1)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,u.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]);var M=function(e){switch(e){case"wallet":return(0,K.jsx)(F.dk2,{size:80});case"paypal":return(0,K.jsx)(O.kD0,{size:80});case"stripe":return(0,K.jsx)(E.K6C,{size:80});case"razorpay":return(0,K.jsx)(E.r98,{size:80});case"paystack":return(0,K.jsx)("img",{src:P.Z,alt:"img",width:"80",height:"80"});default:return(0,K.jsx)($.HsN,{size:80})}};return(0,K.jsx)(z.Z,{visible:n,title:r("pay.to.partner"),onCancel:t,footer:[(0,K.jsx)(p.Z,{type:"primary",disabled:k||!f.value,loading:l,onClick:function(){f.value?i(f.value):Y.Am.warning(r("please.select.payment.type"))},children:r("confirm")},"save-btn"),(0,K.jsx)(p.Z,{type:"default",onClick:t,children:r("cancel")},"cancel-btn")],children:(0,K.jsx)(A.Z,{spinning:k,children:(0,K.jsx)(h.Z,{gutter:12,children:null===_||void 0===_?void 0:_.map((function(e,n){return"cash"===e.label||"wallet"===e.label?(0,K.jsx)(m.Z,{span:12,children:(0,K.jsxs)(v.Z,{style:{display:"flex",justifyContent:"center"},className:"payment-card ".concat((null===f||void 0===f?void 0:f.label)===e.label?"active":""),onClick:function(){y(e)},children:[(0,K.jsx)("div",{className:"payment-icon",children:M(null===e||void 0===e?void 0:e.label)}),(0,K.jsx)("div",{className:"font-weight-bold mt-2 text-center",children:r(null===e||void 0===e?void 0:e.label)})]})},n):null}))})})})}var R=t(14637),H=c.Z.RangePicker;function L(){var e,n,t,s,c,S,z,A=(0,x.UO)().type,P=(0,Z.I0)(),O=(0,x.s0)(),E=(0,j.$)().t,F=(0,Z.v9)((function(e){return e.currency}),Z.wU).defaultCurrency,U=(0,u.useState)(!1),$=(0,a.Z)(U,2),L=$[0],V=$[1],q=[{title:E("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0,render:function(e){return(0,K.jsxs)("span",{className:"text-hover",onClick:function(){return function(e){P((0,_.bL)({url:"order/details/".concat(e),id:"order_details",name:E("order.details")})),O("/order/details/".concat(e))}(e)},children:["#",e]})}},{title:E(A),is_show:!0,dataIndex:"user",key:"user",render:function(e,n){var t,i="seller"===A?null===n||void 0===n||null===(t=n.shop)||void 0===t?void 0:t.seller:n.deliveryman;return(0,K.jsxs)("div",{children:[null===i||void 0===i?void 0:i.firstname," ",(null===i||void 0===i?void 0:i.lastname)||""]})}},{title:E("order.total_price"),is_show:!0,dataIndex:"total_price",key:"total_price",render:function(e,n){var t,i,o=null===(t=n.transaction)||void 0===t?void 0:t.status;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("span",{children:(0,w.Z)(e,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)}),(0,K.jsx)("br",{}),(0,K.jsx)("span",{className:"progress"===o?"text-primary":"paid"===o?"text-success":"rejected"===o?"text-danger":"text-info",children:null===(i=n.transaction)||void 0===i?void 0:i.status})]})}}].concat((0,r.Z)("seller"===A?[{title:E("coupon.price"),is_show:!0,dataIndex:"coupon_sum_price",key:"coupon_sum_price",render:function(e){return(0,w.Z)(e,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)}}]:[]),(0,r.Z)("seller"===A?[{title:E("total.cashback"),is_show:!0,dataIndex:"point_history_sum_price",key:"point_history_sum_price",render:function(e){return(0,w.Z)(e,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)}}]:[]),[{title:E("delivery.fee"),is_show:!0,dataIndex:"delivery_fee",key:"delivery_fee",render:function(e){return(0,w.Z)(e,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)}}],(0,r.Z)("seller"===A?[{title:E("service.fee"),is_show:!0,dataIndex:"service_fee",key:"service_fee",render:function(e,n){return(0,w.Z)((n.service_fee||0)+(n.commission_fee||0),null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)}}]:[]),(0,r.Z)("seller"===A?[{title:E("seller.fee"),is_show:!0,dataIndex:"seller_fee",key:"seller_fee",render:function(e){return(0,w.Z)(e,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)}}]:[]),[{title:E("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e){var n;return E(null===e||void 0===e||null===(n=e.payment_system)||void 0===n?void 0:n.tag)||"-"}}]),B=(0,Z.v9)((function(e){return e.menu}),Z.wU).activeMenu,G=(0,u.useState)(null),J=(0,a.Z)(G,2),Q=J[0],W=J[1],X=(0,u.useState)(!1),ee=(0,a.Z)(X,2),ne=ee[0],te=ee[1],ie=(0,u.useState)(M()().subtract(1,"month"),M()()),oe=(0,a.Z)(ie,2),le=oe[0],re=oe[1],ae=(0,Z.v9)((function(e){return e.paymentToPartners}),Z.wU),se=ae.list,de=ae.loading,ue=ae.params,ce=ae.meta,ve=B.data,fe={search:null===ve||void 0===ve?void 0:ve.search,sort:null===ve||void 0===ve?void 0:ve.sort,column:null===ve||void 0===ve?void 0:ve.column,perPage:null===ve||void 0===ve?void 0:ve.perPage,page:null===ve||void 0===ve?void 0:ve.page,user_id:null===ve||void 0===ve?void 0:ve.user_id,shop_id:null!==(null===(e=B.data)||void 0===e?void 0:e.shop_id)?null===(n=B.data)||void 0===n?void 0:n.shop_id:null,date_from:Array.isArray(le)?null===(t=le[0])||void 0===t?void 0:t.format("YYYY-MM-DD"):M()().subtract(1,"month").format("YYYY-MM-DD"),date_to:Array.isArray(le)?null===(s=le[1])||void 0===s?void 0:s.format("YYYY-MM-DD"):M()().format("YYYY-MM-DD"),type:A};function pe(){return pe=(0,o.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,perPage:10,role:A},e.abrupt("return",C.Z.search(t).then((function(e){return e.data.map((function(e){return{label:"".concat(e.firstname," ").concat(e.lastname),value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}(0,b.Z)((function(){P((0,D.EZ)(fe))}),[ve,le,A]);var he=function(e,n){P((0,_.nc)({activeMenu:B,data:(0,l.Z)((0,l.Z)({},ve),(0,i.Z)({},n,e))}))};function me(){return me=(0,o.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:"approved"},e.abrupt("return",N.Z.getAll(t).then((function(e){return e.data.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}(0,u.useEffect)((function(){null!==B&&void 0!==B&&B.refetch&&(P((0,D.EZ)(fe)),P((0,_.A_)(B)))}),[null===B||void 0===B?void 0:B.refetch]);var ye={selectedRowKeys:Q,onChange:function(e){W(e)}};return(0,u.useEffect)((function(){return function(){P((0,_.nc)({activeMenu:B,data:{}}))}}),[]),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(v.Z,{children:(0,K.jsxs)("div",{className:"flex justify-content-space-between",children:[(0,K.jsxs)(f.Z,{wrap:!0,className:"order-filter",style:{flex:1,width:"100%"},children:[(0,K.jsx)(k.h,{placeholder:E("select.shop"),fetchOptions:function(e){return me.apply(this,arguments)},style:{width:"100%"},onSelect:function(e){return he(e.value,"shop_id")},onDeselect:function(){return he(null,"shop_id")},allowClear:!0,value:null===ve||void 0===ve?void 0:ve.shop_id}),(0,K.jsx)(k.h,{placeholder:E("select.user"),fetchOptions:function(e){return pe.apply(this,arguments)},onSelect:function(e){return he(e.value,"user_id")},onDeselect:function(){return he(null,"user_id")},style:{width:"100%"},value:null===ve||void 0===ve?void 0:ve.user_id}),(0,K.jsx)(H,{value:le,onChange:function(e){he((function(n){var t,i;return(0,l.Z)((0,l.Z)({},n),{date_from:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(i=e[1])||void 0===i?void 0:i.format("YYYY-MM-DD")})})),re(e)},disabledDate:function(e){return e&&e>M()().endOf("day")},style:{width:"100%"}})]}),(0,K.jsx)(p.Z,{type:"primary",disabled:!Q||0===Q.length,onClick:function(){return V(!0)},children:E("pay")})]})}),(0,K.jsx)(v.Z,{children:(0,K.jsxs)(h.Z,{gutter:16,className:"mt-3",children:[(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("commission.fee"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_commission_fee,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"purple"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("coupon"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_coupon,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"red"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("delivery.fee"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_delivery_fee,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"green"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("point.history"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_point_history,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"purple"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("price"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_price,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"red"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("seller.fee"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_seller_fee,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"purple"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("service.fee"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_service_fee,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"red"})}),(0,K.jsx)(m.Z,{flex:"0 0 25%",children:(0,K.jsx)(R.Z,{title:E("tax"),value:(0,w.Z)(null===se||void 0===se?void 0:se.total_tax,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position),color:"green"})})]})}),(0,K.jsx)(v.Z,{children:(0,K.jsx)(y.Z,{scroll:{x:!0},rowSelection:ye,columns:null===q||void 0===q?void 0:q.filter((function(e){return e.is_show})),dataSource:null===se||void 0===se?void 0:se.data,loading:de,pagination:{pageSize:ue.perPage,page:(null===(c=B.data)||void 0===c?void 0:c.page)||1,total:null===ce||void 0===ce?void 0:ce.total,defaultCurrent:null===(S=B.data)||void 0===S?void 0:S.page,current:null===(z=B.data)||void 0===z?void 0:z.page},rowKey:function(e){return e.id},onChange:function(e,n,t){var i=e.pageSize,o=e.current,r=t.field,a=t.order,s=(0,g.Z)(a);P((0,_.nc)({activeMenu:B,data:(0,l.Z)((0,l.Z)({},ve),{},{perPage:i,page:o,column:r,sort:s})}))}})}),L&&(0,K.jsx)(T,{open:L,onCancel:function(){V(!1),W(null)},onConfirm:function(e){return function(e){te(!0);var n={data:Q,type:A,payment_id:e};I.Z.pay(n).then((function(){Y.Am.success(E("successfully.payed")),P((0,D.EZ)(fe))})).finally((function(){W(null),te(!1),V(!1)}))}(e)},isPaying:ne})]})}}}]);