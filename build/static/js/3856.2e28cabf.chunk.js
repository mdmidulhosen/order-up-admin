(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3856],{33834:function(n,i,t){"use strict";t.d(i,{K:function(){return v}});var l=t(4942),o=t(1413),e=t(97890),d=t(74776),u=t.n(d),v=function(){var n=(0,e.s0)(),i=(0,e.TH)(),t=u().parse(i.search,{ignoreQueryPrefix:!0});return{values:t,set:function(i,e){return n({search:u().stringify((0,o.Z)((0,o.Z)({},t),{},(0,l.Z)({},i,e)))})},reset:function(i){var l=(0,o.Z)({},t);l[i]&&delete l[i],n({search:u().stringify((0,o.Z)({},l))})},clear:function(){return n({search:u().stringify({})})},merge:function(i){return n({search:u().stringify((0,o.Z)((0,o.Z)({},t),i))})},get:function(n){return t[n]},setMultiple:function(i){var l=(0,o.Z)((0,o.Z)({},t),i);n({search:u().stringify(l)})},resetMultiple:function(i){var l=(0,o.Z)({},t);i.forEach((function(n){l[n]&&delete l[n]})),n({search:u().stringify(l)})}}}},52509:function(n,i,t){"use strict";t.r(i);var l=t(4942),o=t(93433),e=t(1413),d=t(29439),u=t(47313),v=t(83999),a=t(77181),r=t(72652),c=t(73431),s=t(97890),f=t(17101),p=t(2717),h=t(90954),Z=t(24511),g=t(33834),x=t(80314),j=t(8163),_=t(96077),b=t(17231),y=t(78873),m=t(47668),k=t(97307),S=t(46417),O=v.Z.Step;i.default=function(){var n,i=(0,Z.$)().t,t=(0,s.UO)().uuid,M=(0,g.K)(),w=(0,p.I0)(),E=(0,p.v9)((function(n){return n.menu}),p.wU).activeMenu,F=(0,p.v9)((function(n){return n.formLang}),p.wU).languages,C=(0,u.useState)(E.refetch),N=(0,d.Z)(C,2),U=N[0],q=N[1],I=Number((null===(n=M.values)||void 0===n?void 0:n.step)||0);(0,u.useEffect)((function(){A(t)}),[]),(0,x.Z)((function(){E.refetch&&A(t)}),[E.refetch]);var K=function(){var n=I+1;M.set("step",n)},T=function(){var n=I-1;M.set("step",n)},z=function(n){var i;return n?{label:null!==n&&void 0!==n&&n.translation?null===n||void 0===n||null===(i=n.translation)||void 0===i?void 0:i.title:null===n||void 0===n?void 0:n.title,value:null===n||void 0===n?void 0:n.id}:null},A=function(n){q(!0),f.Z.getById(n).then((function(n){var i,t,d,u,v,a,r,c,s,f,p,Z={};null===n||void 0===n||null===(i=n.data)||void 0===i||null===(t=i.stocks)||void 0===t||t.forEach((function(n){var i;null===n||void 0===n||null===(i=n.extras)||void 0===i||i.forEach((function(i){var t,l,o,e,d;(null===i||void 0===i?void 0:i.extra_group_id)in Z?null!==Z&&void 0!==Z&&null!==(t=Z[null===i||void 0===i?void 0:i.extra_group_id])&&void 0!==t&&null!==(l=t.values)&&void 0!==l&&l.some((function(n){return(null===n||void 0===n?void 0:n.value)===(null===i||void 0===i?void 0:i.id)}))||null===Z||void 0===Z||null===(o=Z[null===i||void 0===i?void 0:i.extra_group_id])||void 0===o||null===(e=o.values)||void 0===e||e.push({value:null===i||void 0===i?void 0:i.id,label:null===i||void 0===i?void 0:i.value,stock_id:null===n||void 0===n?void 0:n.id}):Z[null===i||void 0===i?void 0:i.extra_group_id]={label:null===i||void 0===i||null===(d=i.group.translation)||void 0===d?void 0:d.title,value:null===i||void 0===i?void 0:i.extra_group_id,id:null===i||void 0===i?void 0:i.extra_group_id,stock_id:null===n||void 0===n?void 0:n.id,values:[{value:null===i||void 0===i?void 0:i.id,label:null===i||void 0===i?void 0:i.value,stock_id:null===n||void 0===n?void 0:n.id}]}}))}));var g,x=(0,e.Z)((0,e.Z)((0,e.Z)({},n.data),B(null===n||void 0===n?void 0:n.data)),{},{shop:z(null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.shop),category:z(null===n||void 0===n||null===(u=n.data)||void 0===u?void 0:u.category),brand:z(null===n||void 0===n||null===(v=n.data)||void 0===v?void 0:v.brand),kitchen:z(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.kitchen),unit:z(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.unit),images:(g=null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.galleries,g.map((function(n){return{uid:null===n||void 0===n?void 0:n.id,name:null===n||void 0===n?void 0:n.path,url:null===n||void 0===n?void 0:n.path}}))),extras:Object.values(Z),stocks:null===n||void 0===n||null===(s=n.data)||void 0===s||null===(f=s.stocks)||void 0===f?void 0:f.map((function(n){var i;return(0,e.Z)((0,e.Z)((0,e.Z)({},n),Object.assign.apply(Object,[{}].concat((0,o.Z)(null===n||void 0===n||null===(i=n.extras)||void 0===i?void 0:i.map((function(n,i){return(0,l.Z)({},"extras[".concat(i,"]"),n.id)})))))),{},{quantity:(null===n||void 0===n?void 0:n.quantity)||0,price:(null===n||void 0===n?void 0:n.price)||0,extras:void 0})})),properties:null===n||void 0===n||null===(p=n.data)||void 0===p?void 0:p.properties,translation:void 0,translations:void 0});w((0,h.nc)({activeMenu:E,data:x}))})).finally((function(){q(!1),w((0,h.A_)(E))}))},B=function(n){if(null===n||void 0===n||!n.translations)return{};var i=n.translations,t=null===F||void 0===F?void 0:F.map((function(n){var t,o,e;return e={},(0,l.Z)(e,"title[".concat(null===n||void 0===n?void 0:n.locale,"]"),null===i||void 0===i||null===(t=i.find((function(i){return(null===i||void 0===i?void 0:i.locale)===(null===n||void 0===n?void 0:n.locale)})))||void 0===t?void 0:t.title),(0,l.Z)(e,"description[".concat(null===n||void 0===n?void 0:n.locale,"]"),null===i||void 0===i||null===(o=i.find((function(i){return(null===i||void 0===i?void 0:i.locale)===(null===n||void 0===n?void 0:n.locale)})))||void 0===o?void 0:o.description),e}));return Object.assign.apply(Object,[{}].concat((0,o.Z)(t)))};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.Z,{title:i("edit.product"),extra:(0,S.jsx)(c.Z,{}),children:(0,S.jsx)(v.Z,{current:I,onChange:function(n){w((0,h.nc)({activeMenu:E,data:(0,e.Z)((0,e.Z)({},E.data),{},{step:n})})),M.set("step",n)},children:_.S.map((function(n){return(0,S.jsx)(O,{title:i(n.title)},n.title)}))})}),U?(0,S.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,S.jsx)(r.Z,{size:"large",className:"py-5"})}):(0,S.jsxs)("div",{children:["First-content"===_.S[I].content&&(0,S.jsx)(k.Z,{next:K,action_type:"edit"}),"Second-content"===_.S[I].content&&(0,S.jsx)(m.Z,{next:K,prev:T}),"Third-content"===_.S[I].content&&(0,S.jsx)(j.Z,{next:K,prev:T}),"Fourth-content"===_.S[I].content&&(0,S.jsx)(b.Z,{next:K,prev:T}),"Finish-content"===_.S[I].content&&(0,S.jsx)(y.Z,{prev:T})]})]})}},24654:function(){}}]);