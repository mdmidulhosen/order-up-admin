"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5636],{75636:function(n,t,e){e.r(t);var i=e(1413),u=e(93433),a=e(4942),o=e(29439),c=e(47313),l=e(10976),r=e(77181),d=e(72652),s=e(23560),v=e(97890),f=e(73431),p=e(2717),Z=e(90954),m=e(30763),g=e(97421),h=e(24511),y=e(74380),b=e(75336),j=e(61615),k=e(46417);t.default=function(){var n=(0,h.$)().t,t=(0,v.s0)(),e=(0,p.I0)(),w=(0,p.v9)((function(n){return n.menu}),p.wU).activeMenu,x=(0,c.useState)(!1),U=(0,o.Z)(x,2),_=U[0],C=U[1],F=l.Z.useForm(),M=(0,o.Z)(F,1)[0],O=(0,c.useState)(null),S=(0,o.Z)(O,2),V=S[0],A=S[1],E=(0,v.UO)().uuid,I=(0,p.v9)((function(n){return n.formLang}),p.wU).languages;(0,c.useEffect)((function(){return function(){var n=M.getFieldsValue(!0);e((0,Z.nc)({activeMenu:w,data:n}))}}),[]);var N=function(n){C(!0),m.Z.getById(n).then((function(n){var t,o,c=n.data,l=(0,i.Z)((0,i.Z)((0,i.Z)({},c),function(n){if(!n)return{};var t=n.translations,e=I.map((function(n){var e,i,u;return u={},(0,a.Z)(u,"title[".concat(n.locale,"]"),null===(e=t.find((function(t){return t.locale===n.locale})))||void 0===e?void 0:e.title),(0,a.Z)(u,"description[".concat(n.locale,"]"),null===(i=t.find((function(t){return t.locale===n.locale})))||void 0===i?void 0:i.description),u}));return Object.assign.apply(Object,[{}].concat((0,u.Z)(e)))}(c)),{},{image:null!==c&&void 0!==c&&null!==(t=c.img)&&void 0!==t&&t.length?[(o=null===c||void 0===c?void 0:c.img,{name:o,url:g.bV+o})]:[],keywords:c.keywords.split(","),input:c.input?null===c||void 0===c?void 0:c.input:0});e((0,Z.nc)({activeMenu:w,data:l})),M.setFieldsValue(l)})).finally((function(){C(!1),e((0,Z.A_)(w))}))};return(0,c.useEffect)((function(){w.refetch&&N(E)}),[w.refetch]),(0,k.jsx)(r.Z,{title:n("edit.category"),extra:(0,k.jsx)(f.Z,{}),children:_?(0,k.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,k.jsx)(d.Z,{size:"large",className:"mt-5 pt-5"})}):(0,k.jsx)(j.Z,{form:M,handleSubmit:function(u,a){var o,c,l={type:"receipt",title:(0,b.Z)(I,u),description:(0,b.Z)(I,u,"description"),keywords:null===u||void 0===u||null===(o=u.keywords)||void 0===o?void 0:o.join(","),input:null!==(c=null===u||void 0===u?void 0:u.input)&&void 0!==c?c:0,images:null===a||void 0===a?void 0:a.map((function(n){return null===n||void 0===n?void 0:n.name})),active:null!==u&&void 0!==u&&u.active?1:0,parent_id:void 0},r="catalog/recipe-categories";return m.Z.update(E,l).then((function(){s.Am.success(n("successfully.updated")),(0,p.dC)((function(){e((0,Z.ph)((0,i.Z)((0,i.Z)({},w),{},{nextUrl:r}))),e((0,y.P2)({}))})),t("/".concat(r))})).catch((function(n){return A(n.response.data.params)}))},error:V})})}}}]);