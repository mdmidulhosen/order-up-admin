"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3055],{92855:function(i,e,l){var n=l(26824),s=l(46417);e.Z=function(i){var e=i.image,l=i.row,d=i.size,o=void 0===d?100:d;return(0,s.jsx)(n.Z,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:o,height:o,className:"rounded border",preview:!0,placeholder:!e,style:{objectFit:"contain"}},e+(null===l||void 0===l?void 0:l.id))}},4014:function(i,e,l){function n(i){var e,l,n=null===i||void 0===i?void 0:i.slice(0,1),s=null===i||void 0===i?void 0:i.lastIndexOf("@"),d=null===i||void 0===i?void 0:i.slice(1,s-1);d=null===(e=d)||void 0===e?void 0:e.replace(/./g,"*");var o=null===i||void 0===i?void 0:i.slice(s-1,i.length);return null===n||void 0===n||null===(l=n.concat(d))||void 0===l?void 0:l.concat(o)}l.d(e,{Z:function(){return n}})},43055:function(i,e,l){l.r(e),l.d(e,{default:function(){return P}});var n=l(29439),s=l(47313),d=l(45705),o=l(66204),t=l(77181),r=l(59491),a=l(68197),u=l(59624),c=l(56140),v=l(14133),x=l(83999),j=l(72652),m=l(78508),h=l(26824),p=l(45334),Z=l(41068),f=l(9274),y=l(12019),b=l(89720),N=l(29466),g=l(97890),_=l(7370),k=l(2717),w=l(90954),C=l(7920),I=l(24077),Y=l(24511),D=l(84017),q=l(73270),z=l(22539),M=l(80355),H=l(32916),S=l(97421),T=l(58821),A=l(5958),B=l(70816),F=l.n(B),U=l(3394),V=l(40197),O=l(79492),G=l(4014),$=l(92855),L=l(10976),J=l(74294),Q=l(46155),R=l(98501),E=l(46417),K=function(i){var e=i.orderDetailId,l=i.status,o=i.handleCancel,t=(0,Y.$)().t,c=L.Z.useForm(),v=(0,n.Z)(c,1)[0],x=(0,k.I0)(),j=(0,k.v9)((function(i){return i.menu}),k.wU).activeMenu,m=(0,s.useState)(!1),h=(0,n.Z)(m,2),p=h[0],Z=h[1],f=R.OT.map((function(i){return{label:t(i),value:i,key:i}}));return(0,E.jsxs)(L.Z,{layout:"vertical",form:v,initialValues:{status:f.find((function(i){return(null===i||void 0===i?void 0:i.value)===l}))},onFinish:function(i){var l,n={status:null===i||void 0===i||null===(l=i.status)||void 0===l?void 0:l.value};Z(!0),_.Z.updateOrderDetailStatus(e,n).then((function(){o(),x((0,w.xo)(j))})).finally((function(){Z(!1)}))},children:[(0,E.jsx)(a.Z,{gutter:12,children:(0,E.jsx)(u.Z,{span:24,children:(0,E.jsx)(L.Z.Item,{name:"status",label:t("status"),rules:[{required:!0,message:t("required")}],children:(0,E.jsx)(J.Z,{labelInValue:!0,options:f})})})}),(0,E.jsx)(Q.Z,{}),(0,E.jsxs)(d.Z,{children:[(0,E.jsx)(r.Z,{onClick:o,children:t("cancel")}),(0,E.jsx)(r.Z,{type:"primary",htmlType:"submit",loading:p,children:t("save")})]})]})},X=l(22103);function P(){var i,e,l,B,L,J,Q,R,P,W,ii,ei,li,ni,si,di,oi,ti,ri,ai,ui,ci,vi,xi,ji,mi,hi,pi,Zi,fi,yi,bi,Ni,gi,_i,ki,wi,Ci,Ii,Yi,Di=(0,k.v9)((function(i){return i.menu}),k.wU).activeMenu,qi=(0,k.v9)((function(i){return i.currency}),k.wU).defaultCurrency,zi=Di.data,Mi=(0,Y.$)().t,Hi=(0,g.UO)().id,Si=(0,k.I0)(),Ti=(0,g.s0)(),Ai=(0,s.useRef)(),Bi=(0,s.useRef)(),Fi=(0,O.Z)().isDemo,Ui=(0,s.useState)(null),Vi=(0,n.Z)(Ui,2),Oi=Vi[0],Gi=Vi[1],$i=(0,s.useState)(!1),Li=(0,n.Z)($i,2),Ji=Li[0],Qi=Li[1],Ri=(0,s.useState)(null),Ei=(0,n.Z)(Ri,2),Ki=Ei[0],Xi=Ei[1],Pi=(0,s.useState)(null),Wi=(0,n.Z)(Pi,2),ie=Wi[0],ee=Wi[1],le=(0,s.useState)(null),ne=(0,n.Z)(le,2),se=ne[0],de=ne[1],oe=(0,s.useState)(null),te=(0,n.Z)(oe,2),re=te[0],ae=te[1],ue=(0,k.v9)((function(i){return i.orderStatus}),k.wU).statusList,ce=[{title:Mi("id"),dataIndex:"id",key:"id",render:function(i,e){var l;return null===(l=e.stock)||void 0===l?void 0:l.id}},{title:Mi("product.name"),dataIndex:"product",key:"product",render:function(i,e){var l,n,s,t,r,a;return(0,E.jsxs)(d.Z,{direction:"vertical",className:"relative",children:[null===e||void 0===e||null===(l=e.stock)||void 0===l||null===(n=l.product)||void 0===n||null===(s=n.translation)||void 0===s?void 0:s.title,null===e||void 0===e||null===(t=e.stock)||void 0===t||null===(r=t.extras)||void 0===r?void 0:r.map((function(i){return(0,E.jsx)(o.Z,{children:null===i||void 0===i?void 0:i.value},null===i||void 0===i?void 0:i.id)})),null===(a=e.addons)||void 0===a?void 0:a.map((function(i){var e,l,n;return(0,E.jsxs)(o.Z,{children:[null===(e=i.stock)||void 0===e||null===(l=e.product)||void 0===l||null===(n=l.translation)||void 0===n?void 0:n.title," x ",i.quantity]},i.id)}))]})}},{title:Mi("image"),dataIndex:"stock",key:"stock",render:function(i,e){var l;return(0,E.jsx)($.Z,{image:null===i||void 0===i||null===(l=i.product)||void 0===l?void 0:l.img,row:e})}},{title:Mi("kitchen"),dataIndex:"kitchen",key:"kitchen",render:function(i){var e;return(null===i||void 0===i||null===(e=i.translation)||void 0===e?void 0:e.title)||Mi("N/A")}},{title:Mi("status"),dataIndex:"status",key:"status",is_show:!0,render:function(i,e){return(0,E.jsxs)(d.Z,{children:["new"===i?(0,E.jsx)(o.Z,{color:"blue",children:Mi(i)}):"ended"===i?(0,E.jsx)(o.Z,{color:"red",children:Mi(i)}):"cooking"===i?(0,E.jsx)(o.Z,{color:"yellow",children:Mi(i)}):(0,E.jsx)(o.Z,{color:"green",children:Mi(i)}),(0,E.jsx)(y.Z,{onClick:function(){return de(e)}})]})}},{title:Mi("price"),dataIndex:"origin_price",key:"origin_price",render:function(i){return(0,D.Z)(null!==i&&void 0!==i?i:0,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}},{title:Mi("quantity"),dataIndex:"quantity",key:"quantity",render:function(i,e){var l,n,s,d,o,t,r,a;return(0,E.jsxs)("span",{children:[(null!==(l=null===e||void 0===e?void 0:e.quantity)&&void 0!==l?l:1)*(null!==(n=null===e||void 0===e||null===(s=e.stock)||void 0===s||null===(d=s.product)||void 0===d?void 0:d.interval)&&void 0!==n?n:1),null===e||void 0===e||null===(o=e.stock)||void 0===o||null===(t=o.product)||void 0===t||null===(r=t.unit)||void 0===r||null===(a=r.translation)||void 0===a?void 0:a.title]})}},{title:Mi("discount"),dataIndex:"discount",key:"discount",render:function(){var i,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0;return(0,D.Z)((null!==e&&void 0!==e?e:0)/(null!==(i=null===l||void 0===l?void 0:l.quantity)&&void 0!==i?i:1),null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}},{title:Mi("tax"),dataIndex:"tax",key:"tax",render:function(i,e){var l;return(0,D.Z)((null!==i&&void 0!==i?i:0)/(null!==(l=null===e||void 0===e?void 0:e.quantity)&&void 0!==l?l:1),null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}},{title:Mi("total.price"),dataIndex:"total_price",key:"total_price",render:function(i,e){var l,n=(null!==i&&void 0!==i?i:0)+(null===e||void 0===e||null===(l=e.addons)||void 0===l?void 0:l.reduce((function(i,e){var l;return i+(null!==(l=null===e||void 0===e?void 0:e.total_price)&&void 0!==l?l:0)}),0));return(0,D.Z)(n,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}},{title:Mi("payment.status"),dataIndex:"transaction_status",key:"transaction_status",is_show:!0,render:function(i){return(0,E.jsx)(o.Z,{color:"paid"===i?"green":"progress"===i?"yellow":"red",children:Mi(i||"N/A")})}},{title:Mi("note"),dataIndex:"note",key:"note",render:function(i){return i||Mi("N/A")}}],ve=[{title:Mi("type"),key:"payment_type",render:function(i){var e;return(0,E.jsx)("span",{children:Mi((null===(e=i.payment_system)||void 0===e?void 0:e.tag)||"N/A")})}},{title:Mi("amount"),key:"amount",render:function(i){return(0,E.jsx)("span",{children:(0,D.Z)(i.price,null===qi||void 0===qi?void 0:qi.symbol)})}},{title:Mi("status"),key:"status",render:function(i){return(0,E.jsxs)("span",{children:[(0,E.jsx)(o.Z,{children:Mi(i.status||"N/A")}),!!i&&"split"!==i.status&&(0,E.jsx)(y.Z,{onClick:function(){return ae(i)}})]})}}],xe=[{title:Mi("date"),dataIndex:"date",key:"date",render:function(i,e){return null!==e&&void 0!==e&&e.date?F()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD HH:mm"):Mi("N/A")}},{title:Mi("document"),dataIndex:"document",key:"document"},{title:Mi("number"),dataIndex:"number",key:"number"},{title:Mi("total.price"),dataIndex:"price",key:"price"}],je=[{price:(0,D.Z)(null===zi||void 0===zi?void 0:zi.total_price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position),number:(0,E.jsxs)(N.rU,{to:"/orders/generate-invoice/".concat(null===zi||void 0===zi?void 0:zi.id),children:["#",null===zi||void 0===zi?void 0:zi.id]}),document:Mi("invoice"),date:F()(null===zi||void 0===zi||null===(i=zi.transaction)||void 0===i?void 0:i.created_at).format("YYYY-MM-DD HH:mm")},{price:"-",number:(0,E.jsxs)(N.rU,{to:"/orders/generate-invoice/".concat(null===zi||void 0===zi?void 0:zi.id),children:["#",null===zi||void 0===zi?void 0:zi.id]}),document:Mi("delivery.reciept"),date:F()(null===zi||void 0===zi||null===(e=zi.transaction)||void 0===e?void 0:e.created_at).format("YYYY-MM-DD HH:mm")}],me=function(){Xi(null),ee(null),Gi(null)};(0,s.useEffect)((function(){Di.refetch&&(Qi(!0),_.Z.getById(Hi).then((function(i){var e=i.data;Si((0,w.nc)({activeMenu:Di,data:e}))})).finally((function(){Qi(!1),Si((0,w.A_)(Di))})),0===ue.length&&Si((0,V.dX)({})))}),[Di.refetch]);return(0,E.jsxs)("div",{className:"order_details",children:[(0,E.jsx)(t.Z,{className:"order-details-info",title:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(H.Qyq,{className:"mr-2 icon"}),"".concat(Mi("order")," ").concat(null!==zi&&void 0!==zi&&zi.id?"#".concat(null===zi||void 0===zi?void 0:zi.id," "):"")," ",Mi("from.order")," ",null===zi||void 0===zi||null===(l=zi.user)||void 0===l?void 0:l.firstname," ",(null===zi||void 0===zi||null===(B=zi.user)||void 0===B?void 0:B.lastname)||""]}),extra:"delivered"!==(null===zi||void 0===zi?void 0:zi.status)&&"canceled"!==(null===zi||void 0===zi?void 0:zi.status)?(0,E.jsxs)(d.Z,{children:["delivered"!==(null===zi||void 0===zi?void 0:zi.status)&&"canceled"!==(null===zi||void 0===zi?void 0:zi.status)?(0,E.jsx)(r.Z,{type:"primary",onClick:function(){return Xi(zi)},children:Mi("change.status")}):null,(0,E.jsx)(r.Z,{type:"primary",icon:(0,E.jsx)(y.Z,{}),onClick:function(){Si((0,q.bn)()),Si((0,w.bL)({url:"order/".concat(Hi),id:"order_edit",name:Mi("edit.order")})),Ti("/order/".concat(Hi))},children:Mi("edit")})]}):""}),(0,E.jsxs)(a.Z,{gutter:24,children:[(0,E.jsx)(u.Z,{span:24,children:(0,E.jsx)(t.Z,{children:(0,E.jsxs)(d.Z,{className:"justify-content-between w-100",children:[(0,E.jsxs)(d.Z,{className:"align-items-start",children:[(0,E.jsx)(b.Z,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:Mi("delivery.date")}),Ji?(0,E.jsx)(v.Z.Button,{size:16}):(0,E.jsxs)(c.Z.Text,{className:"order-card-title",children:[null===zi||void 0===zi?void 0:zi.delivery_date," ",null===zi||void 0===zi?void 0:zi.delivery_time]})]})]}),(0,E.jsxs)(d.Z,{className:"align-items-start",onClick:function(){return Bi.current.scrollIntoView({behavior:"smooth"})},children:[(0,E.jsx)(A.iFN,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:Mi("total.price")}),Ji?(0,E.jsx)(v.Z.Button,{size:16,loading:Ji}):(0,E.jsx)(c.Z.Text,{className:"order-card-title",children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.total_price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)})]})]}),(0,E.jsxs)(d.Z,{className:"align-items-start",children:[(0,E.jsx)(A.Dij,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:Mi("messages")}),Ji?(0,E.jsx)(v.Z.Button,{size:16}):(0,E.jsx)(c.Z.Text,{className:"order-card-title",children:null!==zi&&void 0!==zi&&zi.review?1:0})]})]}),(0,E.jsxs)(d.Z,{className:"align-items-start",onClick:function(){return Ai.current.scrollIntoView({behavior:"smooth"})},children:[(0,E.jsx)(H.Qyq,{className:"order-card-icon"}),(0,E.jsxs)("div",{className:"d-flex flex-column",children:[(0,E.jsx)(c.Z.Text,{children:Mi("products")}),Ji?(0,E.jsx)(v.Z.Button,{size:16}):(0,E.jsx)(c.Z.Text,{className:"order-card-title",children:null===zi||void 0===zi||null===(L=zi.details)||void 0===L?void 0:L.reduce((function(i,e){return i+e.quantity}),0)})]})]})]})})}),"canceled"!==(null===zi||void 0===zi?void 0:zi.status)&&(0,E.jsx)(u.Z,{span:24,children:(0,E.jsx)(t.Z,{children:(0,E.jsx)(x.Z,{current:null===ue||void 0===ue?void 0:ue.findIndex((function(i){return i.name===(null===zi||void 0===zi?void 0:zi.status)})),children:null===ue||void 0===ue?void 0:ue.slice(0,-1).map((function(i){return(0,E.jsx)(x.Z.Step,{title:Mi(i.name)},i.id)}))})})}),(0,E.jsxs)(u.Z,{span:16,children:[(0,E.jsx)(j.Z,{spinning:Ji,children:(0,E.jsx)(t.Z,{style:{minHeight:"200px"},children:(0,E.jsxs)(a.Z,{hidden:Ji,className:"mb-3 order_detail",children:[(0,E.jsxs)(u.Z,{span:12,children:[(0,E.jsxs)("div",{children:[Mi("created.date.&.time"),":",(0,E.jsxs)("span",{className:"ml-2",children:[(0,E.jsx)(T.yoA,{className:"mr-1"})," ",F()(null===zi||void 0===zi?void 0:zi.created_at).format("YYYY-MM-DD HH:mm")," "]})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("delivery.date.&.time"),":",(0,E.jsxs)("span",{className:"ml-2",children:[(0,E.jsx)(T.yoA,{className:"mr-1"})," ",null===zi||void 0===zi?void 0:zi.delivery_date," ",null===zi||void 0===zi?void 0:zi.delivery_time]})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("house"),":",(0,E.jsx)("span",{className:"ml-2",children:Mi(null===zi||void 0===zi||null===(J=zi.address)||void 0===J?void 0:J.house)})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("floor"),":",(0,E.jsx)("span",{className:"ml-2",children:Mi(null===zi||void 0===zi||null===(Q=zi.address)||void 0===Q?void 0:Q.floor)})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("note"),":",(0,E.jsx)("span",{className:"ml-2",children:Mi(null!==zi&&void 0!==zi&&zi.note?null===zi||void 0===zi?void 0:zi.note:"")})]}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:Mi("payments")}),(0,E.jsx)(m.Z,{columns:ve,dataSource:null===zi||void 0===zi?void 0:zi.transactions,pagination:!1}),(0,E.jsxs)(o.Z,{className:"map_show mt-3",onClick:function(){return Gi(Hi)},children:[(0,E.jsx)(z.$0r,{})," ",Mi("show.locations")]})]}),(0,E.jsxs)(u.Z,{span:12,children:[(0,E.jsxs)("div",{children:[Mi("status"),":",(0,E.jsx)("span",{className:"ml-2",children:"new"===(null===zi||void 0===zi?void 0:zi.status)?(0,E.jsx)(o.Z,{color:"blue",children:Mi(null===zi||void 0===zi?void 0:zi.status)}):"canceled"===(null===zi||void 0===zi?void 0:zi.status)?(0,E.jsx)(o.Z,{color:"error",children:Mi(null===zi||void 0===zi?void 0:zi.status)}):(0,E.jsx)(o.Z,{color:"cyan",children:Mi(null===zi||void 0===zi?void 0:zi.status)})})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("delivery.type"),":",(0,E.jsx)("span",{className:"ml-2",children:null===zi||void 0===zi?void 0:zi.delivery_type})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("payment.type"),":",(0,E.jsx)("span",{className:"ml-2",children:Mi(null===zi||void 0===zi||null===(R=zi.transaction)||void 0===R||null===(P=R.payment_system)||void 0===P?void 0:P.tag)})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("address"),":",(0,E.jsx)("span",{className:"ml-2",children:null===zi||void 0===zi||null===(W=zi.address)||void 0===W?void 0:W.address})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("div",{children:[Mi("office"),":",(0,E.jsx)("span",{className:"ml-2",children:null===zi||void 0===zi||null===(ii=zi.address)||void 0===ii?void 0:ii.office})]}),(0,E.jsx)("br",{}),"dine_in"===(null===zi||void 0===zi?void 0:zi.delivery_type)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{children:[Mi("table"),":",(0,E.jsx)("span",{className:"ml-2",children:(null===zi||void 0===zi||null===(ei=zi.table)||void 0===ei?void 0:ei.name)||Mi("N/A")})]}),(0,E.jsx)("br",{})]}),(0,E.jsxs)("div",{children:[Mi("otp"),":",(0,E.jsx)("span",{className:"ml-2",children:null!==(li=null===zi||void 0===zi?void 0:zi.otp)&&void 0!==li?li:Mi("N/A")})]})]})]})})}),!(null===zi||void 0===zi||!zi.image_after_delivered)&&(0,E.jsx)(t.Z,{title:Mi("order.image"),children:(0,E.jsx)("div",{style:{width:"200px",height:"200px",overflow:"hidden"},children:(0,E.jsx)(h.Z,{src:null===zi||void 0===zi?void 0:zi.image_after_delivered,style:{objectFit:"contain"},height:"200px"})})}),(0,E.jsx)(t.Z,{title:Mi("documents"),children:(0,E.jsx)(m.Z,{columns:xe,dataSource:je,pagination:!1,loading:Ji})}),(0,E.jsxs)(t.Z,{className:"w-100 order-table",children:[(0,E.jsx)(m.Z,{ref:Ai,scroll:{x:!0},columns:ce,dataSource:(null===(ni=Di.data)||void 0===ni?void 0:ni.details)||[],loading:Ji,rowKey:function(i){return i.id},pagination:!1}),(0,E.jsxs)(d.Z,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[Mi("delivery.fee"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[Mi("order.tax"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[Mi("product"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[Mi("discount"),":"]}),(0,E.jsx)("br",{}),(null===zi||void 0===zi?void 0:zi.coupon)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("span",{children:[Mi("coupon"),":"]}),(0,E.jsx)("br",{})]}),(0,E.jsxs)("span",{children:[Mi("service.fee"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[Mi("tips"),":"]}),(0,E.jsx)("br",{}),(0,E.jsxs)("h3",{children:[Mi("total.price"),":"]})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.delivery_fee,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.tax,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.origin_price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.total_discount,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{}),(null===zi||void 0===zi?void 0:zi.coupon)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi||null===(si=zi.coupon)||void 0===si?void 0:si.price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{})]}),(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.service_fee,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.tips,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)}),(0,E.jsx)("br",{}),(0,E.jsx)("h3",{ref:Bi,children:(0,D.Z)(null===zi||void 0===zi?void 0:zi.total_price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)})]})]})]})]}),(0,E.jsxs)(u.Z,{span:8,className:"order_info",children:[(0,E.jsxs)(t.Z,{title:Mi("deliveryman"),extra:"ready"===(null===zi||void 0===zi?void 0:zi.status)&&"delivery"===(null===zi||void 0===zi?void 0:zi.delivery_type)&&(0,E.jsxs)(r.Z,{onClick:function(){return ee(zi)},children:[Mi("change"),(0,E.jsx)(y.Z,{})]}),children:["new"===(null===zi||void 0===zi?void 0:zi.status)||"accepted"===(null===zi||void 0===zi?void 0:zi.status)?(0,E.jsx)("p",{children:Mi("order_status_ready")}):"","new"===(null===zi||void 0===zi?void 0:zi.status)||"accepted"===(null===zi||void 0===zi?void 0:zi.status)||null!==zi&&void 0!==zi&&zi.deliveryman?"":(0,E.jsx)("p",{children:Mi("The supplier is not assigned or delivery type pickup")}),(null===zi||void 0===zi?void 0:zi.deliveryman)&&(0,E.jsxs)(d.Z,{children:[(0,E.jsx)(p.C,{shape:"square",size:64,src:S.bV+(null===zi||void 0===zi||null===(di=zi.deliveryman)||void 0===di?void 0:di.img)}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("h5",{children:[null===zi||void 0===zi||null===(oi=zi.deliveryman)||void 0===oi?void 0:oi.firstname," ",(null===zi||void 0===zi||null===(ti=zi.deliveryman)||void 0===ti?void 0:ti.lastname)||""]}),(0,E.jsxs)("span",{className:"delivery-info",children:[(0,E.jsx)(T.lfG,{}),null===zi||void 0===zi||null===(ri=zi.deliveryman)||void 0===ri?void 0:ri.phone]}),(0,E.jsxs)("div",{className:"delivery-info",children:[(0,E.jsx)("b",{children:(0,E.jsx)(z.ixJ,{size:16})}),(0,E.jsx)("span",{children:Fi?(0,G.Z)(null===zi||void 0===zi||null===(ai=zi.deliveryman)||void 0===ai?void 0:ai.email):null===zi||void 0===zi||null===(ui=zi.deliveryman)||void 0===ui?void 0:ui.email})]})]})]})]}),!(null===zi||void 0===zi||!zi.username)&&(0,E.jsxs)(t.Z,{title:Mi("order.receiver"),children:[(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("name")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(T.HHm,{}),null===zi||void 0===zi?void 0:zi.username]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("phone")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(T.lfG,{}),null===zi||void 0===zi?void 0:zi.phone]})]})]}),!(null===zi||void 0===zi||!zi.user)&&(0,E.jsx)(t.Z,{title:(0,E.jsxs)(d.Z,{children:[Mi("customer.info"),(0,E.jsx)(y.Z,{onClick:function(){return Si((0,w.bL)({url:"users/user/".concat(null===zi||void 0===zi?void 0:zi.user.uuid),id:"user_info",name:Mi("user.info")})),void Ti("/users/user/".concat(null===zi||void 0===zi?void 0:zi.user.uuid),{state:{user_id:null===zi||void 0===zi?void 0:zi.user.id}})}})]}),children:(0,E.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[Ji?(0,E.jsx)(v.Z.Avatar,{size:64,shape:"square"}):(0,E.jsx)(p.C,{shape:"square",size:64,src:null===zi||void 0===zi||null===(ci=zi.user)||void 0===ci?void 0:ci.img}),(0,E.jsx)("h5",{className:"customer-name",children:Ji?(0,E.jsx)(v.Z.Button,{size:20,style:{width:70}}):(null===zi||void 0===zi||null===(vi=zi.user)||void 0===vi?void 0:vi.firstname)+" "+((null===zi||void 0===zi||null===(xi=zi.user)||void 0===xi?void 0:xi.lastname)||"")}),(0,E.jsxs)("div",{className:"customer-info-detail",children:[(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("phone")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(T.lfG,{}),Ji?(0,E.jsx)(v.Z.Button,{size:16}):(null===zi||void 0===zi||null===(ji=zi.user)||void 0===ji?void 0:ji.phone)||"none"]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("email")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(z.ixJ,{}),Ji?(0,E.jsx)(v.Z.Button,{size:16}):Fi?(0,G.Z)(null===zi||void 0===zi||null===(mi=zi.user)||void 0===mi?void 0:mi.email):null===zi||void 0===zi||null===(hi=zi.user)||void 0===hi?void 0:hi.email]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("registration.date")}),(0,E.jsxs)("span",{className:"description",children:[(0,E.jsx)(T.yoA,{}),Ji?(0,E.jsx)(v.Z.Button,{size:16}):F()(null===zi||void 0===zi||null===(pi=zi.user)||void 0===pi?void 0:pi.created_at).format("DD-MM-YYYY, HH:mm")]})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("orders.count")}),(0,E.jsx)("span",{className:"description",children:Ji?(0,E.jsx)(v.Z.Button,{size:16}):(0,E.jsx)(Z.Z,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===zi||void 0===zi||null===(Zi=zi.user)||void 0===Zi?void 0:Zi.orders_count)||0})})]}),(0,E.jsxs)("div",{className:"customer-info",children:[(0,E.jsx)("span",{className:"title",children:Mi("spent.since.registration")}),(0,E.jsx)("span",{className:"description",children:Ji?(0,E.jsx)(v.Z.Button,{size:16}):(0,E.jsx)(Z.Z,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,D.Z)(null===zi||void 0===zi||null===(fi=zi.user)||void 0===fi?void 0:fi.orders_sum_price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)})})]})]})]})}),(null===zi||void 0===zi?void 0:zi.review)&&!Ji&&(0,E.jsx)(t.Z,{title:Mi("messages"),children:(0,E.jsxs)("div",{className:"order-message",children:[(0,E.jsx)("span",{className:"message",children:null===zi||void 0===zi||null===(yi=zi.review)||void 0===yi?void 0:yi.comment}),(0,E.jsx)(d.Z,{className:"w-100 justify-content-end",children:(0,E.jsx)("span",{className:"date",children:F()(null===zi||void 0===zi||null===(bi=zi.review)||void 0===bi?void 0:bi.created_at).format("YYYY-MM-DD HH:mm")})})]})}),(0,E.jsx)(t.Z,{title:Mi("store.information"),children:Ji?(0,E.jsx)(v.Z,{avatar:!0,shape:"square",paragraph:{rows:2}}):(0,E.jsxs)(d.Z,{className:"w-100",children:[(0,E.jsx)(p.C,{shape:"square",size:64,src:S.bV+(null===zi||void 0===zi||null===(Ni=zi.shop)||void 0===Ni?void 0:Ni.logo_img)}),(0,E.jsxs)("div",{children:[(0,E.jsx)("h5",{children:null===zi||void 0===zi||null===(gi=zi.shop)||void 0===gi||null===(_i=gi.translation)||void 0===_i?void 0:_i.title}),(null===zi||void 0===zi||null===(ki=zi.shop)||void 0===ki?void 0:ki.phone)&&(0,E.jsxs)("div",{className:"delivery-info",children:[(0,E.jsx)("b",{children:(0,E.jsx)(T.lfG,{})}),(0,E.jsx)("span",{children:null===zi||void 0===zi||null===(wi=zi.shop)||void 0===wi?void 0:wi.phone})]}),(0,E.jsxs)("div",{className:"delivery-info my-1",children:[(0,E.jsxs)("strong",{children:[Mi("min.delivery.price"),":"]}),(0,E.jsx)("span",{children:(0,D.Z)(null===zi||void 0===zi||null===(Ci=zi.shop)||void 0===Ci?void 0:Ci.price,null===qi||void 0===qi?void 0:qi.symbol,null===qi||void 0===qi?void 0:qi.position)})]}),(0,E.jsxs)("div",{className:"delivery-info",children:[(0,E.jsx)("b",{children:(0,E.jsx)(U.CDT,{size:16})}),(0,E.jsx)("span",{children:null===zi||void 0===zi||null===(Ii=zi.shop)||void 0===Ii||null===(Yi=Ii.translation)||void 0===Yi?void 0:Yi.address})]})]})]})})]})]}),Ki&&(0,E.jsx)(C.Z,{orderDetails:Ki,handleCancel:me,status:ue}),ie&&(0,E.jsx)(I.Z,{orderDetails:ie,handleCancel:me}),Oi&&(0,E.jsx)(M.Z,{id:Oi,handleCancel:me}),!!se&&(0,E.jsx)(f.Z,{visible:!!se,footer:!1,onCancel:function(){de(null)},children:(0,E.jsx)(K,{orderDetailId:null===se||void 0===se?void 0:se.id,status:null===se||void 0===se?void 0:se.status,handleCancel:function(){de(null)}})}),!!re&&(0,E.jsx)(f.Z,{visible:!!re,footer:!1,onCancel:function(){return ae(null)},children:(0,E.jsx)(X.Z,{data:re,onCancel:function(){return ae(null)}})})]})}},22103:function(i,e,l){var n=l(29439),s=l(10976),d=l(68197),o=l(59624),t=l(74294),r=l(46155),a=l(45705),u=l(59491),c=l(24511),v=l(98501),x=l(47313),j=l(7370),m=l(2717),h=l(90954),p=l(46417);e.Z=function(i){var e=i.onCancel,l=i.refreshOrders,Z=i.data,f=s.Z.useForm(),y=(0,n.Z)(f,1)[0],b=(0,c.$)().t,N=(0,m.I0)(),g=(0,m.v9)((function(i){return i.menu}),m.wU).activeMenu,_=(0,x.useState)(!1),k=(0,n.Z)(_,2),w=k[0],C=k[1],I=v.gN.map((function(i){return{label:b(i),value:i,key:i}}));return(0,p.jsx)(s.Z,{form:y,layout:"vertical",initialValues:{status:Z.status},onFinish:function(i){var n,s={status:null===i||void 0===i||null===(n=i.status)||void 0===n?void 0:n.value,transaction_id:Z.id};C(!0),j.Z.updateTransactionStatus(null===Z||void 0===Z?void 0:Z.payable_id,s).finally((function(){C(!1),e(),l?l():N((0,h.xo)(g))}))},children:(0,p.jsxs)(d.Z,{gutter:12,children:[(0,p.jsx)(o.Z,{span:24,children:(0,p.jsx)(s.Z.Item,{label:b("status"),name:"status",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(t.Z,{options:I,labelInValue:!0})})}),(0,p.jsx)(r.Z,{}),(0,p.jsx)(o.Z,{span:24,children:(0,p.jsxs)(a.Z,{style:{display:"flex",justifyContent:"end"},children:[(0,p.jsx)(u.Z,{onClick:e,children:b("cancel")}),(0,p.jsx)(u.Z,{type:"primary",htmlType:"submit",loading:w,children:b("save")})]})})]})})}}}]);