(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5368],{13944:function(e,t,n){"use strict";var r=n(1413),i=n(47313),o=n(77181),a=n(58446),l=n(27834),s=n(33533),c=n(46417),d={position:"absolute",zIndex:"1"},u={position:"absolute",zIndex:"1",right:"0",top:"-2px"},p=function(e){var t=e.title,n=e.series,p=e.width,h=e.height,f=e.xAxis,v=e.customOptions,x=e.card,g=e.type,y=e.extra,m=e.direction,Z=e.bodyClass,j=JSON.parse(JSON.stringify(function(e){switch(e){case"line":default:return s.jd;case"bar":return s.B0;case"area":return s.fT;case"pie":return s.LB}}(g))),b=window.innerWidth<768,w=function(){if(z.current){var e,t=z.current.querySelectorAll("div.apexcharts-legend")[0];t.style.marginRight="".concat(b?0:null===(e=_.current)||void 0===e?void 0:e.offsetWidth,"px"),"rtl"===m&&(t.style.right="auto",t.style.left="0"),b&&(t.style.position="relative",t.style.top=0,t.style.justifyContent="start",t.style.padding=0)}};(0,i.useEffect)((function(){w()}),[]);var _=(0,i.useRef)(null),z=(0,i.useRef)();j.xaxis={categories:f},v&&(j=(0,r.Z)((0,r.Z)({},j),v));var C=function(){return(0,c.jsx)(l.ZP,{onResize:void setTimeout((function(){w()}),600),children:(0,c.jsx)("div",{style:"rtl"===m?{direction:"ltr"}:{},className:"chartRef",ref:z,children:(0,c.jsx)(a.Z,{options:j,type:g,series:n,width:p,height:h})})})};return(0,c.jsx)(c.Fragment,{children:x?(0,c.jsx)(o.Z,{children:(0,c.jsxs)("div",{className:"position-relative ".concat(Z),children:[(0,c.jsx)("div",{style:b?{}:d,children:t})&&(0,c.jsx)("h4",{className:"font-weight-bold",style:b?{}:d,children:t}),y&&(0,c.jsx)("div",{ref:_,style:b?{}:u,children:y}),C()]})}):C()})};p.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"},t.Z=p},33533:function(e,t,n){"use strict";n.d(t,{B0:function(){return l},DM:function(){return i},LB:function(){return s},fT:function(){return a},jd:function(){return o}});var r=n(1413),i=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],o={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[].concat(i),dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},a=(0,r.Z)({},o),l={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[].concat(i),dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,t){return e+" - "+t.w.globals.series[t.seriesIndex][t.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:function(e){return"".concat(e)}}}},s={colors:[].concat(i),plotOptions:{pie:{size:200,donut:{labels:{show:!0,total:{show:!1,showAlways:!0,label:"",fontSize:"18px",fontFamily:"Roboto",fontWeight:"bold",color:"#1a3353",formatter:function(e){return e.globals.seriesTotals.reduce((function(e,t){return e+t}),0)+"Orders count"}}},size:"100%"}}},labels:[],dataLabels:{enabled:!0},legend:{show:!0}}},84017:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67968);function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,a=null===(e=r.h.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,l=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),s=i||(null===a||void 0===a?void 0:a.symbol)||"$",c=o||(null===a||void 0===a?void 0:a.position)||"before";return"after"===c?"".concat(l," ").concat(s):"".concat(s," ").concat(l)}},57878:function(e,t,n){"use strict";n.r(t);var r=n(56140),i=n(99096),o=n(72652),a=n(68197),l=n(59624),s=n(45705),c=n(46155),d=n(77181),u=n(74294),p=n(78508),h=n(47313),f=n(13944),v=n(16034),x=n(88038),g=n(2717),y=n(97890),m=n(29466),Z=n(74776),j=n.n(Z),b=n(93131),w=n(41591),_=n(90954),z=n(80314),C=n(70816),S=n.n(C),k=n(84017),T=n(24511),N=n(46417),O=r.Z.Text,q=r.Z.Title,I=i.Z.RangePicker;t.default=function(){var e,t,n,r,i=(0,T.$)().t,Z=(0,y.TH)(),C=j().parse(Z.search,[])["?category_id"],L=j().parse(Z.search,[])["?product_id"],R=(0,h.useContext)(b.G),P=R.date_from,A=R.date_to,B=R.by_time,M=R.chart,F=R.handleDateRange,D=R.options,E=R.handleByTime,H=R.chart_type,U=R.setChartType,W=(0,g.v9)((function(e){return e.overviewReport}),g.wU),V=W.loading,Y=W.carts,$=W.products,J=W.categories,G=(0,g.v9)((function(e){return e.currency}),g.wU).defaultCurrency,K=(0,g.v9)((function(e){return e.menu}),g.wU).activeMenu,Q=(0,g.I0)(),X=[{title:i("title"),dataIndex:"title",key:"title"},{title:i("item.sold"),dataIndex:"quantity",key:"quantity"},{title:i("net.sales"),dataIndex:"total_price",key:"total_price",render:function(e){return(0,k.Z)(e,null===G||void 0===G?void 0:G.symbol,null===G||void 0===G?void 0:G.position)}},{title:i("orders"),dataIndex:"count",key:"count"}],ee=[{title:"Total sales",qty:"delivered_sum",percent:"5",price:!0},{title:"Orders",qty:"count",percent:"5",price:!1},{title:"Canceled orders price",qty:"canceled_sum",percent:"5",price:!0},{title:"Total tax",qty:"tax",percent:"5",price:!0},{title:"Delivered avg",qty:"delivered_avg",percent:"5",price:!0},{title:"Delivery fee",qty:"delivery_fee",percent:"5",price:!0}],te=function(e,t){var n={date_from:P,date_to:A,type:B,page:e,perPage:t};Q((0,w.kk)(n))},ne=function(e,t){var n={date_from:P,date_to:A,type:B,page:e,perPage:t};Q((0,w.E7)(n))},re=function(e,t){var n={date_from:P,date_to:A,type:B,page:e,perPage:t};C&&(n.categories=[C]),L&&(n.products=[L]),Q((0,w.Y7)(n))};return(0,h.useEffect)((function(){K.refetch&&(re(),te(),ne(),Q((0,_.A_)(K)))}),[K.refetch]),(0,z.Z)((function(){re()}),[A,B,M,C,L,P]),(0,z.Z)((function(){te()}),[A,B,P]),(0,z.Z)((function(){ne()}),[A,B,P]),(0,N.jsxs)(o.Z,{size:"large",spinning:V,children:[(0,N.jsx)(a.Z,{gutter:24,className:"mb-4",children:(0,N.jsx)(l.Z,{span:12,children:(0,N.jsx)(s.Z,{size:"large",children:(0,N.jsx)(I,{defaultValue:[S()(P),S()(A)],onChange:F})})})}),(0,N.jsx)(c.Z,{orientation:"left",children:"Performance"}),(0,N.jsx)(a.Z,{gutter:24,children:null===ee||void 0===ee?void 0:ee.map((function(e,t){return(0,N.jsx)(l.Z,{span:6,children:(0,N.jsx)(m.rU,{to:"/report/revenue",children:(0,N.jsxs)(d.Z,{children:[(0,N.jsx)(a.Z,{className:"mb-5",children:(0,N.jsx)(l.Z,{children:(0,N.jsx)(O,{children:e.title})})}),(0,N.jsx)(a.Z,{gutter:24,children:(0,N.jsx)(l.Z,{span:12,children:(0,N.jsx)(q,{level:2,children:e.price?(0,k.Z)(Y[e.qty],null===G||void 0===G?void 0:G.symbol,null===G||void 0===G?void 0:G.position):Y[e.qty]})})})]})},e.title)})}))}),(0,N.jsxs)(a.Z,{gutter:24,className:"mb-2",children:[(0,N.jsx)(l.Z,{span:20,children:(0,N.jsx)(c.Z,{orientation:"left",children:"Charts"})}),(0,N.jsx)(l.Z,{span:4,children:(0,N.jsxs)("div",{className:"d-flex",children:[(0,N.jsx)(u.Z,{style:{width:100},onChange:E,options:D,defaultValue:B}),(0,N.jsx)(c.Z,{type:"vertical",style:{height:"100%"}}),(0,N.jsxs)(s.Z,{children:[(0,N.jsx)(v.Z,{style:{fontSize:"22px",cursor:"pointer",color:"line"===H?"green":""},onClick:function(){return U("line")}}),(0,N.jsx)(x.Z,{style:{fontSize:"22px",cursor:"pointer",color:"bar"===H?"green":""},onClick:function(){return U("bar")}})]})]})})]}),(0,N.jsxs)(a.Z,{gutter:24,children:[(0,N.jsx)(l.Z,{span:12,children:(0,N.jsx)(d.Z,{title:"Net Sales",children:(0,N.jsx)(f.Z,{type:H,series:[{name:"Orders",data:null===Y||void 0===Y||null===(e=Y.chart_price)||void 0===e?void 0:e.map((function(e){return e.delivered_sum}))}],xAxis:null===Y||void 0===Y||null===(t=Y.chart_price)||void 0===t?void 0:t.map((function(e){return e.time}))})})}),(0,N.jsx)(l.Z,{span:12,children:(0,N.jsx)(d.Z,{title:"Orders",children:(0,N.jsx)(f.Z,{type:H,series:[{name:"Orders",data:null===Y||void 0===Y||null===(n=Y.chart_count)||void 0===n?void 0:n.map((function(e){return e.count}))}],xAxis:null===Y||void 0===Y||null===(r=Y.chart_price)||void 0===r?void 0:r.map((function(e){return e.time}))})})})]}),(0,N.jsx)(c.Z,{orientation:"left",children:"Leaderboards"}),(0,N.jsxs)(a.Z,{gutter:24,children:[(0,N.jsx)(l.Z,{span:12,children:(0,N.jsx)(d.Z,{title:"Top categories",children:(0,N.jsx)(p.Z,{scroll:{x:!0},onChange:function(e){var t=e.pageSize,n=e.current;te(n,t)},pagination:{pageSize:null===J||void 0===J?void 0:J.per_page,page:(null===J||void 0===J?void 0:J.current_page)||1,total:null===J||void 0===J?void 0:J.total,defaultCurrent:1},columns:X,dataSource:null===J||void 0===J?void 0:J.data})})}),(0,N.jsx)(l.Z,{span:12,children:(0,N.jsx)(d.Z,{title:"Top products",children:(0,N.jsx)(p.Z,{scroll:{x:!0},onChange:function(e){var t=e.pageSize,n=e.current;te(n,t)},pagination:{pageSize:null===$||void 0===$?void 0:$.per_page,page:(null===$||void 0===$?void 0:$.current_page)||1,total:null===$||void 0===$?void 0:$.total,defaultCurrent:1},columns:X,dataSource:null===$||void 0===$?void 0:$.data})})})]})]})}},16034:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),i=n(47313),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"},a=n(17469),l=function(e,t){return i.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:o}))};l.displayName="LineChartOutlined";var s=i.forwardRef(l)},24654:function(){}}]);