(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[37],{97388:function(e,r,n){"use strict";n.d(r,{Z:function(){return y}});var t=n(15861),o=n(29439),i=n(87757),s=n.n(i),a=n(47313),l=n(16609),u=n.p+"static/media/pin.0e41858db80c699cd8a2.png",c=n(31881),d=n.n(c),m=n(97421);function p(e){return f.apply(this,arguments)}function f(){return f=(0,t.Z)(s().mark((function e(r){var n,t,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:m.kr,t={latlng:"".concat(null===r||void 0===r?void 0:r.lat,",").concat(null===r||void 0===r?void 0:r.lng),key:n},e.abrupt("return",d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((function(e){var r;return null===(r=e.data.results[0])||void 0===r?void 0:r.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var v=n(5958),h=n(23560),Z=n(24511),j=n(307),g=n(46417),x=(0,j.Z)();var y=(0,l.GoogleApiWrapper)({apiKey:x,libraries:["places","geometry"]})((function(e){var r,n,i=(0,a.useState)(),c=(0,o.Z)(i,2),d=c[0],m=c[1],f=(0,Z.$)().t,j=function(){var r=(0,t.Z)(s().mark((function r(n,t,o){var i,a,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=o.latLng,a={lat:i.lat(),lng:i.lng()},e.setLocation(a),r.next=5,p(a,x);case 5:l=r.sent,e.setAddress(l);case 7:case"end":return r.stop()}}),r)})));return function(e,n,t){return r.apply(this,arguments)}}(),y=function(){var r=(0,t.Z)(s().mark((function r(n){var t,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t={lat:null===n||void 0===n?void 0:n.lat,lng:null===n||void 0===n?void 0:n.lng},e.setLocation(t),r.next=4,p(t,x);case 4:o=r.sent,e.setAddress(o);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),b=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var r={lat:e.coords.latitude,lng:e.coords.longitude};m(r)}),(function(e){h.Am.warning(f("turn.on.gps"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){b()}),[]);for(var w=[{lat:Number(null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.lat)||0,lng:Number(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.lng)||0}],P=new e.google.maps.LatLngBounds,E=0;E<w.length;E++)P.extend(w[E]);return(0,g.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,g.jsx)("button",{className:"map-button",type:"button",onClick:function(){b(),d&&y(d)},children:(0,g.jsx)(v.nDs,{})}),(0,g.jsx)(l.Map,{cursor:"pointer",onClick:j,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,g.jsx)(l.Marker,{position:e.location,icon:{url:u,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},13622:function(e,r,n){"use strict";n.d(r,{R:function(){return p}});var t=n(1413),o=n(29439),i=n(45987),s=n(47313),a=n(12279),l=n.n(a),u=n(74294),c=n(72652),d=n(46417),m=["fetchOptions","debounceTimeout","refetch"],p=function(e){var r=e.fetchOptions,n=e.debounceTimeout,a=void 0===n?400:n,p=(e.refetch,(0,i.Z)(e,m)),f=(0,s.useState)(!1),v=(0,o.Z)(f,2),h=v[0],Z=v[1],j=(0,s.useState)([]),g=(0,o.Z)(j,2),x=g[0],y=g[1],b=(0,s.useMemo)((function(){return l()((function(e){y([]),Z(!0),r(e).then((function(e){y(e),Z(!1)}))}),a)}),[r,a]);return(0,d.jsx)(u.Z,(0,t.Z)((0,t.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,onClear:function(){return b("")},filterOption:!1,onSearch:b,notFoundContent:h?(0,d.jsx)(c.Z,{size:"small"}):"no results"},p),{},{options:x,onFocus:function(){b("")}}))}},89281:function(e,r,n){"use strict";n.d(r,{h:function(){return p}});var t=n(1413),o=n(29439),i=n(45987),s=n(47313),a=n(12279),l=n.n(a),u=n(74294),c=n(72652),d=n(46417),m=["fetchOptions","debounceTimeout","onClear"],p=function(e){var r=e.fetchOptions,n=e.debounceTimeout,a=void 0===n?400:n,p=e.onClear,f=(0,i.Z)(e,m),v=(0,s.useState)(!1),h=(0,o.Z)(v,2),Z=h[0],j=h[1],g=(0,s.useState)([]),x=(0,o.Z)(g,2),y=x[0],b=x[1],w=(0,s.useMemo)((function(){return l()((function(e){b([]),j(!0),r(e).then((function(e){b(e),j(!1)}))}),a)}),[r,a]);return(0,d.jsx)(u.Z,(0,t.Z)((0,t.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:w,onClear:function(){w(""),p&&p()},notFoundContent:Z?(0,d.jsx)(c.Z,{size:"small"}):"no results"},f),{},{options:y,onFocus:function(){w("")}}))}},17649:function(e,r,n){"use strict";n.d(r,{Z:function(){return t}});n(97421);function t(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var r=e.location.split(", ");return{lat:Number(null===r||void 0===r?void 0:r[0]),lng:Number(null===r||void 0===r?void 0:r[1])}}},307:function(e,r,n){"use strict";var t=n(67968),o=n(97421);r.Z=function(){var e,r;return(null===(e=t.h.getState())||void 0===e||null===(r=e.globalSettings)||void 0===r?void 0:r.settings).google_map_key||o.kr}},84017:function(e,r,n){"use strict";n.d(r,{Z:function(){return o}});var t=n(67968);function o(){var e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=null===(e=t.h.getState())||void 0===e||null===(r=e.currency)||void 0===r?void 0:r.defaultCurrency,a=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),l=o||(null===s||void 0===s?void 0:s.symbol)||"$",u=i||(null===s||void 0===s?void 0:s.position)||"before";return"after"===u?"".concat(a," ").concat(l):"".concat(l," ").concat(a)}},33834:function(e,r,n){"use strict";n.d(r,{K:function(){return l}});var t=n(4942),o=n(1413),i=n(97890),s=n(74776),a=n.n(s),l=function(){var e=(0,i.s0)(),r=(0,i.TH)(),n=a().parse(r.search,{ignoreQueryPrefix:!0});return{values:n,set:function(r,i){return e({search:a().stringify((0,o.Z)((0,o.Z)({},n),{},(0,t.Z)({},r,i)))})},reset:function(r){var t=(0,o.Z)({},n);t[r]&&delete t[r],e({search:a().stringify((0,o.Z)({},t))})},clear:function(){return e({search:a().stringify({})})},merge:function(r){return e({search:a().stringify((0,o.Z)((0,o.Z)({},n),r))})},get:function(e){return n[e]},setMultiple:function(r){var t=(0,o.Z)((0,o.Z)({},n),r);e({search:a().stringify(t)})},resetMultiple:function(r){var t=(0,o.Z)({},n);r.forEach((function(e){t[e]&&delete t[e]})),e({search:a().stringify(t)})}}}},69096:function(e,r,n){"use strict";n.d(r,{Z:function(){return k}});var t=n(15861),o=n(29439),i=n(87757),s=n.n(i),a=n(47313),l=n(68197),u=n(59624),c=n(10976),d=n(99096),m=n(25050),p=n(66672),f=n(45705),v=n(59491),h=n(24511),Z=n(5764),j=n(89281),g=n(71927),x=n(90486),y=n(84017),b=n(2717),w=n(70816),P=n.n(w),E=n(26457),_=n(46417);function k(e){var r,n=e.form,i=e.loading,w=e.prev,k=e.locationFrom,C=e.locationTo,S=e.image,q=e.setImage,I=(0,h.$)().t,N=(0,b.v9)((function(e){return e.menu}),b.wU).activeMenu,O=((0,b.v9)((function(e){return e.payment}),b.wU).payments,(0,a.useState)(null===N||void 0===N||null===(r=N.data)||void 0===r?void 0:r.type)),F=(0,o.Z)(O,2),T=F[0],L=F[1],A=(0,a.useState)(0),M=(0,o.Z)(A,2),R=M[0],$=M[1];function z(){return(z=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:r},e.abrupt("return",g.Z.getAll(n).then((function(e){return e.data.map((function(e){return{label:e.type,value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:r},e.abrupt("return",E.Z.getAll(n).then((function(e){var r,n;return null===(r=e.data)||void 0===r||null===(n=r.filter((function(e){return"cash"===e.tag||"wallet"===e.tag})))||void 0===n?void 0:n.map((function(e){return{label:I(e.tag),value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,a.useEffect)((function(){if(T&&k&&C){var e={"address_from[latitude]":k.lat,"address_from[longitude]":k.lng,"address_to[latitude]":C.lat,"address_to[longitude]":C.lng,type_id:null===T||void 0===T?void 0:T.value};x.Z.calculate(e).then((function(e){var r=e.data;$(r.price)})).catch((function(e){return console.error(e)}))}}),[T,k,C]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(l.Z,{gutter:24,children:[(0,_.jsx)(u.Z,{span:12,children:(0,_.jsx)(c.Z.Item,{label:I("type"),name:"type",rules:[{required:!0,message:I("required")}],children:(0,_.jsx)(j.h,{fetchOptions:function(e){return z.apply(this,arguments)},onChange:function(e){L(e)}})})}),(0,_.jsx)(u.Z,{span:12,children:(0,_.jsx)(c.Z.Item,{label:I("image"),name:"images",rules:[{validator:function(){return 0===(null===S||void 0===S?void 0:S.length)?Promise.reject(new Error(I("required"))):Promise.resolve()}}],children:(0,_.jsx)(Z.Z,{type:"languages",imageList:S,setImageList:q,form:n,multiple:!1})})}),(0,_.jsx)(u.Z,{span:12,children:(0,_.jsx)(c.Z.Item,{label:I("payment.type"),name:"payment_type",rules:[{required:!0,message:I("missing.payment.type")}],children:(0,_.jsx)(j.h,{fetchOptions:function(e){return V.apply(this,arguments)}})})}),(0,_.jsx)(u.Z,{span:12}),(0,_.jsx)(u.Z,{span:12,children:(0,_.jsx)(c.Z.Item,{label:I("delivery.date"),name:"delivery_date",rules:[{required:!0,message:I("required")}],children:(0,_.jsx)(d.Z,{className:"w-100",placeholder:"",disabledDate:function(e){return P()().add(-1,"days")>=e}})})}),(0,_.jsx)(u.Z,{span:12,children:(0,_.jsx)(c.Z.Item,{label:I("delivery.time"),name:"delivery_time",rules:[{required:!0,message:I("required")}],children:(0,_.jsx)(m.Z,{className:"w-100",format:"HH:mm",placeholder:""})})}),(0,_.jsx)(u.Z,{span:24,children:(0,_.jsx)(c.Z.Item,{label:I("note"),name:"note",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(I("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(I("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(I("required")))}}],children:(0,_.jsx)(p.Z,{})})})]}),(0,_.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,_.jsxs)(f.Z,{children:[(0,_.jsx)(v.Z,{type:"default",htmlType:"button",onClick:w,children:I("prev")}),(0,_.jsx)(v.Z,{type:"primary",htmlType:"submit",loading:i,disabled:!R,children:I("submit")})]}),(0,_.jsxs)(f.Z,{children:[(0,_.jsxs)("span",{children:[I("total.price"),":"]}),(0,_.jsx)("span",{children:(0,y.Z)(R)})]})]})]})}},35233:function(e,r,n){"use strict";n(15861);var t=n(29439),o=(n(87757),n(47313)),i=n(68197),s=n(59624),a=n(10976),l=n(66672),u=n(16124),c=n(45705),d=n(59491),m=n(24511),p=(n(13622),n(97388)),f=(n(49986),n(46417));r.Z=function(e){var r=e.form,n=e.next,v=e.prev,h=e.location,Z=e.setLocation,j=(0,m.$)().t,g=(0,o.useState)(null),x=(0,t.Z)(g,2),y=(x[0],x[1],(0,o.useState)([])),b=(0,t.Z)(y,2);b[0],b[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(i.Z,{gutter:24,children:[(0,f.jsxs)(s.Z,{span:12,children:[(0,f.jsx)(a.Z.Item,{label:j("username"),name:"username_to",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(j("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(j("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(j("required")))}}],children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(a.Z.Item,{label:j("phone"),name:"phone_to",rules:[{validator:function(e,r){return r?r&&r<0?Promise.reject(new Error(j("must.be.positive"))):r&&(null===r||void 0===r?void 0:r.toString().length)<7?Promise.reject(new Error(j("min.7.numbers"))):Promise.resolve():Promise.reject(new Error(j("required")))}}],children:(0,f.jsx)(u.Z,{className:"w-100"})}),(0,f.jsxs)(i.Z,{gutter:12,children:[(0,f.jsx)(s.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{label:j("house"),name:"house_to",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(j("no.empty.space"))):Promise.resolve():Promise.reject(new Error(j("required")))}}],children:(0,f.jsx)(l.Z,{})})}),(0,f.jsx)(s.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{label:j("stage"),name:"stage_to",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(j("no.empty.space"))):Promise.resolve():Promise.reject(new Error(j("required")))}}],children:(0,f.jsx)(l.Z,{})})}),(0,f.jsx)(s.Z,{span:8,children:(0,f.jsx)(a.Z.Item,{label:j("room"),name:"room_to",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(j("no.empty.space"))):Promise.resolve():Promise.reject(new Error(j("required")))}}],children:(0,f.jsx)(l.Z,{})})})]})]}),(0,f.jsxs)(s.Z,{span:12,children:[(0,f.jsx)(a.Z.Item,{label:j("address"),name:"address_to",rules:[{required:!0,message:j("required")}],children:(0,f.jsx)(l.Z,{})}),(0,f.jsx)(p.Z,{location:h,setLocation:Z,setAddress:function(e){return r.setFieldsValue({address_to:e})}})]})]}),(0,f.jsxs)(c.Z,{children:[(0,f.jsx)(d.Z,{type:"default",htmlType:"button",onClick:v,children:j("prev")}),(0,f.jsx)(d.Z,{type:"primary",htmlType:"button",onClick:n,children:j("next")})]})]})}},53456:function(e,r,n){"use strict";var t=n(15861),o=n(29439),i=n(87757),s=n.n(i),a=n(47313),l=n(68197),u=n(59624),c=n(10976),d=n(66672),m=n(16124),p=n(45705),f=n(59491),v=n(24511),h=n(13622),Z=n(97388),j=n(49986),g=n(46417);r.Z=function(e){var r=e.form,n=e.next,i=e.location,x=e.setLocation,y=(0,v.$)().t,b=(0,a.useState)(null),w=(0,o.Z)(b,2),P=w[0],E=w[1],_=(0,a.useState)([]),k=(0,o.Z)(_,2),C=k[0],S=k[1];function q(){return(q=(0,t.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={search:r,roles:"user","empty-shop":1},E(!1),e.abrupt("return",j.Z.search(n).then((function(e){return S(e.data),e.data.map((function(e){return{label:[e.firstname,e.lastname].join(" "),value:e.id}}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(l.Z,{gutter:24,children:[(0,g.jsxs)(u.Z,{span:12,children:[(0,g.jsx)(c.Z.Item,{label:y("user"),name:"user_from",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(h.R,{fetchOptions:function(e){return q.apply(this,arguments)},refetch:P,onChange:function(e){var n=C.find((function(r){return r.id===e.value}));r.setFieldsValue({username_from:[n.firstname,n.lastname].join(" "),phone_from:n.phone})}})}),(0,g.jsx)(c.Z.Item,{label:y("username"),name:"username_from",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(y("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(y("required")))}}],children:(0,g.jsx)(d.Z,{})}),(0,g.jsx)(c.Z.Item,{label:y("phone"),name:"phone_from",rules:[{validator:function(e,r){return r?r&&r<0?Promise.reject(new Error(y("must.be.positive"))):r&&(null===r||void 0===r?void 0:r.toString().length)<7?Promise.reject(new Error(y("min.7.numbers"))):Promise.resolve():Promise.reject(new Error(y("required")))}}],children:(0,g.jsx)(m.Z,{className:"w-100"})}),(0,g.jsxs)(l.Z,{gutter:12,children:[(0,g.jsx)(u.Z,{span:8,children:(0,g.jsx)(c.Z.Item,{label:y("house"),name:"house_from",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):Promise.resolve():Promise.reject(new Error(y("required")))}}],children:(0,g.jsx)(d.Z,{})})}),(0,g.jsx)(u.Z,{span:8,children:(0,g.jsx)(c.Z.Item,{label:y("stage"),name:"stage_from",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):Promise.resolve():Promise.reject(new Error(y("required")))}}],children:(0,g.jsx)(d.Z,{})})}),(0,g.jsx)(u.Z,{span:8,children:(0,g.jsx)(c.Z.Item,{label:y("room"),name:"room_from",rules:[{validator:function(e,r){return r?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(y("no.empty.space"))):Promise.resolve():Promise.reject(new Error(y("required")))}}],children:(0,g.jsx)(d.Z,{})})})]})]}),(0,g.jsxs)(u.Z,{span:12,children:[(0,g.jsx)(c.Z.Item,{label:y("address"),name:"address_from",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(d.Z,{})}),(0,g.jsx)(Z.Z,{location:i,setLocation:x,setAddress:function(e){return r.setFieldsValue({address_from:e})}})]})]}),(0,g.jsx)(p.Z,{children:(0,g.jsx)(f.Z,{type:"primary",htmlType:"button",onClick:n,children:y("next")})})]})}},29395:function(e,r,n){"use strict";n.d(r,{S:function(){return t}});var t=[{title:"sender.details",content:"First-content"},{title:"receiver.details",content:"Second-content"},{title:"parcel.details",content:"Third-content"}]},25050:function(e,r,n){"use strict";var t=n(87462),o=n(47313),i=n(99096),s=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n},a=i.Z.TimePicker,l=i.Z.RangePicker,u=o.forwardRef((function(e,r){return o.createElement(l,(0,t.Z)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:r}))})),c=o.forwardRef((function(e,r){var n=e.addon,i=e.renderExtraFooter,l=e.popupClassName,u=s(e,["addon","renderExtraFooter","popupClassName"]),c=o.useMemo((function(){return i||(n||void 0)}),[n,i]);return o.createElement(a,(0,t.Z)({},u,{dropdownClassName:l,mode:void 0,ref:r,renderExtraFooter:c}))}));c.displayName="TimePicker",c.RangePicker=u,r.Z=c},24654:function(){}}]);