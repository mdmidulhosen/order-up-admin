"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2295],{20776:function(e,n,t){t.d(n,{o:function(){return h}});var i=t(1413),o=t(29439),l=t(45987),a=t(47313),r=t(84762),u=t(72652),c=t(12279),d=t.n(c),s=t(46417),v=["fetchOptions","refetch","debounceTimeout"],h=function(e){var n=e.fetchOptions,t=e.refetch,c=void 0!==t&&t,h=e.debounceTimeout,f=void 0===h?400:h,p=(0,l.Z)(e,v),Z=(0,a.useState)(!1),m=(0,o.Z)(Z,2),x=m[0],g=m[1],j=(0,a.useState)([]),b=(0,o.Z)(j,2),y=b[0],w=b[1],_=(0,a.useMemo)((function(){return d()((function(e){w([]),g(!0),n(e).then((function(e){w(e),g(!1)}))}),f)}),[]);return(0,s.jsx)(r.Z,(0,i.Z)({showSearch:!0,labelInValue:!0,filterTreeNode:function(e,n){var t;if(n)return null===n||void 0===n||null===(t=n.label)||void 0===t?void 0:t.localeCompare(e)},treeLine:!0,onSearch:function(e){console.log("value",e),_(e)},filterOption:!1,treeData:x?[]:y,treeDefaultExpandAll:!0,onFocus:function(){y.length&&!c||(g(!0),n().then((function(e){w(e),g(!1)})))},notFoundContent:x?(0,s.jsx)(u.Z,{size:"small"}):"no results"},p))}},92855:function(e,n,t){var i=t(26824),o=t(46417);n.Z=function(e){var n=e.image,t=e.row,l=e.size,a=void 0===l?100:l;return(0,o.jsx)(i.Z,{src:n||"https://via.placeholder.com/150",alt:"img_gallery",width:a,height:a,className:"rounded border",preview:!0,placeholder:!n,style:{objectFit:"contain"}},n+(null===t||void 0===t?void 0:t.id))}},55940:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),o=t(45987),l=(t(47313),t(59491)),a=t(47515),r=t(23560),u=t(24511),c=t(79492),d=t(46417),s=["size","onClick","type"];function v(e){var n=e.size,t=void 0===n?"":n,v=e.onClick,h=e.type,f=void 0===h?"default":h,p=(0,o.Z)(e,s),Z=(0,u.$)().t,m=(0,c.Z)().isDemo;return(0,d.jsx)(l.Z,(0,i.Z)({size:t,icon:(0,d.jsx)(a.Z,{}),onClick:function(e){m?r.Am.warning(Z("cannot.work.demo")):v(e)},type:f},p))}},53233:function(e,n,t){var i=t(1413),o=t(29439),l=t(47313),a=t(56140),r=t(67251),u=t(45705),c=t(86345),d=t(78267),s=t(37388),v=t(59491),h=t(99587),f=t(24511),p=t(46417),Z=a.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,a=e.setColumns,m=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,b=(0,f.$)().t,y=(0,l.useState)(!1),w=(0,o.Z)(y,2),_=w[0],C=w[1],k=(0,p.jsx)(r.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(r.Z.Item,{children:(0,p.jsxs)(u.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(Z,{children:e.title}),(0,p.jsx)(c.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));a(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(d.Z,{overlay:k,trigger:["click"],onVisibleChange:function(e){C(e)},visible:_,children:(0,p.jsx)(s.Z,{title:b("change.columns"),children:(0,p.jsx)(v.Z,{style:(0,i.Z)({},m),size:g,icon:(0,p.jsx)(h.Z,{}),children:j?null:b("Columns")})})})}},49655:function(e,n,t){t.d(n,{_:function(){return m}});var i=t(1413),o=t(93433),l=t(15861),a=t(29439),r=t(45987),u=t(87757),c=t.n(u),d=t(47313),s=t(12279),v=t.n(s),h=t(74294),f=t(72652),p=t(46417),Z=["fetchOptions","debounceTimeout","hasMore","refetchOnFocus"],m=function(e){var n=e.fetchOptions,t=e.debounceTimeout,u=void 0===t?400:t,s=e.hasMore,m=e.refetchOnFocus,x=void 0!==m&&m,g=(0,r.Z)(e,Z),j=(0,d.useState)(!1),b=(0,a.Z)(j,2),y=b[0],w=b[1],_=(0,d.useState)([]),C=(0,a.Z)(_,2),k=C[0],S=C[1],I=(0,d.useState)(!1),z=(0,a.Z)(I,2),O=z[0],M=z[1],N=(0,d.useState)(null),A=(0,a.Z)(N,2),V=A[0],T=A[1],P=(0,d.useState)(1),H=(0,a.Z)(P,2),F=H[0],q=H[1],L=(0,d.useMemo)((function(){return v()((function(e){S([]),T(e),w(!0),n({search:e}).then((function(e){S(e),q(2),w(!1)})).finally((function(){return M(!1)}))}),u)}),[n,u,F]),U=function(){var e=(0,l.Z)(c().mark((function e(t){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.target,O||i.scrollTop+i.offsetHeight!==i.scrollHeight||s&&(M(!0),n({search:V,page:F}).then((function(e){q((function(e){return e+1})),S([].concat((0,o.Z)(k),(0,o.Z)(e)))})).finally((function(){return M(!1)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(h.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,onPopupScroll:U,labelInValue:!0,filterOption:!1,onSearch:L,notFoundContent:y?(0,p.jsx)(f.Z,{size:"small"}):"no results",onFocus:function(){x?L(""):null!==k&&void 0!==k&&k.length||L("")}},g),{},{children:[k.map((function(e,n){return(0,p.jsx)(h.Z.Option,{value:e.value,children:e.label},n)})),O&&(0,p.jsx)(h.Z.Option,{children:(0,p.jsx)(f.Z,{size:"small"})})]}))}},51988:function(e,n,t){t.d(n,{Z:function(){return c}});t(47313);var i=t(24511),o=t(66188),l=t.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",a=t.p+"static/media/noresult.ac4af107751f94856a9c.riv",r=t.p+"static/media/nosell.32cb2c2cc548a15c820d.riv",u=t(46417);var c=function(e){var n=e.id,t=void 0===n?"noresult":n,c=e.text,d=void 0===c?"":c,s=(0,i.$)().t,v={src:{noproductsfound:l,noresult:a,nosell:r}[t],artboard:"New Artboard",autoplay:!0},h=(0,o.useRive)(v).RiveComponent;return(0,u.jsxs)("div",{className:"animation-canvas",children:[(0,u.jsx)("div",{style:{width:"100%",height:200},children:(0,u.jsx)(h,{})}),(0,u.jsx)("div",{className:"text text-center",children:s(d)})]})}},41481:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),o=t(29439),l=t(45987),a=t(47313),r=t(66672),u=t(16031),c=t(40765),d=t(46417),s=["handleChange","defaultValue","resetSearch"];function v(e){var n=e.handleChange,t=e.defaultValue,v=e.resetSearch,h=(0,l.Z)(e,s),f=(0,a.useState)(t),p=(0,o.Z)(f,2),Z=p[0],m=p[1],x=(0,a.useMemo)((function(){return(0,u.debounce)((function(e){n(e)}),800)}),[n]);return(0,a.useEffect)((function(){m(t)}),[v,t]),(0,d.jsx)(r.Z,(0,i.Z)({value:Z,onChange:function(e){m(e.target.value),x(e.target.value)},prefix:(0,d.jsx)(c.Z,{})},h))}},89281:function(e,n,t){t.d(n,{h:function(){return h}});var i=t(1413),o=t(29439),l=t(45987),a=t(47313),r=t(12279),u=t.n(r),c=t(74294),d=t(72652),s=t(46417),v=["fetchOptions","debounceTimeout","onClear"],h=function(e){var n=e.fetchOptions,t=e.debounceTimeout,r=void 0===t?400:t,h=e.onClear,f=(0,l.Z)(e,v),p=(0,a.useState)(!1),Z=(0,o.Z)(p,2),m=Z[0],x=Z[1],g=(0,a.useState)([]),j=(0,o.Z)(g,2),b=j[0],y=j[1],w=(0,a.useMemo)((function(){return u()((function(e){y([]),x(!0),n(e).then((function(e){y(e),x(!1)}))}),r)}),[n,r]);return(0,s.jsx)(c.Z,(0,i.Z)((0,i.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:w,onClear:function(){w(""),h&&h()},notFoundContent:m?(0,s.jsx)(d.Z,{size:"small"}):"no results"},f),{},{options:b,onFocus:function(){w("")}}))}},13945:function(e,n,t){function i(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return i}})},11101:function(e,n,t){var i=t(34344),o={getAll:function(e){return i.Z.get("rest/brands/paginate",{params:e})},getById:function(e,n){return i.Z.get("rest/brands/".concat(e),{params:n})}};n.Z=o},29955:function(e,n,t){var i=t(34344),o={getAll:function(e){return i.Z.get("dashboard/seller/categories/paginate",{params:e})},getById:function(e,n){return i.Z.get("dashboard/seller/categories/".concat(e),{params:n})},search:function(e){return i.Z.get("dashboard/seller/categories/search",{params:e})},paginateSelect:function(e){return i.Z.get("dashboard/seller/categories/select-paginate",{params:e})}};n.Z=o},22807:function(e,n,t){t.r(n),t.d(n,{default:function(){return se}});var i=t(73591),o=t(24511),l=t(97890),a=t(15861),r=t(4942),u=t(93433),c=t(1413),d=t(29439),s=t(87757),v=t.n(s),h=t(47313),f=t(54757),p=t(12019),Z=t(66407),m=t(47515),x=t(55768),g=t(66204),j=t(45705),b=t(86345),y=t(59491),w=t(77181),_=t(78508),C=t(9274),k=t(23560),S=t(97421),I=t(74580),z=t(69658),O=t(2717),M=t(90954),N=t(18333),A=t(95882),V=t(13945),T=t(80314),P=t(41481),H=t(89281),F=t(11101),q=t(29955),L=t(55940),U=t(53233),K=t(3925),R=t(51988),$=t(92855),E=t(10976),W=t(68197),B=t(59624),D=t(46155),Q=t(4067),G=t(20776),J=t(49655),X=t(46417),Y=function(e){var n=e.handleClose,t=e.refetchProductList,i=(0,o.$)().t,l=E.Z.useForm(),a=(0,d.Z)(l,1)[0],r=(0,O.v9)((function(e){return e.myShop}),O.wU).myShop,u=(0,h.useState)({kitchen:!1}),s=(0,d.Z)(u,2),v=s[0],f=s[1],p=(0,h.useState)(!1),Z=(0,d.Z)(p,2),m=Z[0],x=Z[1];return(0,X.jsxs)(E.Z,{form:a,layout:"vertical",onFinish:function(e){var i,o,l={category_ids:null===e||void 0===e||null===(i=e.categories)||void 0===i?void 0:i.map((function(e){return null===e||void 0===e?void 0:e.value})),kitchen_id:null===e||void 0===e||null===(o=e.kitchen)||void 0===o?void 0:o.value};x(!0),N.Z.updateKitchens(l).then((function(){t(),n()})).finally((function(){x(!1)}))},children:[(0,X.jsxs)(W.Z,{gutter:12,children:[(0,X.jsx)(B.Z,{span:24,children:(0,X.jsx)(E.Z.Item,{label:i("categories"),name:"categories",rules:[{required:!0,message:i("required")}],children:(0,X.jsx)(G.o,{multiple:!0,refetch:!0,fetchOptions:function(e){var n={perPage:20,type:"main",search:null!==e&&void 0!==e&&e.length?e:void 0,"statuses[0]":"pending","statuses[1]":"published",active:1,shop_id:null===r||void 0===r?void 0:r.id};return q.Z.paginateSelect(n).then((function(e){return e.data.map((function(e){var n,t,o;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||i("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id,disabled:!(null===e||void 0===e||null===(t=e.children)||void 0===t||!t.length),children:null===e||void 0===e||null===(o=e.children)||void 0===o?void 0:o.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||i("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}}))}))}})})}),(0,X.jsx)(B.Z,{span:24,children:(0,X.jsx)(E.Z.Item,{label:i("kitchen"),name:"kitchen",rules:[{required:!0}],children:(0,X.jsx)(J._,{fetchOptions:function(e){e.page;var n=e.search,t=void 0===n?"":n,o={search:null!==t&&void 0!==t&&t.length?t:void 0,page:1,active:1};return Q.Z.getAll(o).then((function(e){var n,t,o;return f((0,c.Z)((0,c.Z)({},v),{},{kitchen:(null===e||void 0===e||null===(n=e.meta)||void 0===n?void 0:n.current_page)<(null===e||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.last_page)})),null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.map((function(e){var n;return{label:(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.id)||i("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},allowClear:!1,hasMore:v.kitchen})})})]}),(0,X.jsx)(D.Z,{}),(0,X.jsxs)(j.Z,{children:[(0,X.jsx)(y.Z,{onClick:n,children:i("cancel")}),(0,X.jsx)(y.Z,{htmlType:"submit",type:"primary",loading:m,children:i("submit")})]})]})},ee=i.Z.TabPane,ne=["blue","red","gold","volcano","cyan","lime"],te=["all","published","pending","unpublished","deleted_at"],ie=function(){var e,n,t,s,E,W,B,D,Q,G,J=(0,o.$)().t,ie=(0,O.I0)(),oe=(0,l.s0)(),le=(0,h.useState)(null),ae=(0,d.Z)(le,2),re=ae[0],ue=ae[1],ce=(0,h.useState)("all"),de=(0,d.Z)(ce,2),se=de[0],ve=de[1],he=(0,h.useState)(null),fe=(0,d.Z)(he,2),pe=fe[0],Ze=fe[1],me=(0,h.useState)(!1),xe=(0,d.Z)(me,2),ge=xe[0],je=xe[1],be=(0,h.useState)(""),ye=(0,d.Z)(be,2),we=ye[0],_e=ye[1],Ce=function(){ie((0,M.nc)({activeMenu:Be,data:null}))},ke=(0,h.useState)([{title:J("id"),dataIndex:"id",is_show:!0,sorter:function(e,n){return e.id-n.id}},{title:J("image"),dataIndex:"img",is_show:!0,render:function(e,n){return(0,X.jsx)($.Z,{image:e,row:n})}},{title:J("name"),dataIndex:"name",is_show:!0},{title:J("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e){return(0,X.jsx)("div",{children:"pending"===e?(0,X.jsx)(g.Z,{color:"blue",children:J(e)}):"unpublished"===e?(0,X.jsx)(g.Z,{color:"error",children:J(e)}):(0,X.jsx)(g.Z,{color:"cyan",children:J(e)})})}},{title:J("translations"),dataIndex:"locales",is_show:!0,render:function(e,n){var t;return(0,X.jsx)(j.Z,{children:null===(t=n.locales)||void 0===t?void 0:t.map((function(e,n){return(0,X.jsx)(g.Z,{className:"text-uppercase",color:[ne[n]],children:e})}))})}},{title:J("shop"),dataIndex:"shop_id",is_show:!0,render:function(e,n){var t,i;return null===n||void 0===n||null===(t=n.shop)||void 0===t||null===(i=t.translation)||void 0===i?void 0:i.title}},{title:J("category"),dataIndex:"category_name",is_show:!0},{title:J("kitchen"),dataIndex:"kitchen",key:"kitchen",is_show:!0,render:function(e){var n;return(null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title)||(null===e||void 0===e?void 0:e.id)||J("N/A")}},{title:J("active"),dataIndex:"active",is_show:!0,render:function(e,n){return(0,X.jsx)(b.Z,{onChange:function(){Oe(!0),Ze(n.uuid),ue(!0)},disabled:n.deleted_at,checked:e})}},{title:J("options"),dataIndex:"options",is_show:!0,render:function(e,n){return(0,X.jsxs)(j.Z,{children:["unpublished"===(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:n.status_note)&&(0,X.jsx)(y.Z,{icon:(0,X.jsx)(f.Z,{}),onClick:function(){console.log(n),je(!0),_e(n.status_note)}}),(0,X.jsx)(y.Z,{type:"primary",icon:(0,X.jsx)(p.Z,{}),onClick:function(){return function(e){ie((0,M.bL)({id:"product-edit",url:"seller/product/".concat(e.uuid),name:J("edit.food")})),Ce(),oe("/seller/product/".concat(e.uuid))}(n)},disabled:n.deleted_at}),(0,X.jsx)(y.Z,{icon:(0,X.jsx)(Z.Z,{}),onClick:function(){return function(e){ie((0,M.bL)({id:"product-clone",url:"seller/product-clone/".concat(e.uuid),name:J("clone.product")})),Ce(),oe("/seller/product-clone/".concat(e.uuid))}(n)},disabled:n.deleted_at}),(0,X.jsx)(L.Z,{icon:(0,X.jsx)(m.Z,{}),onClick:function(){Oe(!0),Ze([n.id]),We(!0),ue(!1)},disabled:n.deleted_at})]})}}]),Se=(0,d.Z)(ke,2),Ie=Se[0],ze=Se[1],Oe=(0,h.useContext)(I._).setIsModalVisible,Me=(0,h.useState)(!1),Ne=(0,d.Z)(Me,2),Ae=Ne[0],Ve=Ne[1],Te=(0,h.useState)(!1),Pe=(0,d.Z)(Te,2),He=Pe[0],Fe=Pe[1],qe=(0,h.useState)(!1),Le=(0,d.Z)(qe,2),Ue=Le[0],Ke=Le[1],Re=(0,h.useState)(null),$e=(0,d.Z)(Re,2),Ee=$e[0],We=$e[1],Be=(0,O.v9)((function(e){return e.menu}),O.wU).activeMenu,De=(0,O.v9)((function(e){return e.product}),O.wU),Qe=De.products,Ge=De.meta,Je=De.loading,Xe=De.params,Ye=(0,O.v9)((function(e){return e.myShop}),O.wU).myShop,en=(null===(e=Be.data)||void 0===e?void 0:e.role)||se,nn=Be.data,tn={search:null===nn||void 0===nn?void 0:nn.search,brand_id:null===nn||void 0===nn||null===(n=nn.brand)||void 0===n?void 0:n.value,category_id:null===nn||void 0===nn||null===(t=nn.category)||void 0===t?void 0:t.value,status:"deleted_at"===en||"all"===en?void 0:en,deleted_at:"deleted_at"===en?en:void 0,sort:null===nn||void 0===nn?void 0:nn.sort,column:null===nn||void 0===nn?void 0:nn.column,perPage:null===nn||void 0===nn?void 0:nn.perPage,page:null===nn||void 0===nn?void 0:nn.page};(0,T.Z)((function(){ie((0,A.MW)(tn)),ie((0,M.A_)(Be))}),[Be.data]),(0,h.useEffect)((function(){Be.refetch&&(ie((0,A.MW)(tn)),ie((0,M.A_)(Be)))}),[Be.refetch]);function on(){return on=(0,a.Z)(v().mark((function e(n){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={shop_id:null===Ye||void 0===Ye?void 0:Ye.id,search:n},e.abrupt("return",F.Z.getAll(t).then((function(e){return e.data.map((function(e){return{label:e.title,value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),on.apply(this,arguments)}function ln(){return ln=(0,a.Z)(v().mark((function e(n){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:0===n.length?null:n,type:"main",perPage:5},e.abrupt("return",q.Z.search(t).then((function(e){return e.data.map((function(e){var n;return{label:null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id}}))})));case 2:case"end":return e.stop()}}),e)}))),ln.apply(this,arguments)}var an=function(e){var n=Be.data;ie((0,M.nc)({activeMenu:Be,data:(0,c.Z)((0,c.Z)({},n),e)}))},rn={selectedRowKeys:pe,onChange:function(e){Ze(e)}};return(0,X.jsxs)(h.Fragment,{children:[(0,X.jsx)(w.Z,{children:(0,X.jsxs)(j.Z,{wrap:!0,children:[(0,X.jsx)(P.Z,{placeholder:J("search"),handleChange:function(e){return an({search:e})},defaultValue:null===(s=Be.data)||void 0===s?void 0:s.search,resetSearch:!(null!==(E=Be.data)&&void 0!==E&&E.search),style:{width:200}}),(0,X.jsx)(H.h,{placeholder:J("select.category"),fetchOptions:function(e){return ln.apply(this,arguments)},style:{width:200},onChange:function(e){return an({category:e})},value:null===(W=Be.data)||void 0===W?void 0:W.category}),(0,X.jsx)(H.h,{placeholder:J("select.brand"),fetchOptions:function(e){return on.apply(this,arguments)},style:{width:200},onChange:function(e){return an({brand:e})},value:null===(B=Be.data)||void 0===B?void 0:B.brand})]})}),(0,X.jsx)(w.Z,{children:(0,X.jsxs)(j.Z,{wrap:!0,children:[(0,X.jsx)(U.Z,{columns:Ie,setColumns:ze}),(0,X.jsxs)(y.Z,{onClick:function(){ie((0,M.bL)({id:"seller-product-import",url:"seller/product/import",name:J("food.import")})),oe("/seller/product/import")},children:[(0,X.jsx)(K.o5r,{className:"mr-2"}),J("import")]}),(0,X.jsxs)(y.Z,{loading:Ue,onClick:function(){var e,n,t,i;Ke(!0);var o={shop_id:null===Ye||void 0===Ye?void 0:Ye.id,category_id:null===Be||void 0===Be||null===(e=Be.data)||void 0===e||null===(n=e.category)||void 0===n?void 0:n.value,brand_id:null===Be||void 0===Be||null===(t=Be.data)||void 0===t||null===(i=t.brand)||void 0===i?void 0:i.value};N.Z.export(o).then((function(e){window.location.href=S.S0+e.data.file_name})).finally((function(){return Ke(!1)}))},children:[(0,X.jsx)(K.bwQ,{className:"mr-2"}),J("export")]}),(0,X.jsx)(L.Z,{size:"",onClick:function(){null===pe||0===pe.length?k.Am.warning(J("select.the.product")):(Oe(!0),We(!1))},children:J("delete.selected")}),(0,X.jsx)(y.Z,{onClick:function(){return Ve(!0)},children:J("update.kitchens")}),(0,X.jsx)(y.Z,{icon:(0,X.jsx)(x.Z,{}),type:"primary",onClick:function(){ie((0,M.bL)({id:"product-add",url:"seller/product/add",name:J("add.food")})),Ce(),oe("/seller/product/add")},children:J("add.product")})]})}),(0,X.jsxs)(w.Z,{children:[(0,X.jsx)(i.Z,{className:"mt-3",activeKey:en,onChange:function(e){an({role:e,page:1}),ve(e)},type:"card",children:te.map((function(e){return(0,X.jsx)(ee,{tab:J(e)},e)}))}),(0,X.jsx)(_.Z,{locale:{emptyText:(0,X.jsx)(R.Z,{})},scroll:{x:!0},rowSelection:rn,loading:Je,columns:null===Ie||void 0===Ie?void 0:Ie.filter((function(e){return e.is_show})),dataSource:Qe,pagination:{pageSize:Xe.perPage,page:(null===(D=Be.data)||void 0===D?void 0:D.page)||1,total:Ge.total,defaultCurrent:null===(Q=Be.data)||void 0===Q?void 0:Q.page,current:null===(G=Be.data)||void 0===G?void 0:G.page},onChange:function(e,n,t){var i=e.pageSize,o=e.current,l=t.field,a=t.order,r=(0,V.Z)(a);ie((0,M.nc)({activeMenu:Be,data:(0,c.Z)((0,c.Z)({},Be.data),{},{perPage:i,page:o,column:l,sort:r})}))},rowKey:function(e){return e.id}})]}),(0,X.jsx)(z.Z,{click:re?function(){Fe(!0),N.Z.setActive(pe).then((function(){Oe(!1),ie((0,A.MW)(tn)),k.Am.success(J("successfully.updated")),ue(!0)})).finally((function(){return Fe(!1)}))}:function(){Fe(!0);var e=(0,c.Z)({},Object.assign.apply(Object,[{}].concat((0,u.Z)(pe.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));N.Z.delete(e).then((function(){Oe(!1),k.Am.success(J("successfully.deleted")),ie((0,A.MW)(e))})).finally((function(){return Fe(!1)}))},text:J(re?"set.active.food":Ee?"delete":"all.delete"),loading:He,setText:Ze,setActive:ue}),(0,X.jsxs)(C.Z,{title:"Reject message",closable:!1,visible:ge,footer:null,centered:!0,children:[(0,X.jsx)("p",{children:we}),(0,X.jsx)("div",{className:"d-flex justify-content-end",children:(0,X.jsx)(y.Z,{type:"primary",className:"mr-2",onClick:function(){return je(!1)},children:"Close"})})]}),Ae&&(0,X.jsx)(C.Z,{visible:Ae,onCancel:function(){return Ve(!1)},footer:!1,title:J("update.kitchens"),children:(0,X.jsx)(Y,{handleClose:function(){Ve(!1)},refetchProductList:function(){ie((0,M.xo)(Be))}})})]})},oe=t(26824),le=t(45464),ae=t(71810),re=t(4901),ue=t(81218),ce={type:"product"};function de(e){var n,t,i,a=e.parentId,s=(0,o.$)().t,v=(0,h.useContext)(I._).setIsModalVisible,Z=(0,h.useState)(!1),x=(0,d.Z)(Z,2),b=x[0],S=x[1],N=(0,h.useState)(!1),A=(0,d.Z)(N,2),P=A[0],H=A[1],F=(0,h.useState)(""),q=(0,d.Z)(F,2),L=q[0],K=q[1],R=(0,h.useState)(null),$=(0,d.Z)(R,2),E=$[0],W=$[1],B=(0,O.I0)(),D=(0,l.s0)(),Q=(0,O.v9)((function(e){return e.menu}),O.wU).activeMenu,G=(0,O.v9)((function(e){return e.requestModels}),O.wU),J=G.data,Y=G.meta,ee=G.loading,ne=G.params,te=Q.data,ie=(0,l.UO)().uuid,de={search:null===te||void 0===te?void 0:te.search,sort:null===te||void 0===te?void 0:te.sort,column:null===te||void 0===te?void 0:te.column,perPage:null===te||void 0===te?void 0:te.perPage,page:null===te||void 0===te?void 0:te.page,parent_id:a,type:"product"},se=(0,h.useState)([{title:s("name"),dataIndex:"name",key:"name",is_show:!0,render:function(e,n){var t,i,o;return(0,X.jsxs)(j.Z,{children:[null===(t=n.model)||void 0===t?void 0:t.translation.title," ",(0,X.jsx)(re.WFu,{})," ",n.data["title[".concat(null===(i=n.model)||void 0===i||null===(o=i.translation)||void 0===o?void 0:o.locale,"]")]]})}},{title:s("image"),dataIndex:"img",key:"img",is_show:!0,render:function(e,n){var t,i,o,l;return(0,X.jsxs)(j.Z,{children:[(0,X.jsx)(oe.Z,{src:(0,le.Z)(null===(t=n.model)||void 0===t?void 0:t.img),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0}),(0,X.jsx)(re.WFu,{}),(0,X.jsx)(oe.Z,{src:(0,le.Z)((null===(i=n.data.images)||void 0===i||null===(o=i.at(0))||void 0===o?void 0:o.url)||(null===(l=n.data.images)||void 0===l?void 0:l.at(0))),alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0})]})}},{title:s("status"),is_show:!0,dataIndex:"status",key:"status",render:function(e,n){return(0,X.jsx)("div",{children:"pending"===e?(0,X.jsx)(g.Z,{color:"blue",children:s(e)}):"canceled"===e?(0,X.jsx)(g.Z,{color:"error",children:s(e)}):(0,X.jsx)(g.Z,{color:"cyan",children:s(e)})})}},{title:s("options"),key:"options",dataIndex:"options",is_show:!0,render:function(e,n){return(0,X.jsxs)(j.Z,{children:["canceled"===(null===n||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:n.status_note)&&(0,X.jsx)(y.Z,{icon:(0,X.jsx)(f.Z,{}),onClick:function(){H(!0),K(n.status_note)}}),(0,X.jsx)(y.Z,{icon:(0,X.jsx)(p.Z,{}),onClick:function(){return function(e){B((0,M.bL)({url:"seller/product-request/".concat(e.id),id:"product_request_edit",name:s("product.request.edit")})),D("/seller/product-request/".concat(e.id),{state:{parentId:a,parentUuid:ie}})}(n)}}),(0,X.jsx)(y.Z,{danger:!0,icon:(0,X.jsx)(m.Z,{}),type:"primary",onClick:function(){W([n.id]),v(!0)}})]})}}]),ve=(0,d.Z)(se,2),he=ve[0],fe=ve[1];(0,h.useEffect)((function(){B((0,ae._7)(de)),B((0,M.A_)(Q))}),[Q.refetch]),(0,T.Z)((function(){B((0,ae._7)(de))}),[Q.data]);var pe={selectedRowKeys:E,onChange:function(e){W(e)}};return(0,X.jsxs)(w.Z,{title:s("requests"),extra:(0,X.jsx)(j.Z,{wrap:!0,children:(0,X.jsx)(U.Z,{columns:he,setColumns:fe})}),children:[(0,X.jsx)(_.Z,{scroll:{x:!0},rowSelection:pe,columns:null===he||void 0===he?void 0:he.filter((function(e){return e.is_show})),dataSource:J,pagination:{pageSize:ne.perPage,page:(null===(n=Q.data)||void 0===n?void 0:n.page)||1,total:Y.total,defaultCurrent:null===(t=Q.data)||void 0===t?void 0:t.page,current:null===(i=Q.data)||void 0===i?void 0:i.page},rowKey:function(e){return e.key},onChange:function(e,n,t){var i=e.pageSize,o=e.current,l=t.field,a=t.order,r=(0,V.Z)(a);B((0,M.nc)({activeMenu:Q,data:(0,c.Z)((0,c.Z)({},Q.data),{},{perPage:i,page:o,column:l,sort:r})}))},loading:ee}),(0,X.jsx)(z.Z,{click:function(){S(!0);var e=(0,c.Z)({},Object.assign.apply(Object,[{}].concat((0,u.Z)(E.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));ue.Z.delete(e).then((function(){k.Am.success(s("successfully.deleted")),B((0,ae._7)(ce)),v(!1)})).finally((function(){return S(!1)}))},text:s("delete"),setText:W,loading:b}),(0,X.jsxs)(C.Z,{title:s("reject.message"),closable:!1,visible:P,footer:null,centered:!0,children:[(0,X.jsx)("p",{children:L}),(0,X.jsx)("div",{className:"d-flex justify-content-end",children:(0,X.jsx)(y.Z,{type:"primary",className:"mr-2",onClick:function(){return H(!1)},children:s("close")})})]})]})}function se(){var e,n=(0,o.$)().t,t=(0,l.TH)();return(0,X.jsxs)(i.Z,{defaultActiveKey:(null===(e=t.state)||void 0===e?void 0:e.tab)||"list",destroyInactiveTabPane:!0,children:[(0,X.jsx)(i.Z.TabPane,{tab:n("product.list"),children:(0,X.jsx)(ie,{})},"list"),(0,X.jsx)(i.Z.TabPane,{tab:n("requests"),children:(0,X.jsx)(de,{})},"request")]})}},55768:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(1413),o=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=t(17469),r=function(e,n){return o.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:l}))};r.displayName="PlusCircleOutlined";var u=o.forwardRef(r)},99587:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(1413),o=t(47313),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},a=t(17469),r=function(e,n){return o.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:n,icon:l}))};r.displayName="TableOutlined";var u=o.forwardRef(r)}}]);