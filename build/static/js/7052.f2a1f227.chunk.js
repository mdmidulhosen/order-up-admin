(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7052],{33834:function(e,n,t){"use strict";t.d(n,{K:function(){return o}});var a=t(4942),i=t(1413),r=t(97890),l=t(74776),s=t.n(l),o=function(){var e=(0,r.s0)(),n=(0,r.TH)(),t=s().parse(n.search,{ignoreQueryPrefix:!0});return{values:t,set:function(n,r){return e({search:s().stringify((0,i.Z)((0,i.Z)({},t),{},(0,a.Z)({},n,r)))})},reset:function(n){var a=(0,i.Z)({},t);a[n]&&delete a[n],e({search:s().stringify((0,i.Z)({},a))})},clear:function(){return e({search:s().stringify({})})},merge:function(n){return e({search:s().stringify((0,i.Z)((0,i.Z)({},t),n))})},get:function(e){return t[e]},setMultiple:function(n){var a=(0,i.Z)((0,i.Z)({},t),n);e({search:s().stringify(a)})},resetMultiple:function(n){var a=(0,i.Z)({},t);n.forEach((function(e){a[e]&&delete a[e]})),e({search:s().stringify(a)})}}}},19321:function(e,n,t){"use strict";t.r(n);var a=t(93433),i=t(4942),r=t(1413),l=t(29439),s=t(47313),o=t(2717),u=t(73431),d=t(24511),c=t(83999),v=t(77181),m=t(33834),p=t(90954),f=t(49067),h=t(97890),Z=t(51282),g=t(68150),x=t(68668),j=t(30008),y=t(84427),w=t(20131),_=t(46417),b=c.Z.Step;n.default=function(){var e,n=(0,d.$)().t,t=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu,S=(0,m.K)(),k=Number((null===(e=S.values)||void 0===e?void 0:e.step)||0),q=(0,s.useState)(t.refetch),F=(0,l.Z)(q,2),I=F[0],N=F[1],C=(0,o.I0)(),M=(0,h.UO)().uuid,P=(0,o.v9)((function(e){return e.formLang}),o.wU).languages,T=function(){var e=k+1;S.set("step",e)},U=function(){var e=k-1;S.set("step",e)},B=function(e){N(!0),f.Z.getById(e).then((function(e){var l,s,o,u,d,c,v,m,f,h,Z,g,x,j,y,w=(0,r.Z)((0,r.Z)((0,r.Z)({},e.data),function(e){if(null===e||void 0===e||!e.translations)return{};var n=e.translations,t=P.map((function(e){var t,a,r,l;return l={},(0,i.Z)(l,"title[".concat(e.locale,"]"),null===(t=n.find((function(n){return n.locale===e.locale})))||void 0===t?void 0:t.title),(0,i.Z)(l,"description[".concat(e.locale,"]"),null===(a=n.find((function(n){return n.locale===e.locale})))||void 0===a?void 0:a.description),(0,i.Z)(l,"address[".concat(e.locale,"]"),null===(r=n.find((function(n){return n.locale===e.locale})))||void 0===r?void 0:r.address),l}));return Object.assign.apply(Object,[{}].concat((0,a.Z)(t)))}(e.data)),{},{logo_img:E(e.data.logo_img),background_img:E(e.data.background_img),user:{label:e.data.seller.firstname+" "+e.data.seller.lastname,value:e.data.seller.id},delivery_time_from:(null===(l=e.data)||void 0===l||null===(s=l.delivery_time)||void 0===s?void 0:s.from)||0,delivery_time_to:(null===(o=e.data)||void 0===o?void 0:o.delivery_time.to)||0,delivery_time_type:null===(u=e.data)||void 0===u?void 0:u.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(d=e.data)||void 0===d||null===(c=d.categories)||void 0===c?void 0:c.map((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,key:e.id}})),tags:null===(v=e.data)||void 0===v||null===(m=v.tags)||void 0===m?void 0:m.map((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:e.id,key:e.id}})),price:(null===(f=e.data)||void 0===f?void 0:f.price)||0,price_per_km:(null===(h=e.data)||void 0===h?void 0:h.price_per_km)||0,min_amount:(null===(Z=e.data)||void 0===Z?void 0:Z.min_amount)||0,tax:(null===(g=e.data)||void 0===g?void 0:g.tax)||0,percentage:(null===(x=e.data)||void 0===x?void 0:x.percentage)||0,emailStatuses:null===e||void 0===e||null===(j=e.data)||void 0===j||null===(y=j.email_statuses)||void 0===y?void 0:y.map((function(e){return{label:n(e),value:e,key:e}}))});C((0,p.nc)({activeMenu:t,data:w}))})).finally((function(){N(!1),C((0,p.A_)(t))}))},E=function(e){return{items:e,uid:e,url:e,name:e}};return(0,s.useEffect)((function(){t.refetch&&M&&B(M)}),[t.refetch,k,M]),(0,_.jsxs)(v.Z,{title:n("shop.edit"),extra:(0,_.jsx)(u.Z,{}),children:[(0,_.jsx)(c.Z,{current:k,onChange:function(e){C((0,p.nc)({activeMenu:t,data:(0,r.Z)((0,r.Z)({},t.data),{},{step:e})})),S.set("step",e)},children:x.S.map((function(e){return(0,_.jsx)(b,{title:n(e.title)},e.title)}))}),I?(0,_.jsx)(Z.Z,{}):(0,_.jsxs)("div",{className:"steps-content",children:["First-content"===x.S[k].content&&(0,_.jsx)(j.Z,{next:T,loading:I,action_type:"edit",user:!1}),"Second-content"===x.S[k].content&&(0,_.jsx)(g.Z,{next:T,prev:U}),"Third-content"===x.S[k].content&&(0,_.jsx)(w.Z,{next:T,prev:U}),"Four-content"===x.S[k].content&&(0,_.jsx)(y.Z,{next:T,prev:U})]})]})}},68668:function(e,n,t){"use strict";t.d(n,{S:function(){return a}});var a=[{title:"shop",content:"First-content"},{title:"map",content:"Second-content"},{title:"delivery",content:"Third-content"},{title:"user",content:"Four-content"}]},84427:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var a=t(1413),i=t(29439),r=t(47313),l=t(10976),s=t(97890),o=t(2717),u=t(49986),d=t(23560),c=t(90954),v=t(24511),m=t(51282),p=t(68197),f=t(59624),h=t(66672),Z=t(16124),g=t(45705),x=t(59491),j=t(46417),y=function(e){var n=e.prev,t=e.loadingBtn,a=e.error,i=(0,v.$)().t;return(0,j.jsxs)(p.Z,{gutter:12,children:[(0,j.jsx)(f.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:i("firstname"),name:"firstname",help:null!==a&&void 0!==a&&a.firstname?a.firstname[0]:null,validateStatus:null!==a&&void 0!==a&&a.firstname?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,j.jsx)(h.Z,{className:"w-100"})})}),(0,j.jsx)(f.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:i("lastname"),name:"lastname",help:null!==a&&void 0!==a&&a.lastname?a.lastname[0]:null,validateStatus:null!==a&&void 0!==a&&a.lastname?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,j.jsx)(h.Z,{className:"w-100"})})}),(0,j.jsx)(f.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:i("phone"),name:"phone",help:null!==a&&void 0!==a&&a.phone?a.phone[0]:null,validateStatus:null!==a&&void 0!==a&&a.phone?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,j.jsx)(Z.Z,{min:0,className:"w-100"})})}),(0,j.jsx)(f.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:i("email"),name:"email",help:null!==a&&void 0!==a&&a.email?a.email[0]:null,validateStatus:null!==a&&void 0!==a&&a.email?"error":"success",rules:[{required:!0,message:i("required")}],children:(0,j.jsx)(h.Z,{type:"email",className:"w-100"})})}),(0,j.jsx)(f.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:i("password"),name:"password",help:null!==a&&void 0!==a&&a.password?a.password[0]:null,validateStatus:null!==a&&void 0!==a&&a.password?"error":"success",rules:[{required:!1,message:i("required")},{type:"string",min:6,message:i("min.6.letters")}],normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,j.jsx)(h.Z.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,j.jsx)(f.Z,{span:12,children:(0,j.jsx)(l.Z.Item,{label:i("password.confirmation"),help:null!==a&&void 0!==a&&a.password_confirmation?a.password_confirmation[0]:null,validateStatus:null!==a&&void 0!==a&&a.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:i("required")},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("password")!==t?Promise.reject(i("passwords.do.not.match")):Promise.resolve()}}}],normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,j.jsx)(h.Z.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,j.jsx)(f.Z,{span:24,children:(0,j.jsxs)(g.Z,{children:[(0,j.jsx)(x.Z,{type:"primary",htmlType:"submit",loading:t,children:i("save")}),(0,j.jsx)(x.Z,{htmlType:"submit",onClick:function(){return n()},children:i("prev")})]})})]})},w=t(44528);function _(e){e.prev;var n=(0,v.$)().t,t=(0,o.v9)((function(e){return e.menu}),o.wU).activeMenu,p=(0,o.I0)(),f=(0,s.s0)(),h=(0,r.useState)(null),Z=(0,i.Z)(h,2),g=Z[0],x=Z[1],_=(0,r.useState)(!1),b=(0,i.Z)(_,2),S=b[0],k=b[1],q=(0,r.useState)(!1),F=(0,i.Z)(q,2),I=F[0],N=F[1],C=l.Z.useForm(),M=(0,i.Z)(C,1)[0];return(0,r.useEffect)((function(){var e,n,a;return(a=null===t||void 0===t||null===(e=t.data)||void 0===e||null===(n=e.seller)||void 0===n?void 0:n.uuid)&&(N(!0),u.Z.getById(a).then((function(e){var n=e.data;M.setFieldsValue({firstname:n.firstname,lastname:n.lastname,email:n.email,phone:n.phone,password_confirmation:n.password_confirmation,password:n.password})})).finally((function(){return N(!1)}))),function(){N(!1),k(!1)}}),[]),(0,j.jsx)(j.Fragment,{children:I?(0,j.jsx)(m.Z,{}):(0,j.jsx)(l.Z,{form:M,layout:"vertical",initialValues:(0,a.Z)({},t.data),onFinish:function(e){var i,r;k(!0);var l={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},s="shops";u.Z.update(null===t||void 0===t||null===(i=t.data)||void 0===i||null===(r=i.seller)||void 0===r?void 0:r.uuid,l).then((function(){d.Am.success(n("successfully.updated")),f("/".concat(s)),p((0,w.N)({perPage:10,page:1})),p((0,c.ph)((0,a.Z)((0,a.Z)({},t),{},{nextUrl:s})))})).catch((function(e){return x(e.response.data.params)})).finally((function(){return k(!1)}))},className:"py-4",children:(0,j.jsx)(y,{error:g,loadingBtn:S})})})}},24654:function(){}}]);