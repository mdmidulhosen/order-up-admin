"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4972],{73431:function(n,t,e){var o=e(47313),a=e(39180),i=e(2717),r=e(28830),l=e(60535),u=e(46417);t.Z=function(){var n=(0,i.I0)(),t=(0,i.v9)((function(n){return n.formLang}),i.wU),e=t.languages,c=t.defaultLang;(0,o.useEffect)((function(){l.Z.getAllActive().then((function(t){var e=t.data;n((0,r.dc)(e)),n((0,r.mh)(e.find((function(n){return!(null===n||void 0===n||!n.default)})).locale))}))}),[]);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.ZP.Group,{value:c,onChange:function(t){var e=t.target.value;n((0,r.mh)(e))},className:"float-right",buttonStyle:"solid",children:null===e||void 0===e?void 0:e.map((function(n){return(0,u.jsx)(a.ZP.Button,{value:n.locale,children:n.title},n.id)}))})})}},97388:function(n,t,e){e.d(t,{Z:function(){return j}});var o=e(15861),a=e(29439),i=e(87757),r=e.n(i),l=e(47313),u=e(16609),c=e.p+"static/media/pin.0e41858db80c699cd8a2.png",s=e(31881),d=e.n(s),f=e(97421);function v(n){return g.apply(this,arguments)}function g(){return g=(0,o.Z)(r().mark((function n(t){var e,o,a=arguments;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>1&&void 0!==a[1]?a[1]:f.kr,o={latlng:"".concat(null===t||void 0===t?void 0:t.lat,",").concat(null===t||void 0===t?void 0:t.lng),key:e},n.abrupt("return",d().get("https://maps.googleapis.com/maps/api/geocode/json",{params:o}).then((function(n){var t;return null===(t=n.data.results[0])||void 0===t?void 0:t.formatted_address})).catch((function(n){return"not found"})));case 3:case"end":return n.stop()}}),n)}))),g.apply(this,arguments)}var m=e(5958),p=e(23560),h=e(24511),Z=e(307),x=e(46417),b=(0,Z.Z)();var j=(0,u.GoogleApiWrapper)({apiKey:b,libraries:["places","geometry"]})((function(n){var t,e,i=(0,l.useState)(),s=(0,a.Z)(i,2),d=s[0],f=s[1],g=(0,h.$)().t,Z=function(){var t=(0,o.Z)(r().mark((function t(e,o,a){var i,l,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.latLng,l={lat:i.lat(),lng:i.lng()},n.setLocation(l),t.next=5,v(l,b);case 5:u=t.sent,n.setAddress(u);case 7:case"end":return t.stop()}}),t)})));return function(n,e,o){return t.apply(this,arguments)}}(),j=function(){var t=(0,o.Z)(r().mark((function t(e){var o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={lat:null===e||void 0===e?void 0:e.lat,lng:null===e||void 0===e?void 0:e.lng},n.setLocation(o),t.next=4,v(o,b);case 4:a=t.sent,n.setAddress(a);case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),y=function(){var n=(0,o.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.geolocation.getCurrentPosition((function(n){var t={lat:n.coords.latitude,lng:n.coords.longitude};f(t)}),(function(n){p.Am.warning(g("turn.on.gps"))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){y()}),[]);for(var w=[{lat:Number(null===n||void 0===n||null===(t=n.location)||void 0===t?void 0:t.lat)||0,lng:Number(null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.lng)||0}],k=new n.google.maps.LatLngBounds,N=0;N<w.length;N++)k.extend(w[N]);return(0,x.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,x.jsx)("button",{className:"map-button",type:"button",onClick:function(){y(),d&&j(d)},children:(0,x.jsx)(m.nDs,{})}),(0,x.jsx)(u.Map,{cursor:"pointer",onClick:Z,google:n.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:n.location,center:n.location,children:(0,x.jsx)(u.Marker,{position:n.location,icon:{url:c,scaledSize:new n.google.maps.Size(32,32)},className:"marker"})})]})}))},17649:function(n,t,e){e.d(t,{Z:function(){return o}});e(97421);function o(n){if(null===n||void 0===n||!n.location)return{lat:47.4143302506288,lng:8.532059477976883};var t=n.location.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}},307:function(n,t,e){var o=e(67968),a=e(97421);t.Z=function(){var n,t;return(null===(n=o.h.getState())||void 0===n||null===(t=n.globalSettings)||void 0===t?void 0:t.settings).google_map_key||a.kr}},75336:function(n,t,e){e.d(t,{Z:function(){return i}});var o=e(93433),a=e(4942);function i(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title",i=null===n||void 0===n?void 0:n.map((function(n){return(0,a.Z)({},null===n||void 0===n?void 0:n.locale,t["".concat(e,"[").concat(null===n||void 0===n?void 0:n.locale,"]")]?t["".concat(e,"[").concat(null===n||void 0===n?void 0:n.locale,"]")]:void 0)}));return Object.assign.apply(Object,[{}].concat((0,o.Z)(i)))}},77020:function(n,t,e){e.r(t);var o=e(1413),a=e(29439),i=e(47313),r=e(97890),l=e(23560),u=e(10976),c=e(77181),s=e(2717),d=e(90954),f=e(24511),v=e(75336),g=e(73431),m=e(16611),p=e(44337),h=e(88551),Z=e(46417);t.default=function(){var n=(0,f.$)().t,t=(0,s.v9)((function(n){return n.menu}),s.wU).activeMenu,e=(0,s.I0)(),x=u.Z.useForm(),b=(0,a.Z)(x,1)[0],j=(0,r.s0)(),y=(0,s.v9)((function(n){return n.formLang}),s.wU).languages;(0,i.useEffect)((function(){return function(){var n=b.getFieldsValue(!0);n.open_time=JSON.stringify(null===n||void 0===n?void 0:n.open_time),n.close_time=JSON.stringify(null===n||void 0===n?void 0:n.close_time),e((0,d.nc)({activeMenu:t,data:n}))}}),[]);return(0,Z.jsx)(c.Z,{title:n("add.branch"),className:"h-100",extra:(0,Z.jsx)(g.Z,{}),children:(0,Z.jsx)(h.Z,{form:b,handleSubmit:function(a){var i={title:(0,v.Z)(y,a,"title"),address:{address:a.address,office:null,house:null,floor:null},location:{longitude:a.location.lng,latitude:a.location.lat}},r="seller/branch";return p.Z.create(i).then((function(){l.Am.success(n("successfully.created")),(0,s.dC)((function(){e((0,d.ph)((0,o.Z)((0,o.Z)({},t),{},{nextUrl:r}))),e((0,m._)({}))})),j("/".concat(r))}))}})})}},88551:function(n,t,e){e.d(t,{Z:function(){return x}});var o=e(1413),a=e(29439),i=e(4942),r=e(47313),l=e(10976),u=e(68197),c=e(59624),s=e(66672),d=e(59491),f=e(97388),v=e(24511),g=e(2717),m=e(17649),p=e(47168),h=e(97421),Z=e(46417);function x(n){var t,e,x=n.form,b=n.handleSubmit,j=(0,v.$)().t,y=(0,g.v9)((function(n){return n.menu}),g.wU).activeMenu,w=(0,g.v9)((function(n){return n.formLang}),g.wU),k=w.languages,N=w.defaultLang,S=(0,g.v9)((function(n){return n.globalSettings}),g.wU).settings,_=(0,g.v9)((function(n){return n.globalSettings.settings}),g.wU).google_map_key,L=(0,p.usePlacesWidget)({apiKey:_||h.kr,onPlaceSelected:function(n){var t={lat:null===n||void 0===n?void 0:n.geometry.location.lat(),lng:null===n||void 0===n?void 0:n.geometry.location.lng()};O(t),x.setFieldsValue((0,i.Z)({},"address[".concat(N,"]"),null===n||void 0===n?void 0:n.formatted_address))}}),C=L.ref,A=(0,r.useState)(!1),U=(0,a.Z)(A,2),F=U[0],M=U[1],P=(0,r.useState)(null!==(t=null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.mapCoordinates)&&void 0!==t?t:(0,m.Z)(S)),q=(0,a.Z)(P,2),I=q[0],O=q[1];return(0,Z.jsxs)(l.Z,{name:"branch-form",layout:"vertical",onFinish:function(n){M(!0);var t=(0,o.Z)((0,o.Z)({},n),{},{location:I});b(t).finally((function(){return M(!1)}))},form:x,initialValues:(0,o.Z)({},y.data),className:"d-flex flex-column h-100",children:[(0,Z.jsxs)(u.Z,{gutter:12,children:[(0,Z.jsx)(c.Z,{span:12,children:k.map((function(n,t){return(0,Z.jsx)(l.Z.Item,{label:j("title"),name:"title[".concat(n.locale,"]"),rules:[{required:n.locale===N,message:j("required")}],hidden:n.locale!==N,children:(0,Z.jsx)(s.Z,{})},"title"+t)}))}),(0,Z.jsx)(c.Z,{span:12,children:(0,Z.jsx)(l.Z.Item,{label:j("address"),name:"address",rules:[{required:!0,message:j("required")}],children:(0,Z.jsx)("input",{className:"address-input",ref:C,placeholder:""})})}),(0,Z.jsx)(c.Z,{span:24,children:(0,Z.jsx)(f.Z,{location:I,setLocation:O,setAddress:function(n){return x.setFieldsValue({address:n})}})})]}),(0,Z.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,Z.jsx)("div",{className:"pb-5",children:(0,Z.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:F,children:j("submit")})})})]})}}}]);