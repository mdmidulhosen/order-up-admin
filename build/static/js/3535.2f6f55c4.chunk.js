"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3535],{55940:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(1413),i=t(45987),a=(t(47313),t(59491)),l=t(47515),o=t(23560),s=t(24511),u=t(79492),d=t(46417),c=["size","onClick","type"];function m(e){var n=e.size,t=void 0===n?"":n,m=e.onClick,v=e.type,h=void 0===v?"default":v,p=(0,i.Z)(e,c),f=(0,s.$)().t,Z=(0,u.Z)().isDemo;return(0,d.jsx)(a.Z,(0,r.Z)({size:t,icon:(0,d.jsx)(l.Z,{}),onClick:function(e){Z?o.Am.warning(f("cannot.work.demo")):m(e)},type:h},p))}},53233:function(e,n,t){var r=t(1413),i=t(29439),a=t(47313),l=t(56140),o=t(67251),s=t(45705),u=t(86345),d=t(78267),c=t(37388),m=t(59491),v=t(99587),h=t(24511),p=t(46417),f=l.Z.Text;n.Z=function(e){var n=e.columns,t=void 0===n?[]:n,l=e.setColumns,Z=e.style,x=e.size,g=void 0===x?"":x,j=e.iconOnly,w=(0,h.$)().t,b=(0,a.useState)(!1),y=(0,i.Z)(b,2),k=y[0],_=y[1],I=(0,p.jsx)(o.Z,{children:null===t||void 0===t?void 0:t.map((function(e,n){return(0,p.jsx)(o.Z.Item,{children:(0,p.jsxs)(s.Z,{className:"d-flex justify-content-between",children:[(0,p.jsx)(f,{children:e.title}),(0,p.jsx)(u.Z,{defaultChecked:!0,onClick:function(){return function(e){var n=null===t||void 0===t?void 0:t.map((function(n){return n.dataIndex===e.dataIndex&&(n.is_show=!(null!==n&&void 0!==n&&n.is_show)),n}));l(n)}(e)},disabled:1===n})]})},e+n)}))});return(0,p.jsx)(d.Z,{overlay:I,trigger:["click"],onVisibleChange:function(e){_(e)},visible:k,children:(0,p.jsx)(c.Z,{title:w("change.columns"),children:(0,p.jsx)(m.Z,{style:(0,r.Z)({},Z),size:g,icon:(0,p.jsx)(v.Z,{}),children:j?null:w("Columns")})})})}},97388:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(15861),i=t(29439),a=t(87757),l=t.n(a),o=t(47313),s=t(16609),u=t.p+"static/media/pin.0e41858db80c699cd8a2.png",d=t(31881),c=t.n(d),m=t(97421);function v(e){return h.apply(this,arguments)}function h(){return h=(0,r.Z)(l().mark((function e(n){var t,r,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:m.kr,r={latlng:"".concat(null===n||void 0===n?void 0:n.lat,",").concat(null===n||void 0===n?void 0:n.lng),key:t},e.abrupt("return",c().get("https://maps.googleapis.com/maps/api/geocode/json",{params:r}).then((function(e){var n;return null===(n=e.data.results[0])||void 0===n?void 0:n.formatted_address})).catch((function(e){return"not found"})));case 3:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}var p=t(5958),f=t(23560),Z=t(24511),x=t(307),g=t(46417),j=(0,x.Z)();var w=(0,s.GoogleApiWrapper)({apiKey:j,libraries:["places","geometry"]})((function(e){var n,t,a=(0,o.useState)(),d=(0,i.Z)(a,2),c=d[0],m=d[1],h=(0,Z.$)().t,x=function(){var n=(0,r.Z)(l().mark((function n(t,r,i){var a,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i.latLng,o={lat:a.lat(),lng:a.lng()},e.setLocation(o),n.next=5,v(o,j);case 5:s=n.sent,e.setAddress(s);case 7:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),w=function(){var n=(0,r.Z)(l().mark((function n(t){var r,i;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={lat:null===t||void 0===t?void 0:t.lat,lng:null===t||void 0===t?void 0:t.lng},e.setLocation(r),n.next=4,v(r,j);case 4:i=n.sent,e.setAddress(i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.geolocation.getCurrentPosition((function(e){var n={lat:e.coords.latitude,lng:e.coords.longitude};m(n)}),(function(e){f.Am.warning(h("turn.on.gps"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){b()}),[]);for(var y=[{lat:Number(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.lat)||0,lng:Number(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.lng)||0}],k=new e.google.maps.LatLngBounds,_=0;_<y.length;_++)k.extend(y[_]);return(0,g.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,g.jsx)("button",{className:"map-button",type:"button",onClick:function(){b(),c&&w(c)},children:(0,g.jsx)(p.nDs,{})}),(0,g.jsx)(s.Map,{cursor:"pointer",onClick:x,google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,g.jsx)(s.Marker,{position:e.location,icon:{url:u,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},89281:function(e,n,t){t.d(n,{h:function(){return v}});var r=t(1413),i=t(29439),a=t(45987),l=t(47313),o=t(12279),s=t.n(o),u=t(74294),d=t(72652),c=t(46417),m=["fetchOptions","debounceTimeout","onClear"],v=function(e){var n=e.fetchOptions,t=e.debounceTimeout,o=void 0===t?400:t,v=e.onClear,h=(0,a.Z)(e,m),p=(0,l.useState)(!1),f=(0,i.Z)(p,2),Z=f[0],x=f[1],g=(0,l.useState)([]),j=(0,i.Z)(g,2),w=j[0],b=j[1],y=(0,l.useMemo)((function(){return s()((function(e){b([]),x(!0),n(e).then((function(e){b(e),x(!1)}))}),o)}),[n,o]);return(0,c.jsx)(u.Z,(0,r.Z)((0,r.Z)({showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:y,onClear:function(){y(""),v&&v()},notFoundContent:Z?(0,c.jsx)(d.Z,{size:"small"}):"no results"},h),{},{options:w,onFocus:function(){y("")}}))}},13945:function(e,n,t){function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(n,{Z:function(){return r}})},17649:function(e,n,t){t.d(n,{Z:function(){return r}});t(97421);function r(e){if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};var n=e.location.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}},307:function(e,n,t){var r=t(67968),i=t(97421);n.Z=function(){var e,n;return(null===(e=r.h.getState())||void 0===e||null===(n=e.globalSettings)||void 0===n?void 0:n.settings).google_map_key||i.kr}},84017:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(67968);function i(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,l=null===(e=r.h.getState())||void 0===e||null===(n=e.currency)||void 0===n?void 0:n.defaultCurrency,o=Number(t).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),s=i||(null===l||void 0===l?void 0:l.symbol)||"$",u=a||(null===l||void 0===l?void 0:l.position)||"before";return"after"===u?"".concat(o," ").concat(s):"".concat(s," ").concat(o)}},20001:function(e,n,t){var r=t(34344),i="dashboard/admin/tables",a={getAll:function(e){return r.Z.get(i,{params:e})},getById:function(e){return r.Z.get("".concat(i,"/").concat(e))},create:function(e){return r.Z.post(i,e)},update:function(e,n){return r.Z.put("".concat(i,"/").concat(e),n)},delete:function(e){return r.Z.delete("".concat(i,"/delete"),{params:e})}};n.Z=a},28358:function(e,n,t){var r=t(34344),i={getAll:function(e){return r.Z.get("dashboard/admin/kitchen",{params:e})}};n.Z=i},78067:function(e,n,t){var r=t(1413),i=t(29439),a=t(10976),l=t(68197),o=t(59624),s=t(66672),u=t(74294),d=t(16124),c=t(86345),m=t(59491),v=t(47313),h=t(24511),p=t(45321),f=t(51282),Z=t(2717),x=t(5764),g=t(97388),j=t(17649),w=t(23560),b=t(46417),y=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}];n.Z=function(e){var n=e.id,t=e.data,k=(0,h.$)().t,_=a.Z.useForm(),I=(0,i.Z)(_,1)[0],S=(0,v.useState)(!1),C=(0,i.Z)(S,2),q=C[0],N=C[1],P=(0,v.useState)(!1),z=(0,i.Z)(P,2),E=z[0],V=z[1],A=(0,v.useState)([]),M=(0,i.Z)(A,2),F=M[0],O=M[1],H=(0,Z.v9)((function(e){return e.globalSettings}),Z.wU).settings,T=(0,v.useState)((0,j.Z)(H)),U=(0,i.Z)(T,2),L=U[0],$=U[1],D=function(e){return e.map((function(e){return{uid:e.id,name:e.path,url:e.path}}))};return(0,v.useEffect)((function(){n&&function(e){V(!0),p.Z.getById(e).then((function(e){var n,t,i,a,l,o,s,u,d=(0,r.Z)((0,r.Z)({},e.data),{},{user_id:{label:e.data.deliveryMan.firstname+" "+e.data.deliveryMan.firstname,value:e.data.deliveryMan.id,images:D(e.data.galleries),location:{lat:null===(n=e.data)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.latitude,lng:null===(i=e.data)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.longitude}}});$({lat:null===(l=e.data)||void 0===l||null===(o=l.location)||void 0===o?void 0:o.latitude,lng:null===(s=e.data)||void 0===s||null===(u=s.location)||void 0===u?void 0:u.longitude}),O(D(e.data.galleries)),I.setFieldsValue(d)})).finally((function(){return V(!1)}))}(n)}),[]),(0,b.jsx)(a.Z,{name:"basic",layout:"vertical",onFinish:function(e){var i;N(!0);var a=(0,r.Z)((0,r.Z)({},e),{},{user_id:t.id,images:[null===(i=F[0])||void 0===i?void 0:i.name],location:{latitude:L.lat,longitude:L.lng},online:Number(e.online)});p.Z.update(n,a).then((function(){return w.Am.success(k("successfully.updated"))})).finally((function(){return N(!1)}))},form:I,children:E?(0,b.jsx)(f.Z,{}):(0,b.jsxs)(l.Z,{gutter:12,children:[(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("brand"),name:"brand",rules:[{required:!0,message:k("required")}],children:(0,b.jsx)(s.Z,{})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("model"),name:"model",rules:[{required:!0,message:k("required")}],children:(0,b.jsx)(s.Z,{})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:k("required")}],children:(0,b.jsx)(u.Z,{options:y})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("car.number"),name:"number",rules:[{required:!0,message:k("required")}],children:(0,b.jsx)(s.Z,{})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("car.color"),name:"color",rules:[{required:!0,message:k("required")}],children:(0,b.jsx)(s.Z,{})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("height"),name:"height",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,b.jsx)(d.Z,{className:"w-100",addonAfter:"sm"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("weight"),name:"kg",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,b.jsx)(d.Z,{className:"w-100",addonAfter:"kg"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("length"),name:"length",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,b.jsx)(d.Z,{className:"w-100",addonAfter:"sm"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("width"),name:"width",rules:[{validator:function(e,n){return n||0===n?!n||n<1?Promise.reject(new Error(k("min.1"))):Promise.resolve():Promise.reject(new Error(k("required")))}}],children:(0,b.jsx)(d.Z,{className:"w-100",addonAfter:"sm"})})}),(0,b.jsx)(o.Z,{span:12,children:(0,b.jsx)(a.Z.Item,{label:k("image"),name:"images",children:(0,b.jsx)(x.Z,{type:"deliveryman/settings",imageList:F,setImageList:O,form:I,length:"1",multiple:!0})})}),(0,b.jsx)(o.Z,{span:6,children:(0,b.jsx)(a.Z.Item,{label:k("online"),name:"online",valuePropName:"checked",children:(0,b.jsx)(c.Z,{})})}),(0,b.jsx)(o.Z,{span:24,children:(0,b.jsx)(a.Z.Item,{label:k("map"),name:"location",children:(0,b.jsx)(g.Z,{location:L,setLocation:$})})}),(0,b.jsx)(o.Z,{span:24,children:(0,b.jsx)(m.Z,{type:"primary",htmlType:"submit",loading:q,children:k("save")})})]})})}},65559:function(e,n,t){t.d(n,{Z:function(){return A}});var r=t(15861),i=t(1413),a=t(29439),l=t(87757),o=t.n(l),s=t(47313),u=t(10976),d=t(68197),c=t(59624),m=t(66672),v=t(16124),h=t(99096),p=t(74294),f=t(86345),Z=t(59491),x=t(97890),g=t(2717),j=t(49986),w=t(23560),b=t(90954),y=t(84304),k=t(70816),_=t.n(k),I=t(24511),S=t(85746),C=t(5764),q=t(89281),N=t(53149),P=t(79492),z=t(28358),E=t(20001),V=t(46417);function A(e){var n,t,l,k=e.form,A=e.data,M=e.image,F=e.setImage,O=e.action_type,H=void 0===O?"":O,T=(0,I.$)().t,U=(0,g.v9)((function(e){return e.menu.activeMenu}),g.wU),L=(0,g.I0)(),$=(0,x.s0)(),D=(0,x.UO)().uuid,Y=(0,x.TH)(),B=(0,s.useState)(),W=(0,a.Z)(B,2),K=W[0],R=W[1],G=(0,s.useState)(null),J=(0,a.Z)(G,2),Q=J[0],X=J[1],ee=(0,s.useState)(!1),ne=(0,a.Z)(ee,2),te=ne[0],re=ne[1],ie=null===U||void 0===U||null===(n=U.data)||void 0===n?void 0:n.role,ae=(0,g.v9)((function(e){return e.user}),g.wU),le=(0,g.v9)((function(e){return e.client}),g.wU),oe=(0,P.Z)().isDemo,se=(0,s.useState)((null===A||void 0===A||null===(t=A.invitations)||void 0===t||null===(l=t[0])||void 0===l?void 0:l.shop_id)||void 0),ue=(0,a.Z)(se,2),de=ue[0],ce=ue[1];function me(e){return ve.apply(this,arguments)}function ve(){return(ve=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={search:n,status:"approved"},e.abrupt("return",N.Z.search(t).then((function(e){return e.data.map((function(e){return{label:null!==e.translation?e.translation.title:"no name",value:e.id}}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=(0,r.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k.getFieldValue("shop_id"),i=null!==(t=null===r||void 0===r?void 0:r.map((function(e){return e.value})))&&void 0!==t?t:[],a={search:n,shop_ids:i},e.abrupt("return",E.Z.getAll(a).then((function(e){return e.data.map((function(e){var n;return{label:null!==(n=e.name)&&void 0!==n?n:"no name",value:e.id}}))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,V.jsx)(u.Z,{form:k,layout:"vertical",initialValues:(0,i.Z)((0,i.Z)({gender:"male",role:"admin"},A),{},{birthday:null!==A&&void 0!==A&&A.birthday?_()(A.birthday):null}),onFinish:function(e){var n,t,r,a;re(!0);var l={firstname:e.firstname,lastname:e.lastname,email:oe||null===e||void 0===e?void 0:e.email,phone:oe||null===e||void 0===e?void 0:e.phone,birthday:_()(K).format("YYYY-MM-DD"),gender:e.gender,images:M[0]?[null===(n=M[0])||void 0===n?void 0:n.name]:void 0,shop_id:null!==e&&void 0!==e&&e.shop_id?void 0!==(null===e||void 0===e?void 0:e.shop_id.length)?null===e||void 0===e||null===(t=e.shop_id)||void 0===t?void 0:t.map((function(e){return e.value})):[null===e||void 0===e?void 0:e.shop_id.value]:void 0,role:ie,kitchen_id:(null===e||void 0===e||null===(r=e.kitchen)||void 0===r?void 0:r.value)||void 0,isWork:"waiter"===(null===A||void 0===A?void 0:A.role)?!(null===e||void 0===e||!e.isWork):void 0,table_ids:"waiter"===(null===A||void 0===A?void 0:A.role)?null===e||void 0===e||null===(a=e.table_ids)||void 0===a?void 0:a.map((function(e){return e.value})):void 0},o=0===Y.pathname.search("/user/delivery/")?"deliveries/list":"user"!==A.role?"users/admin":"users/user",s=(0,i.Z)((0,i.Z)({},ae.params),{},{role:A.role}),u=(0,i.Z)({},le.params);"edit"===H?j.Z.update(D,l).then((function(){w.Am.success(T("successfully.updated")),L((0,b.ph)((0,i.Z)((0,i.Z)({},U),{},{nextUrl:o}))),$("/".concat(o)),"user"===A.role?L((0,S.Tu)(u)):L((0,y.uh)(s))})).catch((function(e){return X(e.response.data.params)})).finally((function(){return re(!1)})):j.Z.create(l).then((function(){w.Am.success(T("successfully.created")),L((0,b.ph)((0,i.Z)((0,i.Z)({},U),{},{nextUrl:o}))),$("/".concat(o)),"user"===A.role?L((0,S.Tu)(u)):L((0,y.uh)(s))})).catch((function(e){return X(e.response.data.params)})).finally((function(){return re(!1)}))},className:"px-2",children:(0,V.jsxs)(d.Z,{gutter:12,children:[(0,V.jsx)(c.Z,{span:24,children:(0,V.jsx)(u.Z.Item,{name:"images",label:T("avatar"),rules:[{validator:function(){return 0===(null===M||void 0===M?void 0:M.length)?Promise.reject(new Error(T("required"))):Promise.resolve()}}],children:(0,V.jsx)(C.Z,{type:"restaurant/logo",imageList:M,setImageList:F,form:k,multiple:!1,name:"logo_img"})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("firstname"),name:"firstname",help:null!==Q&&void 0!==Q&&Q.firstname?Q.firstname[0]:null,validateStatus:null!==Q&&void 0!==Q&&Q.firstname?"error":"success",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(T("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(T("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(T("required")))}}],children:(0,V.jsx)(m.Z,{className:"w-100"})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("lastname"),name:"lastname",help:null!==Q&&void 0!==Q&&Q.lastname?Q.lastname[0]:null,validateStatus:null!==Q&&void 0!==Q&&Q.lastname?"error":"success",rules:[{validator:function(e,n){return n?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(T("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<2?Promise.reject(new Error(T("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(T("required")))}}],children:(0,V.jsx)(m.Z,{className:"w-100"})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("phone"),name:"phone",help:null!==Q&&void 0!==Q&&Q.phone?Q.phone[0]:null,validateStatus:null!==Q&&void 0!==Q&&Q.phone?"error":"success",rules:[{required:!oe,message:T("required")}],children:(0,V.jsx)(v.Z,{min:0,className:"w-100"})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("birthday"),name:"birthday",rules:[{required:!0,message:T("required")}],children:(0,V.jsx)(h.Z,{onChange:function(e){return R(e)},className:"w-100",disabledDate:function(e){return _()().add(-18,"years")<=e},defaultPickerValue:_()().add(-18,"years")})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("gender"),name:"gender",rules:[{required:!0,message:T("required")}],children:(0,V.jsxs)(p.Z,{picker:"dayTime",className:"w-100",children:[(0,V.jsx)(p.Z.Option,{value:"male",children:T("male")}),(0,V.jsx)(p.Z.Option,{value:"female",children:T("female")})]})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("email"),name:"email",help:null!==Q&&void 0!==Q&&Q.email?Q.email[0]:null,validateStatus:null!==Q&&void 0!==Q&&Q.email?"error":"success",rules:[{required:!oe,message:T("required")},{type:"email",message:T("invalid.email")}],children:(0,V.jsx)(m.Z,{type:"email",className:"w-100",disabled:oe})})}),"admin"!==ie&&"manager"!==ie&&"moderator"!==ie&&"seller"!==ie&&"cook"!==ie&&"user"!==ie&&(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("branches"),name:"shop_id",rules:[{required:!1,message:T("required")}],children:(0,V.jsx)(q.h,{mode:"multiple",fetchOptions:me,className:"w-100",placeholder:T("select.shop"),allowClear:!1,onChange:function(e){k.setFieldsValue({table_ids:void 0})}})})}),"admin"!==ie&&"manager"!==ie&&"moderator"!==ie&&"seller"!==ie&&"cook"!==ie&&"user"!==ie&&"deliveryman"!==ie&&(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("tables"),name:"table_ids",rules:[{required:!1,message:T("required")}],children:(0,V.jsx)(q.h,{mode:"multiple",fetchOptions:function(e){return he.apply(this,arguments)},className:"w-100",placeholder:T("select.table"),allowClear:!1})})}),"cook"===ie&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("shop"),name:"shop_id",rules:[{required:!1,message:T("required")}],children:(0,V.jsx)(q.h,{fetchOptions:me,className:"w-100",placeholder:T("select.shop"),allowClear:!1,onChange:function(e){ce(null===e||void 0===e?void 0:e.value),k.setFieldsValue({kitchen:void 0})}})})}),(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("kitchen"),name:"kitchen",children:(0,V.jsx)(q.h,{fetchOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={search:null!==e&&void 0!==e&&e.length?e:void 0,shop_id:de||void 0,active:1};return z.Z.getAll(n).then((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e){var n;return{label:null===e||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},disabled:!de,placeholder:T("select.kitchen")})})})]}),"moderator"===ie&&(0,V.jsx)(c.Z,{span:12,children:(0,V.jsx)(u.Z.Item,{label:T("branches"),name:"shop_id",rules:[{required:!1,message:T("required")}],children:(0,V.jsx)(q.h,{fetchOptions:me,className:"w-100",placeholder:T("select.shop"),allowClear:!1})})}),"waiter"===(null===A||void 0===A?void 0:A.role)&&(0,V.jsx)(c.Z,{children:(0,V.jsx)(u.Z.Item,{label:T("is.work"),name:"isWork",valuePropName:"checked",children:(0,V.jsx)(f.Z,{})})}),(0,V.jsx)(c.Z,{span:24,children:(0,V.jsx)(Z.Z,{type:"primary",htmlType:"submit",loading:te,children:T("save")})})]})})}},45713:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(4942),i=t(93433),a=t(1413),l=t(29439),o=t(47313),s=t(45705),u=t(59491),d=t(77181),c=t(78508),m=t(97890),v=t(31741),h=t(47515),p=t(2717),f=t(90954),Z=t(24511),x=t(84017),g=t(22054),j=t(13945),w=t(74580),b=t(23560),y=t(55940),k=t(69658),_=t(7370),I=t(53233),S=t(46417);function C(e){var n=e.data,t=(0,p.I0)(),C=(0,m.s0)(),q=(0,Z.$)().t,N=(0,o.useState)(null),P=(0,l.Z)(N,2),z=P[0],E=P[1],V=(0,o.useState)(null),A=(0,l.Z)(V,2),M=A[0],F=A[1],O=(0,o.useContext)(w._).setIsModalVisible,H=(0,o.useState)(!1),T=(0,l.Z)(H,2),U=T[0],L=T[1],$=(0,p.v9)((function(e){return e.menu}),p.wU).activeMenu,D=(0,p.v9)((function(e){return e.orders}),p.wU),Y=D.orders,B=D.meta,W=D.loading,K=D.params,R=(0,p.v9)((function(e){return e.currency}),p.wU).defaultCurrency,G=(0,o.useState)([{title:q("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:q("client"),is_show:!0,dataIndex:"user",key:"user",render:function(e){return(0,S.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:q("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:function(e){return(0,S.jsxs)("div",{className:"text-lowercase",children:[e||0," ",q("products")]})}},{title:q("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:function(e){return(0,x.Z)(e,null===R||void 0===R?void 0:R.symbol)}},{title:q("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:function(e){var n;return q(null===e||void 0===e||null===(n=e.payment_system)||void 0===n?void 0:n.tag)||"-"}},{title:q("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:q("options"),is_show:!0,key:"options",render:function(e,n){return(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(u.Z,{icon:(0,S.jsx)(v.Z,{}),onClick:function(){return function(e){t((0,f.bL)({url:"order/details/".concat(e.id),id:"order_details",name:q("order.details")})),C("/order/details/".concat(e.id))}(n)}}),(0,S.jsx)(y.Z,{icon:(0,S.jsx)(h.Z,{}),onClick:function(){E([n.id]),O(!0),F(!0)}})]})}}]),J=(0,l.Z)(G,2),Q=J[0],X=J[1];(0,o.useEffect)((function(){var e={user_id:null===n||void 0===n?void 0:n.uuid,page:1,perPage:10};t((0,g.dT)(e))}),[]);var ee={selectedRowKeys:z,onChange:function(e){E(e)}};return(0,S.jsx)("div",{children:(0,S.jsxs)(d.Z,{title:q("orders"),extra:(0,S.jsxs)(s.Z,{wrap:!0,children:[(0,S.jsx)(y.Z,{type:"danger",onClick:function(){null===z||0===z.length?b.Am.warning(q("select.the.product")):(O(!0),F(!1))},children:q("delete.all")}),(0,S.jsx)(I.Z,{setColumns:X,columns:Q})]}),children:[(0,S.jsx)(c.Z,{scroll:{x:!0},rowSelection:ee,columns:null===Q||void 0===Q?void 0:Q.filter((function(e){return e.is_show})),dataSource:Y,loading:W,pagination:{pageSize:K.perPage,page:K.page,total:B.total,defaultCurrent:K.page},rowKey:function(e){return e.id},onChange:function(e,n,r){var i=e.pageSize,l=e.current,o=r.field,s=r.order,u=(0,j.Z)(s);t((0,f.nc)({activeMenu:$,data:(0,a.Z)((0,a.Z)({},$.data),{},{perPage:i,page:l,column:o,sort:u})}))}}),(0,S.jsx)(k.Z,{click:function(){L(!0);var e=(0,a.Z)({},Object.assign.apply(Object,[{}].concat((0,i.Z)(z.map((function(e,n){return(0,r.Z)({},"ids[".concat(n,"]"),e)}))))));_.Z.delete(e).then((function(){b.Am.success(q("successfully.deleted")),O(!1),t((0,g.dT)()),F(null)})).finally((function(){return L(!1)}))},text:q(M?"delete":"all.delete"),loading:U,setText:E})]})})}},94748:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(29439),i=t(47313),a=t(10976),l=t(77181),o=t(68197),s=t(59624),u=t(66672),d=t(59491),c=t(97890),m=t(23560),v=t(49986),h=t(24511),p=t(46417);function f(){var e=(0,h.$)().t,n=a.Z.useForm(),t=(0,r.Z)(n,1)[0],f=(0,i.useState)(null),Z=(0,r.Z)(f,2),x=Z[0],g=Z[1],j=(0,i.useState)(!1),w=(0,r.Z)(j,2),b=w[0],y=w[1],k=(0,c.UO)().uuid;return(0,p.jsx)(l.Z,{title:e("user.password.change"),children:(0,p.jsx)(a.Z,{form:t,layout:"vertical",onFinish:function(n){y(!0);var t={password:n.password?n.password:void 0,password_confirmation:n.password_confirmation};v.Z.updatePassword(k,t).then((function(){m.Am.success(e("successfully.created"))})).catch((function(e){return g(e.response.data.params)})).finally((function(){return y(!1)}))},children:(0,p.jsxs)(o.Z,{gutter:12,children:[(0,p.jsx)(s.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:e("password"),name:"password",help:null!==x&&void 0!==x&&x.password?x.password[0]:null,validateStatus:null!==x&&void 0!==x&&x.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,p.jsx)(u.Z.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,p.jsx)(s.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{label:e("password.confirmation"),help:null!==x&&void 0!==x&&x.password_confirmation?x.password_confirmation[0]:null,validateStatus:null!==x&&void 0!==x&&x.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},function(n){var t=n.getFieldValue;return{validator:function(n,r){return r&&t("password")!==r?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}}],children:(0,p.jsx)(u.Z.Password,{type:"password",placeholder:"********"})})}),(0,p.jsx)(s.Z,{span:24,children:(0,p.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:b,children:e("save")})})]})})})}},92815:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(29439),i=t(47313),a=t(45705),l=t(59491),o=t(78508),s=t(2717),u=t(24511),d=t(84017),c=t(49986),m=t(55768),v=t(10976),h=t(9274),p=t(16124),f=t(66672),Z=t(23560),x=t(90954),g=t(46417);function j(e){var n=e.modal,t=e.uuid,a=e.handleCancel,o=(0,i.useState)(!1),d=(0,r.Z)(o,2),m=d[0],j=d[1],w=v.Z.useForm(),b=(0,r.Z)(w,1)[0],y=(0,u.$)().t,k=(0,s.I0)(),_=(0,s.v9)((function(e){return e.menu}),s.wU).activeMenu;return(0,g.jsx)(h.Z,{visible:n,title:y("topup.wallet"),onCancel:a,footer:[(0,g.jsx)(l.Z,{type:"default",onClick:a,children:y("cancel")},"cancel-btn"),(0,g.jsx)(l.Z,{type:"primary",onClick:function(){return b.submit()},loading:m,children:y("save")},"submit-btn")],children:(0,g.jsxs)(v.Z,{layout:"vertical",form:b,onFinish:function(e){j(!0),c.Z.topupWallet(t,e).then((function(){Z.Am.success(y("successfully.added")),k((0,x.xo)(_)),a()})).finally((function(){return j(!1)}))},children:[(0,g.jsx)(v.Z.Item,{label:y("price"),name:"price",rules:[{required:!0,message:y("required")}],children:(0,g.jsx)(p.Z,{min:0,className:"w-100"})}),(0,g.jsx)(v.Z.Item,{label:y("note"),name:"note",children:(0,g.jsx)(f.Z,{})})]})})}var w=t(53233),b=t(70816),y=t.n(b);function k(e){var n,t=e.data,v=(0,u.$)().t,h=(0,i.useState)(1),p=(0,r.Z)(h,2),f=p[0],Z=p[1],x=(0,i.useState)(10),b=(0,r.Z)(x,2),k=b[0],_=b[1],I=(0,i.useState)(1),S=(0,r.Z)(I,2),C=S[0],q=S[1],N=(0,i.useState)(!1),P=(0,r.Z)(N,2),z=P[0],E=P[1],V=(0,i.useState)([]),A=(0,r.Z)(V,2),M=A[0],F=A[1],O=(0,i.useState)(!1),H=(0,r.Z)(O,2),T=H[0],U=H[1],L=(0,s.v9)((function(e){return e.currency}),s.wU).defaultCurrency,$=(0,i.useState)([{title:v("created.by"),dataIndex:"author",key:"author",is_show:!0,render:function(e){return(0,g.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})}},{title:v("price"),dataIndex:"price",key:"price",is_show:!0,render:function(e){return(0,d.Z)(e,null===L||void 0===L?void 0:L.symbol)}},{title:v("note"),dataIndex:"note",key:"note",is_show:!0},{title:v("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:function(e){return y()(e).format("YYYY-MM-DD HH:mm")}}]),D=(0,r.Z)($,2),Y=D[0],B=D[1];return(0,i.useEffect)((function(){!function(){E(!0);var e={pageSize:10,page:f||1};c.Z.walletHistory(t.uuid,e).then((function(e){F(e.data),q(e.meta.total)})).finally((function(){return E(!1)}))}()}),[f]),(0,g.jsxs)("div",{className:"px-2",children:[(0,g.jsx)("div",{className:"d-flex justify-content-end",children:(0,g.jsxs)(a.Z,{wrap:!0,children:[(0,g.jsx)(l.Z,{type:"primary",icon:(0,g.jsx)(m.Z,{}),onClick:function(){return U(!0)},children:"".concat(v("wallet"),": ").concat((0,d.Z)(null===t||void 0===t||null===(n=t.wallet)||void 0===n?void 0:n.price,null===L||void 0===L?void 0:L.symbol))}),(0,g.jsx)(w.Z,{columns:Y,setColumns:B})]})}),(0,g.jsx)(o.Z,{scroll:{x:!0},columns:null===Y||void 0===Y?void 0:Y.filter((function(e){return e.is_show})),dataSource:M,loading:z,pagination:{pageSize:k,page:f,total:C},rowKey:function(e){return e.id},onChange:function(e,n,t){var r=e.pageSize,i=e.current;Z(i),_(r)}}),T&&(0,g.jsx)(j,{modal:T,uuid:t.uuid,handleCancel:function(){return U(!1)}})]})}},55768:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(1413),i=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=t(17469),o=function(e,n){return i.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:a}))};o.displayName="PlusCircleOutlined";var s=i.forwardRef(o)},99587:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(1413),i=t(47313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},l=t(17469),o=function(e,n){return i.createElement(l.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:a}))};o.displayName="TableOutlined";var s=i.forwardRef(o)}}]);