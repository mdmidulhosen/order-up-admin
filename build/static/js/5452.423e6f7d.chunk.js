"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5452],{94337:function(e,n,r){var i=r(34344),t={getAll:function(e){return i.Z.get("dashboard/admin/subscriptions",{params:e})},getById:function(e,n){return i.Z.get("dashboard/admin/subscriptions/".concat(e),{params:n})},update:function(e,n){return i.Z.put("dashboard/admin/subscriptions/".concat(e),n)},create:function(e){return i.Z.post("dashboard/admin/subscriptions",e)}};n.Z=t},65452:function(e,n,r){r.r(n),r.d(n,{default:function(){return f}});var i=r(1413),t=r(29439),a=r(47313),s=r(10976),l=r(9274),c=r(59491),u=r(24511),d=r(94337),o=r(51282),m=r(66290),h=r(2717),Z=r(90954),p=r(46417);function f(e){var n=e.modal,r=e.handleCancel,f=e.refetch,x=(0,h.I0)(),j=s.Z.useForm(),b=(0,t.Z)(j,1)[0],v=(0,u.$)().t,g=(0,a.useState)(!1),w=(0,t.Z)(g,2),_=w[0],q=w[1],y=(0,a.useState)(!1),I=(0,t.Z)(y,2),k=I[0],N=I[1],C=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu;return(0,a.useEffect)((function(){N(!0),d.Z.getById(n.id).then((function(e){var n,r,t=(0,i.Z)((0,i.Z)({},e.data),{},{with_report:!(null===e||void 0===e||null===(n=e.data)||void 0===n||!n.with_report),active:!(null===e||void 0===e||null===(r=e.data)||void 0===r||!r.active)});b.setFieldsValue((0,i.Z)({},t)),x((0,Z.nc)({activeMenu:C,data:t}))})).finally((function(){return N(!1)}))}),[n]),(0,p.jsx)(a.Fragment,{children:(0,p.jsx)(l.Z,{visible:!!n,title:v("edit.subscription"),onCancel:r,style:{minWidth:800},footer:[(0,p.jsx)(c.Z,{type:"primary",onClick:function(){return b.submit()},loading:_,children:v("save")},"save-btn"),(0,p.jsx)(c.Z,{type:"default",onClick:r,children:v("cancel")},"cancel-btn")],children:k?(0,p.jsx)(o.Z,{}):(0,p.jsx)(m.Z,{form:b,onFinish:function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{active:Number(e.active),with_report:Number(e.with_report),type:"shop"});q(!0),d.Z.update(n.id,t).then((function(){r(),f()})).finally((function(){return q(!1)}))}})})})}},66290:function(e,n,r){r.d(n,{Z:function(){return o}});r(47313);var i=r(10976),t=r(68197),a=r(59624),s=r(66672),l=r(16124),c=r(86345),u=r(24511),d=r(46417);function o(e){var n=e.form,r=e.onFinish,o=(0,u.$)().t;return(0,d.jsx)(i.Z,{form:n,layout:"vertical",onFinish:r,children:(0,d.jsxs)(t.Z,{gutter:12,children:[(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("title"),name:"title",rules:[{required:!0,message:o("required")}],children:(0,d.jsx)(s.Z,{})})}),(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("period"),name:"month",rules:[{required:!0,message:o("required")}],children:(0,d.jsx)(l.Z,{min:0,max:12,className:"w-100"})})}),(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("product_limit"),name:"product_limit",rules:[{required:!0,message:o("required")}],children:(0,d.jsx)(l.Z,{min:0,className:"w-100"})})}),(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("order_limit"),name:"order_limit",rules:[{required:!0,message:o("required")}],children:(0,d.jsx)(l.Z,{min:0,className:"w-100"})})}),(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("price"),name:"price",rules:[{required:!0,message:o("required")}],children:(0,d.jsx)(l.Z,{min:0,className:"w-100"})})}),(0,d.jsx)(a.Z,{span:12}),(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("with_report"),name:"with_report",valuePropName:"checked",children:(0,d.jsx)(c.Z,{})})}),(0,d.jsx)(a.Z,{span:12,children:(0,d.jsx)(i.Z.Item,{label:o("active"),name:"active",valuePropName:"checked",children:(0,d.jsx)(c.Z,{})})})]})})}}}]);