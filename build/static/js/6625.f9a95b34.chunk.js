"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6625],{6625:function(e,t,n){n.r(t);var i=n(1413),r=n(29439),a=n(47313),s=n(10976),u=n(77181),l=n(72652),c=n(23560),o=n(97890),d=n(2717),m=n(90954),f=n(97421),v=n(24511),h=n(48697),Z=n(73253),j=n(63559),b=n(46417);t.default=function(){var e=(0,v.$)().t,t=(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu,n=(0,o.UO)().id,g=(0,d.I0)(),p=(0,d.v9)((function(e){return e.brand}),d.wU).params,x=s.Z.useForm(),y=(0,r.Z)(x,1)[0],w=(0,o.s0)(),P=(0,a.useState)(!1),E=(0,r.Z)(P,2),I=E[0],k=E[1];(0,a.useEffect)((function(){return function(){var e=y.getFieldsValue(!0);g((0,m.nc)({activeMenu:t,data:e}))}}),[]);return(0,a.useEffect)((function(){t.refetch&&function(e){k(!0),h.Z.getById(e).then((function(e){var n,r=e.data,a=(0,i.Z)((0,i.Z)({},r),{},{image:[(n=r.img,{name:n,url:f.bV+n})]});y.setFieldsValue(a),g((0,m.nc)({activeMenu:t,data:a}))})).finally((function(){k(!1),g((0,m.A_)(t))}))}(n)}),[t.refetch]),(0,b.jsx)(u.Z,{title:e("edit.brand"),children:I?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(l.Z,{size:"large",className:"py-5"})}):(0,b.jsx)(j.Z,{form:y,handleSubmit:function(r,a){var s,u=(0,i.Z)((0,i.Z)({},r),{},{active:r.active?1:0,"images[0]":null===(s=a[0])||void 0===s?void 0:s.name}),l=(0,i.Z)({},p),o="seller/brands";return h.Z.update(n,u).then((function(){c.Am.success(e("successfully.updated")),(0,d.dC)((function(){g((0,m.ph)((0,i.Z)((0,i.Z)({},t),{},{nextUrl:o}))),g((0,Z.RJ)(l))})),w("/".concat(o))}))}})})}},63559:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=n(1413),r=n(29439),a=n(47313),s=n(10976),u=n(68197),l=n(59624),c=n(66672),o=n(86345),d=n(59491),m=n(5764),f=n(2717),v=n(24511),h=n(46417);function Z(e){var t,n,Z=e.form,j=e.handleSubmit,b=(0,v.$)().t,g=(0,f.v9)((function(e){return e.menu}),f.wU).activeMenu,p=(0,a.useState)(null!==(t=g.data)&&void 0!==t&&t.image?null===(n=g.data)||void 0===n?void 0:n.image:[]),x=(0,r.Z)(p,2),y=x[0],w=x[1],P=(0,a.useState)(!1),E=(0,r.Z)(P,2),I=E[0],k=E[1];return(0,h.jsxs)(s.Z,{name:"basic",layout:"vertical",onFinish:function(e){k(!0),j(e,y).finally((function(){return k(!1)}))},form:Z,initialValues:(0,i.Z)({active:!0},g.data),children:[(0,h.jsxs)(u.Z,{gutter:12,children:[(0,h.jsx)(l.Z,{span:12,children:(0,h.jsx)(s.Z.Item,{label:b("title"),name:"title",rules:[{validator:function(e,t){return t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(b("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(b("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(b("required")))}}],children:(0,h.jsx)(c.Z,{})})}),(0,h.jsx)(l.Z,{span:6,children:(0,h.jsx)(s.Z.Item,{label:b("image"),name:"images",rules:[{validator:function(){return 0===(null===y||void 0===y?void 0:y.length)?Promise.reject(new Error(b("required"))):Promise.resolve()}}],children:(0,h.jsx)(m.Z,{type:"brands",imageList:y,setImageList:w,form:Z,multiple:!1})})}),(0,h.jsx)(l.Z,{span:6,children:(0,h.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,h.jsx)(s.Z.Item,{label:b("active"),name:"active",valuePropName:"checked",children:(0,h.jsx)(o.Z,{})})})})]}),(0,h.jsx)(d.Z,{type:"primary",htmlType:"submit",loading:I,children:b("submit")})]})}}}]);