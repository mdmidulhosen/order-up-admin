"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4063],{84063:function(e,t,r){r.r(t);var s=r(1413),n=r(29439),i=r(47313),a=r(97890),l=r(23560),u=r(10976),c=r(77181),d=r(2717),m=r(90954),o=r(24511),h=r(38758),f=r(51282),p=r(84926),Z=r(37495),v=r(46417);t.default=function(){var e=(0,o.$)().t,t=(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu,r=(0,d.I0)(),x=u.Z.useForm(),j=(0,n.Z)(x,1)[0],b=(0,a.s0)(),g=(0,a.UO)().id,_=(0,i.useState)(!1),w=(0,n.Z)(_,2),y=w[0],I=w[1];(0,i.useEffect)((function(){return function(){var e=j.getFieldsValue(!0);r((0,m.nc)({activeMenu:t,data:e}))}}),[]);return(0,i.useEffect)((function(){var e;t.refetch&&(e=g,I(!0),h.Z.getById(e).then((function(e){var n=e.data,i=(0,s.Z)({},n);j.setFieldsValue(i),r((0,m.nc)({activeMenu:t,data:i}))})).finally((function(){r((0,m.A_)(t)),I(!1)})))}),[t.refetch]),(0,v.jsx)(c.Z,{title:e("edit.email.provider"),className:"h-100",children:y?(0,v.jsx)(f.Z,{}):(0,v.jsx)(Z.Z,{form:j,handleSubmit:function(n){var i={smtp_auth:n.smtp_auth,smtp_debug:n.smtp_debug,port:n.port,password:n.password,from_to:n.from_to,host:n.host,active:n.active,from_site:n.from_site},a="settings/emailProviders";return h.Z.update(g,i).then((function(){l.Am.success(e("successfully.updated")),(0,d.dC)((function(){r((0,m.ph)((0,s.Z)((0,s.Z)({},t),{},{nextUrl:a}))),r((0,p.z)({}))})),b("/".concat(a))}))}})})}},37495:function(e,t,r){r.d(t,{Z:function(){return Z}});var s=r(1413),n=r(29439),i=r(47313),a=r(10976),l=r(68197),u=r(59624),c=r(66672),d=r(16124),m=r(86345),o=r(59491),h=r(2717),f=r(24511),p=r(46417);function Z(e){var t=e.form,r=e.handleSubmit,Z=(0,f.$)().t,v=(0,h.v9)((function(e){return e.menu}),h.wU).activeMenu,x=(0,i.useState)(!1),j=(0,n.Z)(x,2),b=j[0],g=j[1];return(0,p.jsxs)(a.Z,{name:"email-provider-form",layout:"vertical",onFinish:function(e){g(!0),r(e).finally((function(){return g(!1)}))},form:t,initialValues:(0,s.Z)({smtp_debug:!0,smtp_auth:!0,active:!0},v.data),className:"d-flex flex-column h-100",children:[(0,p.jsxs)(l.Z,{gutter:12,children:[(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{rules:[{required:!0,message:Z("required")},{type:"email",message:Z("invalid.email")}],label:Z("email"),name:"from_to",children:(0,p.jsx)(c.Z,{placeholder:"Email"})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{rules:[{required:!0,message:Z("required")},{type:"string",min:6,message:Z("min.6.letters")}],label:Z("password"),name:"password",normalize:function(e){return""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e},children:(0,p.jsx)(c.Z.Password,{})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{rules:[{validator:function(e,t){return t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(Z("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(Z("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(Z("required")))}}],label:Z("host"),name:"host",children:(0,p.jsx)(c.Z,{})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{rules:[{required:!0,message:Z("required")}],label:Z("port"),name:"port",children:(0,p.jsx)(d.Z,{min:0,className:"w-100"})})}),(0,p.jsx)(u.Z,{span:12,children:(0,p.jsx)(a.Z.Item,{rules:[{required:!0,message:Z("required")}],label:Z("from.site"),name:"from_site",children:(0,p.jsx)(c.Z,{})})}),(0,p.jsx)(u.Z,{span:8,children:(0,p.jsx)(a.Z.Item,{label:Z("active"),name:"active",valuePropName:"checked",children:(0,p.jsx)(m.Z,{})})}),(0,p.jsx)(u.Z,{span:8,children:(0,p.jsx)(a.Z.Item,{valuePropName:"checked",label:Z("smtp_debug"),name:"smtp_debug",children:(0,p.jsx)(m.Z,{})})}),(0,p.jsx)(u.Z,{span:8,children:(0,p.jsx)(a.Z.Item,{valuePropName:"checked",label:Z("smtp_auth"),name:"smtp_auth",children:(0,p.jsx)(m.Z,{})})})]}),(0,p.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,p.jsx)("div",{className:"pb-5",children:(0,p.jsx)(o.Z,{type:"primary",htmlType:"submit",loading:b,children:Z("submit")})})})]})}}}]);