"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3787],{83787:function(e,n,i){i.r(n);var t=i(29439),l=i(47313),r=i(83999),o=i(77181),u=i(73431),d=i(2717),a=i(24511),c=i(8163),s=i(16848),v=i(88708),p=i(44902),x=i(89904),Z=i(32937),m=i(46417),f=r.Z.Step;n.default=function(){var e,n=(0,a.$)().t,i=(0,d.v9)((function(e){return e.menu}),d.wU).activeMenu,h=(0,l.useState)((null===(e=i.data)||void 0===e?void 0:e.step)||0),y=(0,t.Z)(h,2),j=y[0],g=y[1],k=function(){g(j+1)},b=function(){g(j-1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Z,{title:n("add.food"),extra:(0,m.jsx)(u.Z,{}),children:(0,m.jsx)(r.Z,{current:j,children:s.S.map((function(e){return(0,m.jsx)(f,{title:n(e.title)},e.title)}))})}),(0,m.jsxs)("div",{children:["First-content"===s.S[j].content&&(0,m.jsx)(Z.Z,{next:k}),"Second-content"===s.S[j].content&&(0,m.jsx)(x.Z,{next:k,prev:b}),"Third-content"===s.S[j].content&&(0,m.jsx)(c.Z,{next:k,prev:b,userRole:"seller"}),"Fourth-content"===s.S[j].content&&(0,m.jsx)(v.Z,{next:k,prev:b}),"Finish-content"===s.S[j].content&&(0,m.jsx)(p.Z,{prev:b})]})]})}},88708:function(e,n,i){i.d(n,{Z:function(){return U}});var t=i(4942),l=i(93433),r=i(1413),o=i(29439),u=i(2717),d=i(47313),a=i(49873),c=i(9274),s=i(77181),v=i(45705),p=i(59491),x=i(24511),Z=i(18333),m=i(23560),f=i(97890),h=i(90954),y=i(78508),j=i(12019),g=i(47515),k=i(55940),b=i(46417),S=function(e){var n=e.properties,i=e.editSelectedProperty,t=e.deleteProperty,l=e.loading,r=void 0!==l&&l,o=(0,x.$)().t,u=[{title:o("key"),dataIndex:"key",key:"key"},{title:o("value"),dataIndex:"value",key:"value"},{title:o("options"),key:"options",render:function(e,n){return(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(p.Z,{type:"primary",icon:(0,b.jsx)(j.Z,{}),onClick:function(){return i(n)}}),(0,b.jsx)(k.Z,{type:"primary",danger:!0,icon:(0,b.jsx)(g.Z,{}),onClick:function(){return t(null===n||void 0===n?void 0:n.id)}})]})}}];return(0,b.jsx)(s.Z,{loading:r,children:(0,b.jsx)(y.Z,{dataSource:n,columns:u,pagination:!1})})},F=i(10976),q=i(68197),w=i(59624),I=i(66672),P=function(e){var n=e.addNewProperty,i=e.loading,t=void 0!==i&&i,l=(0,x.$)().t,r=F.Z.useForm(),d=(0,o.Z)(r,1)[0],c=(0,u.v9)((function(e){return e.formLang}),u.wU),v=c.defaultLang,Z=c.languages;return(0,b.jsx)(s.Z,{loading:t,children:(0,b.jsx)(F.Z,{form:d,layout:"vertical",onFinish:function(e){var i={key:null===e||void 0===e?void 0:e["key[".concat(v,"]")],value:null===e||void 0===e?void 0:e["value[".concat(v,"]")]},t=Z.map((function(n){return{id:(0,a.R)(),locale:null===n||void 0===n?void 0:n.locale,key:(null===e||void 0===e?void 0:e["key[".concat(null===n||void 0===n?void 0:n.locale,"]")])||(null===i||void 0===i?void 0:i.key),value:(null===e||void 0===e?void 0:e["value[".concat(n.locale,"]")])||(null===i||void 0===i?void 0:i.value)}}));n(t),d.resetFields()},children:(0,b.jsxs)(q.Z,{gutter:12,children:[(0,b.jsx)(w.Z,{span:8,children:Z.map((function(e){return(0,b.jsx)(F.Z.Item,{label:l("key"),name:"key[".concat((null===e||void 0===e?void 0:e.locale)||"en","]"),hidden:(null===e||void 0===e?void 0:e.locale)!==v,rules:[{required:(null===e||void 0===e?void 0:e.locale)===v,message:l("required")},{type:"string",min:2,max:200,message:l("min.2.max.200.chars")}],children:(0,b.jsx)(I.Z,{})},null===e||void 0===e?void 0:e.locale)}))}),(0,b.jsx)(w.Z,{span:8,children:Z.map((function(e){return(0,b.jsx)(F.Z.Item,{label:l("value"),name:"value[".concat((null===e||void 0===e?void 0:e.locale)||"en","]"),hidden:(null===e||void 0===e?void 0:e.locale)!==v,rules:[{required:(null===e||void 0===e?void 0:e.locale)===v,message:l("required")},{type:"string",min:2,max:200,message:l("min.2.max.200.chars")}],children:(0,b.jsx)(I.Z,{})},null===e||void 0===e?void 0:e.locale)}))}),(0,b.jsx)(w.Z,{children:(0,b.jsx)(F.Z.Item,{label:" ",children:(0,b.jsx)(p.Z,{type:"primary",htmlType:"submit",children:l("add")})})})]})})})},C=function(e){var n=e.property,i=e.editProperty,t=(0,x.$)().t,l=F.Z.useForm(),u=(0,o.Z)(l,1)[0];return(0,b.jsx)(s.Z,{children:(0,b.jsx)(F.Z,{form:u,layout:"vertical",onFinish:function(e){i((0,r.Z)((0,r.Z)({},n),e))},initialValues:{key:null===n||void 0===n?void 0:n.key,value:null===n||void 0===n?void 0:n.value},children:(0,b.jsxs)(q.Z,{gutter:12,children:[(0,b.jsx)(w.Z,{span:24,children:(0,b.jsx)(F.Z.Item,{label:t("key"),name:"key",rules:[{required:!0,message:t("required")},{type:"string",min:2,max:200,message:t("min.2.max.200.chars")}],children:(0,b.jsx)(I.Z,{})})}),(0,b.jsx)(w.Z,{span:24,children:(0,b.jsx)(F.Z.Item,{label:t("value"),name:"value",rules:[{required:!0,message:t("required")},{type:"string",min:2,max:200,message:t("min.2.max.200.chars")}],children:(0,b.jsx)(I.Z,{})})}),(0,b.jsx)(w.Z,{span:24,children:(0,b.jsx)(p.Z,{type:"primary",htmlType:"submit",className:"w-100",children:t("edit")})})]})})})},U=function(e){var n,i=e.prev,y=e.next,j=e.isRequest,g=void 0!==j&&j,k=(0,x.$)().t,F=(0,f.UO)().uuid,q=(0,u.I0)(),w=(0,u.v9)((function(e){return e.formLang}),u.wU).defaultLang,I=(0,u.v9)((function(e){return e.menu}),u.wU).activeMenu,U=(0,d.useState)(g&&(null===(n=I.data)||void 0===n?void 0:n.properties)||[]),$=(0,o.Z)(U,2),L=$[0],R=$[1],T=(0,d.useState)(null),M=(0,o.Z)(T,2),N=M[0],O=M[1],_=(0,d.useState)(!1),A=(0,o.Z)(_,2),B=A[0],E=A[1],V=(0,d.useState)(!1),z=(0,o.Z)(V,2),D=z[0],G=z[1];(0,d.useEffect)((function(){g||H(F)}),[]);var H=function(e){E(!0),Z.Z.getById(e).then((function(e){var n,i;R(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.properties)||void 0===i?void 0:i.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{id:(0,a.R)()})})))})).finally((function(){E(!1)}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P,{loading:B,addNewProperty:function(e){R([].concat((0,l.Z)(L),(0,l.Z)(e)))}}),(0,b.jsx)(S,{loading:B,properties:null===L||void 0===L?void 0:L.filter((function(e){return(null===e||void 0===e?void 0:e.locale)===w})),editSelectedProperty:O,deleteProperty:function(e){c.Z.confirm({title:k("are.you.sure?"),okText:k("yes"),onOk:function(){R((function(n){return n.filter((function(n){return n.id!==e}))}))}})}}),(0,b.jsx)(s.Z,{children:(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(p.Z,{onClick:i,disabled:B,children:k("prev")}),(0,b.jsx)(p.Z,{type:"primary",onClick:function(){var e={key:[],value:[]};if(null===L||void 0===L||L.map((function(n){e.key.push((0,t.Z)({},null===n||void 0===n?void 0:n.locale,null===n||void 0===n?void 0:n.key)),e.value.push((0,t.Z)({},null===n||void 0===n?void 0:n.locale,null===n||void 0===n?void 0:n.value))})),g)return q((0,h.nc)({activeMenu:I,data:(0,r.Z)((0,r.Z)({},I.data),{},{properties:L,props:e})})),void y();G(!0),Z.Z.properties(F,e).then((function(){m.Am.success(k("successfully.updated")),y()})).finally((function(){G(!1)}))},disabled:B,loading:D,children:k("next")})]})}),!!N&&(0,b.jsx)(c.Z,{visible:!!N,onCancel:function(){O(null)},footer:!1,children:(0,b.jsx)(C,{property:N,editProperty:function(e){R((function(n){return n.map((function(n){return n.id===e.id?e:n}))})),O(null)}})})]})}}}]);